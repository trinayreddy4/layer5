{"version":3,"file":"3160-5c2a90591a9fdc693cc4.js","mappings":"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","sources":["webpack://Layer5/./node_modules/@react-icons/all-files/fa/FaUsers.js","webpack://Layer5/./node_modules/preact/hooks/dist/hooks.module.js","webpack://Layer5/./node_modules/preact/compat/dist/compat.module.js","webpack://Layer5/./node_modules/preact/dist/preact.module.js","webpack://Layer5/./node_modules/@fullcalendar/core/index.js","webpack://Layer5/./node_modules/@fullcalendar/interaction/index.js","webpack://Layer5/./node_modules/@fullcalendar/google-calendar/index.js","webpack://Layer5/./src/components/MeetInfo-Table/MeetInfoTable.style.js","webpack://Layer5/./src/components/MeetInfo-Table/index.js","webpack://Layer5/./src/sections/Community/Calendar/meetLinksData.js","webpack://Layer5/./src/sections/Community/Calendar/index.js"],"sourcesContent":["// THIS FILE IS AUTO GENERATED\nvar GenIcon = require('../lib').GenIcon;\nmodule.exports.FaUsers = function FaUsers(props) {\n  return GenIcon({\n    \"tag\": \"svg\",\n    \"attr\": {\n      \"viewBox\": \"0 0 640 512\"\n    },\n    \"child\": [{\n      \"tag\": \"path\",\n      \"attr\": {\n        \"d\": \"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z\"\n      }\n    }]\n  })(props);\n};","import { options as n } from \"preact\";\nvar t,\n  r,\n  u,\n  i,\n  o = 0,\n  f = [],\n  c = [],\n  e = n.__b,\n  a = n.__r,\n  v = n.diffed,\n  l = n.__c,\n  m = n.unmount;\nfunction d(t, u) {\n  n.__h && n.__h(r, t, o || u), o = 0;\n  var i = r.__H || (r.__H = {\n    __: [],\n    __h: []\n  });\n  return t >= i.__.length && i.__.push({\n    __V: c\n  }), i.__[t];\n}\nfunction p(n) {\n  return o = 1, y(B, n);\n}\nfunction y(n, u, i) {\n  var o = d(t++, 2);\n  if (o.t = n, !o.__c && (o.__ = [i ? i(u) : B(void 0, u), function (n) {\n    var t = o.__N ? o.__N[0] : o.__[0],\n      r = o.t(t, n);\n    t !== r && (o.__N = [r, o.__[1]], o.__c.setState({}));\n  }], o.__c = r, !r.u)) {\n    r.u = !0;\n    var f = r.shouldComponentUpdate;\n    r.shouldComponentUpdate = function (n, t, r) {\n      if (!o.__c.__H) return !0;\n      var u = o.__c.__H.__.filter(function (n) {\n        return n.__c;\n      });\n      if (u.every(function (n) {\n        return !n.__N;\n      })) return !f || f.call(this, n, t, r);\n      var i = !1;\n      return u.forEach(function (n) {\n        if (n.__N) {\n          var t = n.__[0];\n          n.__ = n.__N, n.__N = void 0, t !== n.__[0] && (i = !0);\n        }\n      }), !(!i && o.__c.props === n) && (!f || f.call(this, n, t, r));\n    };\n  }\n  return o.__N || o.__;\n}\nfunction h(u, i) {\n  var o = d(t++, 3);\n  !n.__s && z(o.__H, i) && (o.__ = u, o.i = i, r.__H.__h.push(o));\n}\nfunction s(u, i) {\n  var o = d(t++, 4);\n  !n.__s && z(o.__H, i) && (o.__ = u, o.i = i, r.__h.push(o));\n}\nfunction _(n) {\n  return o = 5, F(function () {\n    return {\n      current: n\n    };\n  }, []);\n}\nfunction A(n, t, r) {\n  o = 6, s(function () {\n    return \"function\" == typeof n ? (n(t()), function () {\n      return n(null);\n    }) : n ? (n.current = t(), function () {\n      return n.current = null;\n    }) : void 0;\n  }, null == r ? r : r.concat(n));\n}\nfunction F(n, r) {\n  var u = d(t++, 7);\n  return z(u.__H, r) ? (u.__V = n(), u.i = r, u.__h = n, u.__V) : u.__;\n}\nfunction T(n, t) {\n  return o = 8, F(function () {\n    return n;\n  }, t);\n}\nfunction q(n) {\n  var u = r.context[n.__c],\n    i = d(t++, 9);\n  return i.c = n, u ? (null == i.__ && (i.__ = !0, u.sub(r)), u.props.value) : n.__;\n}\nfunction x(t, r) {\n  n.useDebugValue && n.useDebugValue(r ? r(t) : t);\n}\nfunction P(n) {\n  var u = d(t++, 10),\n    i = p();\n  return u.__ = n, r.componentDidCatch || (r.componentDidCatch = function (n, t) {\n    u.__ && u.__(n, t), i[1](n);\n  }), [i[0], function () {\n    i[1](void 0);\n  }];\n}\nfunction V() {\n  var n = d(t++, 11);\n  if (!n.__) {\n    for (var u = r.__v; null !== u && !u.__m && null !== u.__;) u = u.__;\n    var i = u.__m || (u.__m = [0, 0]);\n    n.__ = \"P\" + i[0] + \"-\" + i[1]++;\n  }\n  return n.__;\n}\nfunction b() {\n  for (var t; t = f.shift();) if (t.__P && t.__H) try {\n    t.__H.__h.forEach(k), t.__H.__h.forEach(w), t.__H.__h = [];\n  } catch (r) {\n    t.__H.__h = [], n.__e(r, t.__v);\n  }\n}\nn.__b = function (n) {\n  r = null, e && e(n);\n}, n.__r = function (n) {\n  a && a(n), t = 0;\n  var i = (r = n.__c).__H;\n  i && (u === r ? (i.__h = [], r.__h = [], i.__.forEach(function (n) {\n    n.__N && (n.__ = n.__N), n.__V = c, n.__N = n.i = void 0;\n  })) : (i.__h.forEach(k), i.__h.forEach(w), i.__h = [])), u = r;\n}, n.diffed = function (t) {\n  v && v(t);\n  var o = t.__c;\n  o && o.__H && (o.__H.__h.length && (1 !== f.push(o) && i === n.requestAnimationFrame || ((i = n.requestAnimationFrame) || j)(b)), o.__H.__.forEach(function (n) {\n    n.i && (n.__H = n.i), n.__V !== c && (n.__ = n.__V), n.i = void 0, n.__V = c;\n  })), u = r = null;\n}, n.__c = function (t, r) {\n  r.some(function (t) {\n    try {\n      t.__h.forEach(k), t.__h = t.__h.filter(function (n) {\n        return !n.__ || w(n);\n      });\n    } catch (u) {\n      r.some(function (n) {\n        n.__h && (n.__h = []);\n      }), r = [], n.__e(u, t.__v);\n    }\n  }), l && l(t, r);\n}, n.unmount = function (t) {\n  m && m(t);\n  var r,\n    u = t.__c;\n  u && u.__H && (u.__H.__.forEach(function (n) {\n    try {\n      k(n);\n    } catch (n) {\n      r = n;\n    }\n  }), u.__H = void 0, r && n.__e(r, u.__v));\n};\nvar g = \"function\" == typeof requestAnimationFrame;\nfunction j(n) {\n  var t,\n    r = function () {\n      clearTimeout(u), g && cancelAnimationFrame(t), setTimeout(n);\n    },\n    u = setTimeout(r, 100);\n  g && (t = requestAnimationFrame(r));\n}\nfunction k(n) {\n  var t = r,\n    u = n.__c;\n  \"function\" == typeof u && (n.__c = void 0, u()), r = t;\n}\nfunction w(n) {\n  var t = r;\n  n.__c = n.__(), r = t;\n}\nfunction z(n, t) {\n  return !n || n.length !== t.length || t.some(function (t, r) {\n    return t !== n[r];\n  });\n}\nfunction B(n, t) {\n  return \"function\" == typeof t ? t(n) : t;\n}\nexport { T as useCallback, q as useContext, x as useDebugValue, h as useEffect, P as useErrorBoundary, V as useId, A as useImperativeHandle, s as useLayoutEffect, F as useMemo, y as useReducer, _ as useRef, p as useState };","import { Component as n, createElement as t, options as e, toChildArray as r, Fragment as u, render as o, hydrate as i, createContext as l, createRef as c, cloneElement as f } from \"preact\";\nexport { Component, Fragment, createContext, createElement, createRef } from \"preact\";\nimport { useState as a, useId as s, useReducer as h, useEffect as v, useLayoutEffect as d, useRef as p, useImperativeHandle as m, useMemo as y, useCallback as _, useContext as b, useDebugValue as S } from \"preact/hooks\";\nexport * from \"preact/hooks\";\nfunction g(n, t) {\n  for (var e in t) n[e] = t[e];\n  return n;\n}\nfunction C(n, t) {\n  for (var e in n) if (\"__source\" !== e && !(e in t)) return !0;\n  for (var r in t) if (\"__source\" !== r && n[r] !== t[r]) return !0;\n  return !1;\n}\nfunction E(n, t) {\n  return n === t && (0 !== n || 1 / n == 1 / t) || n != n && t != t;\n}\nfunction w(n) {\n  this.props = n;\n}\nfunction R(n, e) {\n  function r(n) {\n    var t = this.props.ref,\n      r = t == n.ref;\n    return !r && t && (t.call ? t(null) : t.current = null), e ? !e(this.props, n) || !r : C(this.props, n);\n  }\n  function u(e) {\n    return this.shouldComponentUpdate = r, t(n, e);\n  }\n  return u.displayName = \"Memo(\" + (n.displayName || n.name) + \")\", u.prototype.isReactComponent = !0, u.__f = !0, u;\n}\n(w.prototype = new n()).isPureReactComponent = !0, w.prototype.shouldComponentUpdate = function (n, t) {\n  return C(this.props, n) || C(this.state, t);\n};\nvar x = e.__b;\ne.__b = function (n) {\n  n.type && n.type.__f && n.ref && (n.props.ref = n.ref, n.ref = null), x && x(n);\n};\nvar N = \"undefined\" != typeof Symbol && Symbol.for && Symbol.for(\"react.forward_ref\") || 3911;\nfunction k(n) {\n  function t(t) {\n    var e = g({}, t);\n    return delete e.ref, n(e, t.ref || null);\n  }\n  return t.$$typeof = N, t.render = t, t.prototype.isReactComponent = t.__f = !0, t.displayName = \"ForwardRef(\" + (n.displayName || n.name) + \")\", t;\n}\nvar A = function (n, t) {\n    return null == n ? null : r(r(n).map(t));\n  },\n  O = {\n    map: A,\n    forEach: A,\n    count: function (n) {\n      return n ? r(n).length : 0;\n    },\n    only: function (n) {\n      var t = r(n);\n      if (1 !== t.length) throw \"Children.only\";\n      return t[0];\n    },\n    toArray: r\n  },\n  T = e.__e;\ne.__e = function (n, t, e, r) {\n  if (n.then) for (var u, o = t; o = o.__;) if ((u = o.__c) && u.__c) return null == t.__e && (t.__e = e.__e, t.__k = e.__k), u.__c(n, t);\n  T(n, t, e, r);\n};\nvar I = e.unmount;\nfunction L(n, t, e) {\n  return n && (n.__c && n.__c.__H && (n.__c.__H.__.forEach(function (n) {\n    \"function\" == typeof n.__c && n.__c();\n  }), n.__c.__H = null), null != (n = g({}, n)).__c && (n.__c.__P === e && (n.__c.__P = t), n.__c = null), n.__k = n.__k && n.__k.map(function (n) {\n    return L(n, t, e);\n  })), n;\n}\nfunction U(n, t, e) {\n  return n && (n.__v = null, n.__k = n.__k && n.__k.map(function (n) {\n    return U(n, t, e);\n  }), n.__c && n.__c.__P === t && (n.__e && e.insertBefore(n.__e, n.__d), n.__c.__e = !0, n.__c.__P = e)), n;\n}\nfunction D() {\n  this.__u = 0, this.t = null, this.__b = null;\n}\nfunction F(n) {\n  var t = n.__.__c;\n  return t && t.__a && t.__a(n);\n}\nfunction M(n) {\n  var e, r, u;\n  function o(o) {\n    if (e || (e = n()).then(function (n) {\n      r = n.default || n;\n    }, function (n) {\n      u = n;\n    }), u) throw u;\n    if (!r) throw e;\n    return t(r, o);\n  }\n  return o.displayName = \"Lazy\", o.__f = !0, o;\n}\nfunction V() {\n  this.u = null, this.o = null;\n}\ne.unmount = function (n) {\n  var t = n.__c;\n  t && t.__R && t.__R(), t && !0 === n.__h && (n.type = null), I && I(n);\n}, (D.prototype = new n()).__c = function (n, t) {\n  var e = t.__c,\n    r = this;\n  null == r.t && (r.t = []), r.t.push(e);\n  var u = F(r.__v),\n    o = !1,\n    i = function () {\n      o || (o = !0, e.__R = null, u ? u(l) : l());\n    };\n  e.__R = i;\n  var l = function () {\n      if (! --r.__u) {\n        if (r.state.__a) {\n          var n = r.state.__a;\n          r.__v.__k[0] = U(n, n.__c.__P, n.__c.__O);\n        }\n        var t;\n        for (r.setState({\n          __a: r.__b = null\n        }); t = r.t.pop();) t.forceUpdate();\n      }\n    },\n    c = !0 === t.__h;\n  r.__u++ || c || r.setState({\n    __a: r.__b = r.__v.__k[0]\n  }), n.then(i, i);\n}, D.prototype.componentWillUnmount = function () {\n  this.t = [];\n}, D.prototype.render = function (n, e) {\n  if (this.__b) {\n    if (this.__v.__k) {\n      var r = document.createElement(\"div\"),\n        o = this.__v.__k[0].__c;\n      this.__v.__k[0] = L(this.__b, r, o.__O = o.__P);\n    }\n    this.__b = null;\n  }\n  var i = e.__a && t(u, null, n.fallback);\n  return i && (i.__h = null), [t(u, null, e.__a ? null : n.children), i];\n};\nvar W = function (n, t, e) {\n  if (++e[1] === e[0] && n.o.delete(t), n.props.revealOrder && (\"t\" !== n.props.revealOrder[0] || !n.o.size)) for (e = n.u; e;) {\n    for (; e.length > 3;) e.pop()();\n    if (e[1] < e[0]) break;\n    n.u = e = e[2];\n  }\n};\nfunction P(n) {\n  return this.getChildContext = function () {\n    return n.context;\n  }, n.children;\n}\nfunction $(n) {\n  var e = this,\n    r = n.i;\n  e.componentWillUnmount = function () {\n    o(null, e.l), e.l = null, e.i = null;\n  }, e.i && e.i !== r && e.componentWillUnmount(), n.__v ? (e.l || (e.i = r, e.l = {\n    nodeType: 1,\n    parentNode: r,\n    childNodes: [],\n    appendChild: function (n) {\n      this.childNodes.push(n), e.i.appendChild(n);\n    },\n    insertBefore: function (n, t) {\n      this.childNodes.push(n), e.i.appendChild(n);\n    },\n    removeChild: function (n) {\n      this.childNodes.splice(this.childNodes.indexOf(n) >>> 1, 1), e.i.removeChild(n);\n    }\n  }), o(t(P, {\n    context: e.context\n  }, n.__v), e.l)) : e.l && e.componentWillUnmount();\n}\nfunction j(n, e) {\n  var r = t($, {\n    __v: n,\n    i: e\n  });\n  return r.containerInfo = e, r;\n}\n(V.prototype = new n()).__a = function (n) {\n  var t = this,\n    e = F(t.__v),\n    r = t.o.get(n);\n  return r[0]++, function (u) {\n    var o = function () {\n      t.props.revealOrder ? (r.push(u), W(t, n, r)) : u();\n    };\n    e ? e(o) : o();\n  };\n}, V.prototype.render = function (n) {\n  this.u = null, this.o = new Map();\n  var t = r(n.children);\n  n.revealOrder && \"b\" === n.revealOrder[0] && t.reverse();\n  for (var e = t.length; e--;) this.o.set(t[e], this.u = [1, 0, this.u]);\n  return n.children;\n}, V.prototype.componentDidUpdate = V.prototype.componentDidMount = function () {\n  var n = this;\n  this.o.forEach(function (t, e) {\n    W(n, e, t);\n  });\n};\nvar z = \"undefined\" != typeof Symbol && Symbol.for && Symbol.for(\"react.element\") || 60103,\n  B = /^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,\n  H = \"undefined\" != typeof document,\n  Z = function (n) {\n    return (\"undefined\" != typeof Symbol && \"symbol\" == typeof Symbol() ? /fil|che|rad/i : /fil|che|ra/i).test(n);\n  };\nfunction Y(n, t, e) {\n  return null == t.__k && (t.textContent = \"\"), o(n, t), \"function\" == typeof e && e(), n ? n.__c : null;\n}\nfunction q(n, t, e) {\n  return i(n, t), \"function\" == typeof e && e(), n ? n.__c : null;\n}\nn.prototype.isReactComponent = {}, [\"componentWillMount\", \"componentWillReceiveProps\", \"componentWillUpdate\"].forEach(function (t) {\n  Object.defineProperty(n.prototype, t, {\n    configurable: !0,\n    get: function () {\n      return this[\"UNSAFE_\" + t];\n    },\n    set: function (n) {\n      Object.defineProperty(this, t, {\n        configurable: !0,\n        writable: !0,\n        value: n\n      });\n    }\n  });\n});\nvar G = e.event;\nfunction J() {}\nfunction K() {\n  return this.cancelBubble;\n}\nfunction Q() {\n  return this.defaultPrevented;\n}\ne.event = function (n) {\n  return G && (n = G(n)), n.persist = J, n.isPropagationStopped = K, n.isDefaultPrevented = Q, n.nativeEvent = n;\n};\nvar X,\n  nn = {\n    configurable: !0,\n    get: function () {\n      return this.class;\n    }\n  },\n  tn = e.vnode;\ne.vnode = function (n) {\n  var t = n.type,\n    e = n.props,\n    u = e;\n  if (\"string\" == typeof t) {\n    var o = -1 === t.indexOf(\"-\");\n    for (var i in u = {}, e) {\n      var l = e[i];\n      H && \"children\" === i && \"noscript\" === t || \"value\" === i && \"defaultValue\" in e && null == l || (\"defaultValue\" === i && \"value\" in e && null == e.value ? i = \"value\" : \"download\" === i && !0 === l ? l = \"\" : /ondoubleclick/i.test(i) ? i = \"ondblclick\" : /^onchange(textarea|input)/i.test(i + t) && !Z(e.type) ? i = \"oninput\" : /^onfocus$/i.test(i) ? i = \"onfocusin\" : /^onblur$/i.test(i) ? i = \"onfocusout\" : /^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i) ? i = i.toLowerCase() : o && B.test(i) ? i = i.replace(/[A-Z0-9]/g, \"-$&\").toLowerCase() : null === l && (l = void 0), /^oninput$/i.test(i) && (i = i.toLowerCase(), u[i] && (i = \"oninputCapture\")), u[i] = l);\n    }\n    \"select\" == t && u.multiple && Array.isArray(u.value) && (u.value = r(e.children).forEach(function (n) {\n      n.props.selected = -1 != u.value.indexOf(n.props.value);\n    })), \"select\" == t && null != u.defaultValue && (u.value = r(e.children).forEach(function (n) {\n      n.props.selected = u.multiple ? -1 != u.defaultValue.indexOf(n.props.value) : u.defaultValue == n.props.value;\n    })), n.props = u, e.class != e.className && (nn.enumerable = \"className\" in e, null != e.className && (u.class = e.className), Object.defineProperty(u, \"className\", nn));\n  }\n  n.$$typeof = z, tn && tn(n);\n};\nvar en = e.__r;\ne.__r = function (n) {\n  en && en(n), X = n.__c;\n};\nvar rn = {\n    ReactCurrentDispatcher: {\n      current: {\n        readContext: function (n) {\n          return X.__n[n.__c].props.value;\n        }\n      }\n    }\n  },\n  un = \"17.0.2\";\nfunction on(n) {\n  return t.bind(null, n);\n}\nfunction ln(n) {\n  return !!n && n.$$typeof === z;\n}\nfunction cn(n) {\n  return ln(n) ? f.apply(null, arguments) : n;\n}\nfunction fn(n) {\n  return !!n.__k && (o(null, n), !0);\n}\nfunction an(n) {\n  return n && (n.base || 1 === n.nodeType && n) || null;\n}\nvar sn = function (n, t) {\n    return n(t);\n  },\n  hn = function (n, t) {\n    return n(t);\n  },\n  vn = u;\nfunction dn(n) {\n  n();\n}\nfunction pn(n) {\n  return n;\n}\nfunction mn() {\n  return [!1, dn];\n}\nvar yn = d;\nfunction _n(n, t) {\n  var e = t(),\n    r = a({\n      h: {\n        __: e,\n        v: t\n      }\n    }),\n    u = r[0].h,\n    o = r[1];\n  return d(function () {\n    u.__ = e, u.v = t, E(u.__, t()) || o({\n      h: u\n    });\n  }, [n, e, t]), v(function () {\n    return E(u.__, u.v()) || o({\n      h: u\n    }), n(function () {\n      E(u.__, u.v()) || o({\n        h: u\n      });\n    });\n  }, [n]), e;\n}\nvar bn = {\n  useState: a,\n  useId: s,\n  useReducer: h,\n  useEffect: v,\n  useLayoutEffect: d,\n  useInsertionEffect: yn,\n  useTransition: mn,\n  useDeferredValue: pn,\n  useSyncExternalStore: _n,\n  startTransition: dn,\n  useRef: p,\n  useImperativeHandle: m,\n  useMemo: y,\n  useCallback: _,\n  useContext: b,\n  useDebugValue: S,\n  version: \"17.0.2\",\n  Children: O,\n  render: Y,\n  hydrate: q,\n  unmountComponentAtNode: fn,\n  createPortal: j,\n  createElement: t,\n  createContext: l,\n  createFactory: on,\n  cloneElement: cn,\n  createRef: c,\n  Fragment: u,\n  isValidElement: ln,\n  findDOMNode: an,\n  Component: n,\n  PureComponent: w,\n  memo: R,\n  forwardRef: k,\n  flushSync: hn,\n  unstable_batchedUpdates: sn,\n  StrictMode: vn,\n  Suspense: D,\n  SuspenseList: V,\n  lazy: M,\n  __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED: rn\n};\nexport { O as Children, w as PureComponent, vn as StrictMode, D as Suspense, V as SuspenseList, rn as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED, cn as cloneElement, on as createFactory, j as createPortal, bn as default, an as findDOMNode, hn as flushSync, k as forwardRef, q as hydrate, ln as isValidElement, M as lazy, R as memo, Y as render, dn as startTransition, fn as unmountComponentAtNode, sn as unstable_batchedUpdates, pn as useDeferredValue, yn as useInsertionEffect, _n as useSyncExternalStore, mn as useTransition, un as version };","var n,\n  l,\n  u,\n  i,\n  t,\n  r,\n  o,\n  f,\n  e,\n  c = {},\n  s = [],\n  a = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\nfunction h(n, l) {\n  for (var u in l) n[u] = l[u];\n  return n;\n}\nfunction v(n) {\n  var l = n.parentNode;\n  l && l.removeChild(n);\n}\nfunction y(l, u, i) {\n  var t,\n    r,\n    o,\n    f = {};\n  for (o in u) \"key\" == o ? t = u[o] : \"ref\" == o ? r = u[o] : f[o] = u[o];\n  if (arguments.length > 2 && (f.children = arguments.length > 3 ? n.call(arguments, 2) : i), \"function\" == typeof l && null != l.defaultProps) for (o in l.defaultProps) void 0 === f[o] && (f[o] = l.defaultProps[o]);\n  return p(l, f, t, r, null);\n}\nfunction p(n, i, t, r, o) {\n  var f = {\n    type: n,\n    props: i,\n    key: t,\n    ref: r,\n    __k: null,\n    __: null,\n    __b: 0,\n    __e: null,\n    __d: void 0,\n    __c: null,\n    __h: null,\n    constructor: void 0,\n    __v: null == o ? ++u : o\n  };\n  return null == o && null != l.vnode && l.vnode(f), f;\n}\nfunction d() {\n  return {\n    current: null\n  };\n}\nfunction _(n) {\n  return n.children;\n}\nfunction k(n, l, u, i, t) {\n  var r;\n  for (r in u) \"children\" === r || \"key\" === r || r in l || g(n, r, null, u[r], i);\n  for (r in l) t && \"function\" != typeof l[r] || \"children\" === r || \"key\" === r || \"value\" === r || \"checked\" === r || u[r] === l[r] || g(n, r, l[r], u[r], i);\n}\nfunction b(n, l, u) {\n  \"-\" === l[0] ? n.setProperty(l, null == u ? \"\" : u) : n[l] = null == u ? \"\" : \"number\" != typeof u || a.test(l) ? u : u + \"px\";\n}\nfunction g(n, l, u, i, t) {\n  var r;\n  n: if (\"style\" === l) {\n    if (\"string\" == typeof u) n.style.cssText = u;else {\n      if (\"string\" == typeof i && (n.style.cssText = i = \"\"), i) for (l in i) u && l in u || b(n.style, l, \"\");\n      if (u) for (l in u) i && u[l] === i[l] || b(n.style, l, u[l]);\n    }\n  } else if (\"o\" === l[0] && \"n\" === l[1]) r = l !== (l = l.replace(/Capture$/, \"\")), l = l.toLowerCase() in n ? l.toLowerCase().slice(2) : l.slice(2), n.l || (n.l = {}), n.l[l + r] = u, u ? i || n.addEventListener(l, r ? w : m, r) : n.removeEventListener(l, r ? w : m, r);else if (\"dangerouslySetInnerHTML\" !== l) {\n    if (t) l = l.replace(/xlink(H|:h)/, \"h\").replace(/sName$/, \"s\");else if (\"width\" !== l && \"height\" !== l && \"href\" !== l && \"list\" !== l && \"form\" !== l && \"tabIndex\" !== l && \"download\" !== l && l in n) try {\n      n[l] = null == u ? \"\" : u;\n      break n;\n    } catch (n) {}\n    \"function\" == typeof u || (null == u || !1 === u && -1 == l.indexOf(\"-\") ? n.removeAttribute(l) : n.setAttribute(l, u));\n  }\n}\nfunction m(n) {\n  t = !0;\n  try {\n    return this.l[n.type + !1](l.event ? l.event(n) : n);\n  } finally {\n    t = !1;\n  }\n}\nfunction w(n) {\n  t = !0;\n  try {\n    return this.l[n.type + !0](l.event ? l.event(n) : n);\n  } finally {\n    t = !1;\n  }\n}\nfunction x(n, l) {\n  this.props = n, this.context = l;\n}\nfunction A(n, l) {\n  if (null == l) return n.__ ? A(n.__, n.__.__k.indexOf(n) + 1) : null;\n  for (var u; l < n.__k.length; l++) if (null != (u = n.__k[l]) && null != u.__e) return u.__e;\n  return \"function\" == typeof n.type ? A(n) : null;\n}\nfunction P(n) {\n  var l, u;\n  if (null != (n = n.__) && null != n.__c) {\n    for (n.__e = n.__c.base = null, l = 0; l < n.__k.length; l++) if (null != (u = n.__k[l]) && null != u.__e) {\n      n.__e = n.__c.base = u.__e;\n      break;\n    }\n    return P(n);\n  }\n}\nfunction C(n) {\n  t ? setTimeout(n) : f(n);\n}\nfunction T(n) {\n  (!n.__d && (n.__d = !0) && r.push(n) && !$.__r++ || o !== l.debounceRendering) && ((o = l.debounceRendering) || C)($);\n}\nfunction $() {\n  var n, l, u, i, t, o, f, e;\n  for (r.sort(function (n, l) {\n    return n.__v.__b - l.__v.__b;\n  }); n = r.shift();) n.__d && (l = r.length, i = void 0, t = void 0, f = (o = (u = n).__v).__e, (e = u.__P) && (i = [], (t = h({}, o)).__v = o.__v + 1, M(e, o, t, u.__n, void 0 !== e.ownerSVGElement, null != o.__h ? [f] : null, i, null == f ? A(o) : f, o.__h), N(i, o), o.__e != f && P(o)), r.length > l && r.sort(function (n, l) {\n    return n.__v.__b - l.__v.__b;\n  }));\n  $.__r = 0;\n}\nfunction H(n, l, u, i, t, r, o, f, e, a) {\n  var h,\n    v,\n    y,\n    d,\n    k,\n    b,\n    g,\n    m = i && i.__k || s,\n    w = m.length;\n  for (u.__k = [], h = 0; h < l.length; h++) if (null != (d = u.__k[h] = null == (d = l[h]) || \"boolean\" == typeof d ? null : \"string\" == typeof d || \"number\" == typeof d || \"bigint\" == typeof d ? p(null, d, null, null, d) : Array.isArray(d) ? p(_, {\n    children: d\n  }, null, null, null) : d.__b > 0 ? p(d.type, d.props, d.key, d.ref ? d.ref : null, d.__v) : d)) {\n    if (d.__ = u, d.__b = u.__b + 1, null === (y = m[h]) || y && d.key == y.key && d.type === y.type) m[h] = void 0;else for (v = 0; v < w; v++) {\n      if ((y = m[v]) && d.key == y.key && d.type === y.type) {\n        m[v] = void 0;\n        break;\n      }\n      y = null;\n    }\n    M(n, d, y = y || c, t, r, o, f, e, a), k = d.__e, (v = d.ref) && y.ref != v && (g || (g = []), y.ref && g.push(y.ref, null, d), g.push(v, d.__c || k, d)), null != k ? (null == b && (b = k), \"function\" == typeof d.type && d.__k === y.__k ? d.__d = e = I(d, e, n) : e = z(n, d, y, m, k, e), \"function\" == typeof u.type && (u.__d = e)) : e && y.__e == e && e.parentNode != n && (e = A(y));\n  }\n  for (u.__e = b, h = w; h--;) null != m[h] && (\"function\" == typeof u.type && null != m[h].__e && m[h].__e == u.__d && (u.__d = L(i).nextSibling), q(m[h], m[h]));\n  if (g) for (h = 0; h < g.length; h++) S(g[h], g[++h], g[++h]);\n}\nfunction I(n, l, u) {\n  for (var i, t = n.__k, r = 0; t && r < t.length; r++) (i = t[r]) && (i.__ = n, l = \"function\" == typeof i.type ? I(i, l, u) : z(u, i, i, t, i.__e, l));\n  return l;\n}\nfunction j(n, l) {\n  return l = l || [], null == n || \"boolean\" == typeof n || (Array.isArray(n) ? n.some(function (n) {\n    j(n, l);\n  }) : l.push(n)), l;\n}\nfunction z(n, l, u, i, t, r) {\n  var o, f, e;\n  if (void 0 !== l.__d) o = l.__d, l.__d = void 0;else if (null == u || t != r || null == t.parentNode) n: if (null == r || r.parentNode !== n) n.appendChild(t), o = null;else {\n    for (f = r, e = 0; (f = f.nextSibling) && e < i.length; e += 1) if (f == t) break n;\n    n.insertBefore(t, r), o = r;\n  }\n  return void 0 !== o ? o : t.nextSibling;\n}\nfunction L(n) {\n  var l, u, i;\n  if (null == n.type || \"string\" == typeof n.type) return n.__e;\n  if (n.__k) for (l = n.__k.length - 1; l >= 0; l--) if ((u = n.__k[l]) && (i = L(u))) return i;\n  return null;\n}\nfunction M(n, u, i, t, r, o, f, e, c) {\n  var s,\n    a,\n    v,\n    y,\n    p,\n    d,\n    k,\n    b,\n    g,\n    m,\n    w,\n    A,\n    P,\n    C,\n    T,\n    $ = u.type;\n  if (void 0 !== u.constructor) return null;\n  null != i.__h && (c = i.__h, e = u.__e = i.__e, u.__h = null, o = [e]), (s = l.__b) && s(u);\n  try {\n    n: if (\"function\" == typeof $) {\n      if (b = u.props, g = (s = $.contextType) && t[s.__c], m = s ? g ? g.props.value : s.__ : t, i.__c ? k = (a = u.__c = i.__c).__ = a.__E : (\"prototype\" in $ && $.prototype.render ? u.__c = a = new $(b, m) : (u.__c = a = new x(b, m), a.constructor = $, a.render = B), g && g.sub(a), a.props = b, a.state || (a.state = {}), a.context = m, a.__n = t, v = a.__d = !0, a.__h = [], a._sb = []), null == a.__s && (a.__s = a.state), null != $.getDerivedStateFromProps && (a.__s == a.state && (a.__s = h({}, a.__s)), h(a.__s, $.getDerivedStateFromProps(b, a.__s))), y = a.props, p = a.state, a.__v = u, v) null == $.getDerivedStateFromProps && null != a.componentWillMount && a.componentWillMount(), null != a.componentDidMount && a.__h.push(a.componentDidMount);else {\n        if (null == $.getDerivedStateFromProps && b !== y && null != a.componentWillReceiveProps && a.componentWillReceiveProps(b, m), !a.__e && null != a.shouldComponentUpdate && !1 === a.shouldComponentUpdate(b, a.__s, m) || u.__v === i.__v) {\n          for (u.__v !== i.__v && (a.props = b, a.state = a.__s, a.__d = !1), u.__e = i.__e, u.__k = i.__k, u.__k.forEach(function (n) {\n            n && (n.__ = u);\n          }), w = 0; w < a._sb.length; w++) a.__h.push(a._sb[w]);\n          a._sb = [], a.__h.length && f.push(a);\n          break n;\n        }\n        null != a.componentWillUpdate && a.componentWillUpdate(b, a.__s, m), null != a.componentDidUpdate && a.__h.push(function () {\n          a.componentDidUpdate(y, p, d);\n        });\n      }\n      if (a.context = m, a.props = b, a.__P = n, A = l.__r, P = 0, \"prototype\" in $ && $.prototype.render) {\n        for (a.state = a.__s, a.__d = !1, A && A(u), s = a.render(a.props, a.state, a.context), C = 0; C < a._sb.length; C++) a.__h.push(a._sb[C]);\n        a._sb = [];\n      } else do {\n        a.__d = !1, A && A(u), s = a.render(a.props, a.state, a.context), a.state = a.__s;\n      } while (a.__d && ++P < 25);\n      a.state = a.__s, null != a.getChildContext && (t = h(h({}, t), a.getChildContext())), v || null == a.getSnapshotBeforeUpdate || (d = a.getSnapshotBeforeUpdate(y, p)), T = null != s && s.type === _ && null == s.key ? s.props.children : s, H(n, Array.isArray(T) ? T : [T], u, i, t, r, o, f, e, c), a.base = u.__e, u.__h = null, a.__h.length && f.push(a), k && (a.__E = a.__ = null), a.__e = !1;\n    } else null == o && u.__v === i.__v ? (u.__k = i.__k, u.__e = i.__e) : u.__e = O(i.__e, u, i, t, r, o, f, c);\n    (s = l.diffed) && s(u);\n  } catch (n) {\n    u.__v = null, (c || null != o) && (u.__e = e, u.__h = !!c, o[o.indexOf(e)] = null), l.__e(n, u, i);\n  }\n}\nfunction N(n, u) {\n  l.__c && l.__c(u, n), n.some(function (u) {\n    try {\n      n = u.__h, u.__h = [], n.some(function (n) {\n        n.call(u);\n      });\n    } catch (n) {\n      l.__e(n, u.__v);\n    }\n  });\n}\nfunction O(l, u, i, t, r, o, f, e) {\n  var s,\n    a,\n    h,\n    y = i.props,\n    p = u.props,\n    d = u.type,\n    _ = 0;\n  if (\"svg\" === d && (r = !0), null != o) for (; _ < o.length; _++) if ((s = o[_]) && \"setAttribute\" in s == !!d && (d ? s.localName === d : 3 === s.nodeType)) {\n    l = s, o[_] = null;\n    break;\n  }\n  if (null == l) {\n    if (null === d) return document.createTextNode(p);\n    l = r ? document.createElementNS(\"http://www.w3.org/2000/svg\", d) : document.createElement(d, p.is && p), o = null, e = !1;\n  }\n  if (null === d) y === p || e && l.data === p || (l.data = p);else {\n    if (o = o && n.call(l.childNodes), a = (y = i.props || c).dangerouslySetInnerHTML, h = p.dangerouslySetInnerHTML, !e) {\n      if (null != o) for (y = {}, _ = 0; _ < l.attributes.length; _++) y[l.attributes[_].name] = l.attributes[_].value;\n      (h || a) && (h && (a && h.__html == a.__html || h.__html === l.innerHTML) || (l.innerHTML = h && h.__html || \"\"));\n    }\n    if (k(l, p, y, r, e), h) u.__k = [];else if (_ = u.props.children, H(l, Array.isArray(_) ? _ : [_], u, i, t, r && \"foreignObject\" !== d, o, f, o ? o[0] : i.__k && A(i, 0), e), null != o) for (_ = o.length; _--;) null != o[_] && v(o[_]);\n    e || (\"value\" in p && void 0 !== (_ = p.value) && (_ !== l.value || \"progress\" === d && !_ || \"option\" === d && _ !== y.value) && g(l, \"value\", _, y.value, !1), \"checked\" in p && void 0 !== (_ = p.checked) && _ !== l.checked && g(l, \"checked\", _, y.checked, !1));\n  }\n  return l;\n}\nfunction S(n, u, i) {\n  try {\n    \"function\" == typeof n ? n(u) : n.current = u;\n  } catch (n) {\n    l.__e(n, i);\n  }\n}\nfunction q(n, u, i) {\n  var t, r;\n  if (l.unmount && l.unmount(n), (t = n.ref) && (t.current && t.current !== n.__e || S(t, null, u)), null != (t = n.__c)) {\n    if (t.componentWillUnmount) try {\n      t.componentWillUnmount();\n    } catch (n) {\n      l.__e(n, u);\n    }\n    t.base = t.__P = null, n.__c = void 0;\n  }\n  if (t = n.__k) for (r = 0; r < t.length; r++) t[r] && q(t[r], u, i || \"function\" != typeof n.type);\n  i || null == n.__e || v(n.__e), n.__ = n.__e = n.__d = void 0;\n}\nfunction B(n, l, u) {\n  return this.constructor(n, u);\n}\nfunction D(u, i, t) {\n  var r, o, f;\n  l.__ && l.__(u, i), o = (r = \"function\" == typeof t) ? null : t && t.__k || i.__k, f = [], M(i, u = (!r && t || i).__k = y(_, null, [u]), o || c, c, void 0 !== i.ownerSVGElement, !r && t ? [t] : o ? null : i.firstChild ? n.call(i.childNodes) : null, f, !r && t ? t : o ? o.__e : i.firstChild, r), N(f, u);\n}\nfunction E(n, l) {\n  D(n, l, E);\n}\nfunction F(l, u, i) {\n  var t,\n    r,\n    o,\n    f = h({}, l.props);\n  for (o in u) \"key\" == o ? t = u[o] : \"ref\" == o ? r = u[o] : f[o] = u[o];\n  return arguments.length > 2 && (f.children = arguments.length > 3 ? n.call(arguments, 2) : i), p(l.type, f, t || l.key, r || l.ref, null);\n}\nfunction G(n, l) {\n  var u = {\n    __c: l = \"__cC\" + e++,\n    __: n,\n    Consumer: function (n, l) {\n      return n.children(l);\n    },\n    Provider: function (n) {\n      var u, i;\n      return this.getChildContext || (u = [], (i = {})[l] = this, this.getChildContext = function () {\n        return i;\n      }, this.shouldComponentUpdate = function (n) {\n        this.props.value !== n.value && u.some(function (n) {\n          n.__e = !0, T(n);\n        });\n      }, this.sub = function (n) {\n        u.push(n);\n        var l = n.componentWillUnmount;\n        n.componentWillUnmount = function () {\n          u.splice(u.indexOf(n), 1), l && l.call(n);\n        };\n      }), n.children;\n    }\n  };\n  return u.Provider.__ = u.Consumer.contextType = u;\n}\nn = s.slice, l = {\n  __e: function (n, l, u, i) {\n    for (var t, r, o; l = l.__;) if ((t = l.__c) && !t.__) try {\n      if ((r = t.constructor) && null != r.getDerivedStateFromError && (t.setState(r.getDerivedStateFromError(n)), o = t.__d), null != t.componentDidCatch && (t.componentDidCatch(n, i || {}), o = t.__d), o) return t.__E = t;\n    } catch (l) {\n      n = l;\n    }\n    throw n;\n  }\n}, u = 0, i = function (n) {\n  return null != n && void 0 === n.constructor;\n}, t = !1, x.prototype.setState = function (n, l) {\n  var u;\n  u = null != this.__s && this.__s !== this.state ? this.__s : this.__s = h({}, this.state), \"function\" == typeof n && (n = n(h({}, u), this.props)), n && h(u, n), null != n && this.__v && (l && this._sb.push(l), T(this));\n}, x.prototype.forceUpdate = function (n) {\n  this.__v && (this.__e = !0, n && this.__h.push(n), T(this));\n}, x.prototype.render = _, r = [], f = \"function\" == typeof Promise ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout, $.__r = 0, e = 0;\nexport { x as Component, _ as Fragment, F as cloneElement, G as createContext, y as createElement, d as createRef, y as h, E as hydrate, i as isValidElement, l as options, D as render, j as toChildArray };","import { m as mergeProps, g as guid, i as isArraysEqual, T as Theme, a as mapHash, B as BaseComponent, V as ViewContextType, C as ContentContainer, b as buildViewClassNames, c as greatestDurationDenominator, d as createDuration, e as BASE_OPTION_DEFAULTS, f as arrayToHash, h as filterHash, j as buildEventSourceRefiners, p as parseEventSource, k as formatWithOrdinals, u as unpromisify, l as buildRangeApiWithTimeZone, n as identity, r as requestJson, s as subtractDurations, o as intersectRanges, q as startOfDay, t as addDays, v as hashValuesToArray, w as buildEventApis, D as DelayedRunner, x as createFormatter, y as diffWholeDays, z as memoize, A as memoizeObjArg, E as isPropsEqual, F as Emitter, G as getInitialDate, H as rangeContainsMarker, I as createEmptyEventStore, J as reduceCurrentDate, K as reduceEventStore, L as rezoneEventStoreDates, M as mergeRawOptions, N as BASE_OPTION_REFINERS, O as CALENDAR_LISTENER_REFINERS, P as CALENDAR_OPTION_REFINERS, Q as COMPLEX_OPTION_COMPARATORS, R as VIEW_OPTION_REFINERS, S as DateEnv, U as DateProfileGenerator, W as createEventUi, X as parseBusinessHours, Y as setRef, Z as Interaction, _ as getElSeg, $ as elementClosest, a0 as EventImpl, a1 as listenBySelector, a2 as listenToHoverBySelector, a3 as PureComponent, a4 as buildViewContext, a5 as getUniqueDomId, a6 as parseInteractionSettings, a7 as interactionSettingsStore, a8 as getNow, a9 as CalendarImpl, aa as flushSync, ab as CalendarRoot, ac as RenderId, ad as ensureElHasStyles, ae as applyStyleProp, af as sliceEventStore } from './internal-common.js';\nexport { ag as JsonRequestError } from './internal-common.js';\nimport { createElement, createRef, Fragment, render } from 'preact';\nimport 'preact/compat';\nconst globalLocales = [];\nconst MINIMAL_RAW_EN_LOCALE = {\n  code: 'en',\n  week: {\n    dow: 0,\n    doy: 4 // 4 days need to be within the year to be considered the first week\n  },\n\n  direction: 'ltr',\n  buttonText: {\n    prev: 'prev',\n    next: 'next',\n    prevYear: 'prev year',\n    nextYear: 'next year',\n    year: 'year',\n    today: 'today',\n    month: 'month',\n    week: 'week',\n    day: 'day',\n    list: 'list'\n  },\n  weekText: 'W',\n  weekTextLong: 'Week',\n  closeHint: 'Close',\n  timeHint: 'Time',\n  eventHint: 'Event',\n  allDayText: 'all-day',\n  moreLinkText: 'more',\n  noEventsText: 'No events to display'\n};\nconst RAW_EN_LOCALE = Object.assign(Object.assign({}, MINIMAL_RAW_EN_LOCALE), {\n  // Includes things we don't want other locales to inherit,\n  // things that derive from other translatable strings.\n  buttonHints: {\n    prev: 'Previous $0',\n    next: 'Next $0',\n    today(buttonText, unit) {\n      return unit === 'day' ? 'Today' : \"This \".concat(buttonText);\n    }\n  },\n  viewHint: '$0 view',\n  navLinkHint: 'Go to $0',\n  moreLinkHint(eventCnt) {\n    return \"Show \".concat(eventCnt, \" more event\").concat(eventCnt === 1 ? '' : 's');\n  }\n});\nfunction organizeRawLocales(explicitRawLocales) {\n  let defaultCode = explicitRawLocales.length > 0 ? explicitRawLocales[0].code : 'en';\n  let allRawLocales = globalLocales.concat(explicitRawLocales);\n  let rawLocaleMap = {\n    en: RAW_EN_LOCALE\n  };\n  for (let rawLocale of allRawLocales) {\n    rawLocaleMap[rawLocale.code] = rawLocale;\n  }\n  return {\n    map: rawLocaleMap,\n    defaultCode\n  };\n}\nfunction buildLocale(inputSingular, available) {\n  if (typeof inputSingular === 'object' && !Array.isArray(inputSingular)) {\n    return parseLocale(inputSingular.code, [inputSingular.code], inputSingular);\n  }\n  return queryLocale(inputSingular, available);\n}\nfunction queryLocale(codeArg, available) {\n  let codes = [].concat(codeArg || []); // will convert to array\n  let raw = queryRawLocale(codes, available) || RAW_EN_LOCALE;\n  return parseLocale(codeArg, codes, raw);\n}\nfunction queryRawLocale(codes, available) {\n  for (let i = 0; i < codes.length; i += 1) {\n    let parts = codes[i].toLocaleLowerCase().split('-');\n    for (let j = parts.length; j > 0; j -= 1) {\n      let simpleId = parts.slice(0, j).join('-');\n      if (available[simpleId]) {\n        return available[simpleId];\n      }\n    }\n  }\n  return null;\n}\nfunction parseLocale(codeArg, codes, raw) {\n  let merged = mergeProps([MINIMAL_RAW_EN_LOCALE, raw], ['buttonText']);\n  delete merged.code; // don't want this part of the options\n  let {\n    week\n  } = merged;\n  delete merged.week;\n  return {\n    codeArg,\n    codes,\n    week,\n    simpleNumberFormat: new Intl.NumberFormat(codeArg),\n    options: merged\n  };\n}\n\n// TODO: easier way to add new hooks? need to update a million things\nfunction createPlugin(input) {\n  return {\n    id: guid(),\n    name: input.name,\n    premiumReleaseDate: input.premiumReleaseDate ? new Date(input.premiumReleaseDate) : undefined,\n    deps: input.deps || [],\n    reducers: input.reducers || [],\n    isLoadingFuncs: input.isLoadingFuncs || [],\n    contextInit: [].concat(input.contextInit || []),\n    eventRefiners: input.eventRefiners || {},\n    eventDefMemberAdders: input.eventDefMemberAdders || [],\n    eventSourceRefiners: input.eventSourceRefiners || {},\n    isDraggableTransformers: input.isDraggableTransformers || [],\n    eventDragMutationMassagers: input.eventDragMutationMassagers || [],\n    eventDefMutationAppliers: input.eventDefMutationAppliers || [],\n    dateSelectionTransformers: input.dateSelectionTransformers || [],\n    datePointTransforms: input.datePointTransforms || [],\n    dateSpanTransforms: input.dateSpanTransforms || [],\n    views: input.views || {},\n    viewPropsTransformers: input.viewPropsTransformers || [],\n    isPropsValid: input.isPropsValid || null,\n    externalDefTransforms: input.externalDefTransforms || [],\n    viewContainerAppends: input.viewContainerAppends || [],\n    eventDropTransformers: input.eventDropTransformers || [],\n    componentInteractions: input.componentInteractions || [],\n    calendarInteractions: input.calendarInteractions || [],\n    themeClasses: input.themeClasses || {},\n    eventSourceDefs: input.eventSourceDefs || [],\n    cmdFormatter: input.cmdFormatter,\n    recurringTypes: input.recurringTypes || [],\n    namedTimeZonedImpl: input.namedTimeZonedImpl,\n    initialView: input.initialView || '',\n    elementDraggingImpl: input.elementDraggingImpl,\n    optionChangeHandlers: input.optionChangeHandlers || {},\n    scrollGridImpl: input.scrollGridImpl || null,\n    listenerRefiners: input.listenerRefiners || {},\n    optionRefiners: input.optionRefiners || {},\n    propSetHandlers: input.propSetHandlers || {}\n  };\n}\nfunction buildPluginHooks(pluginDefs, globalDefs) {\n  let currentPluginIds = {};\n  let hooks = {\n    premiumReleaseDate: undefined,\n    reducers: [],\n    isLoadingFuncs: [],\n    contextInit: [],\n    eventRefiners: {},\n    eventDefMemberAdders: [],\n    eventSourceRefiners: {},\n    isDraggableTransformers: [],\n    eventDragMutationMassagers: [],\n    eventDefMutationAppliers: [],\n    dateSelectionTransformers: [],\n    datePointTransforms: [],\n    dateSpanTransforms: [],\n    views: {},\n    viewPropsTransformers: [],\n    isPropsValid: null,\n    externalDefTransforms: [],\n    viewContainerAppends: [],\n    eventDropTransformers: [],\n    componentInteractions: [],\n    calendarInteractions: [],\n    themeClasses: {},\n    eventSourceDefs: [],\n    cmdFormatter: null,\n    recurringTypes: [],\n    namedTimeZonedImpl: null,\n    initialView: '',\n    elementDraggingImpl: null,\n    optionChangeHandlers: {},\n    scrollGridImpl: null,\n    listenerRefiners: {},\n    optionRefiners: {},\n    propSetHandlers: {}\n  };\n  function addDefs(defs) {\n    for (let def of defs) {\n      const pluginName = def.name;\n      const currentId = currentPluginIds[pluginName];\n      if (currentId === undefined) {\n        currentPluginIds[pluginName] = def.id;\n        addDefs(def.deps);\n        hooks = combineHooks(hooks, def);\n      } else if (currentId !== def.id) {\n        // different ID than the one already added\n        console.warn(\"Duplicate plugin '\".concat(pluginName, \"'\"));\n      }\n    }\n  }\n  if (pluginDefs) {\n    addDefs(pluginDefs);\n  }\n  addDefs(globalDefs);\n  return hooks;\n}\nfunction buildBuildPluginHooks() {\n  let currentOverrideDefs = [];\n  let currentGlobalDefs = [];\n  let currentHooks;\n  return (overrideDefs, globalDefs) => {\n    if (!currentHooks || !isArraysEqual(overrideDefs, currentOverrideDefs) || !isArraysEqual(globalDefs, currentGlobalDefs)) {\n      currentHooks = buildPluginHooks(overrideDefs, globalDefs);\n    }\n    currentOverrideDefs = overrideDefs;\n    currentGlobalDefs = globalDefs;\n    return currentHooks;\n  };\n}\nfunction combineHooks(hooks0, hooks1) {\n  return {\n    premiumReleaseDate: compareOptionalDates(hooks0.premiumReleaseDate, hooks1.premiumReleaseDate),\n    reducers: hooks0.reducers.concat(hooks1.reducers),\n    isLoadingFuncs: hooks0.isLoadingFuncs.concat(hooks1.isLoadingFuncs),\n    contextInit: hooks0.contextInit.concat(hooks1.contextInit),\n    eventRefiners: Object.assign(Object.assign({}, hooks0.eventRefiners), hooks1.eventRefiners),\n    eventDefMemberAdders: hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),\n    eventSourceRefiners: Object.assign(Object.assign({}, hooks0.eventSourceRefiners), hooks1.eventSourceRefiners),\n    isDraggableTransformers: hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),\n    eventDragMutationMassagers: hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),\n    eventDefMutationAppliers: hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),\n    dateSelectionTransformers: hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),\n    datePointTransforms: hooks0.datePointTransforms.concat(hooks1.datePointTransforms),\n    dateSpanTransforms: hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),\n    views: Object.assign(Object.assign({}, hooks0.views), hooks1.views),\n    viewPropsTransformers: hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),\n    isPropsValid: hooks1.isPropsValid || hooks0.isPropsValid,\n    externalDefTransforms: hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),\n    viewContainerAppends: hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),\n    eventDropTransformers: hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),\n    calendarInteractions: hooks0.calendarInteractions.concat(hooks1.calendarInteractions),\n    componentInteractions: hooks0.componentInteractions.concat(hooks1.componentInteractions),\n    themeClasses: Object.assign(Object.assign({}, hooks0.themeClasses), hooks1.themeClasses),\n    eventSourceDefs: hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),\n    cmdFormatter: hooks1.cmdFormatter || hooks0.cmdFormatter,\n    recurringTypes: hooks0.recurringTypes.concat(hooks1.recurringTypes),\n    namedTimeZonedImpl: hooks1.namedTimeZonedImpl || hooks0.namedTimeZonedImpl,\n    initialView: hooks0.initialView || hooks1.initialView,\n    elementDraggingImpl: hooks0.elementDraggingImpl || hooks1.elementDraggingImpl,\n    optionChangeHandlers: Object.assign(Object.assign({}, hooks0.optionChangeHandlers), hooks1.optionChangeHandlers),\n    scrollGridImpl: hooks1.scrollGridImpl || hooks0.scrollGridImpl,\n    listenerRefiners: Object.assign(Object.assign({}, hooks0.listenerRefiners), hooks1.listenerRefiners),\n    optionRefiners: Object.assign(Object.assign({}, hooks0.optionRefiners), hooks1.optionRefiners),\n    propSetHandlers: Object.assign(Object.assign({}, hooks0.propSetHandlers), hooks1.propSetHandlers)\n  };\n}\nfunction compareOptionalDates(date0, date1) {\n  if (date0 === undefined) {\n    return date1;\n  }\n  if (date1 === undefined) {\n    return date0;\n  }\n  return new Date(Math.max(date0.valueOf(), date1.valueOf()));\n}\nclass StandardTheme extends Theme {}\nStandardTheme.prototype.classes = {\n  root: 'fc-theme-standard',\n  tableCellShaded: 'fc-cell-shaded',\n  buttonGroup: 'fc-button-group',\n  button: 'fc-button fc-button-primary',\n  buttonActive: 'fc-button-active'\n};\nStandardTheme.prototype.baseIconClass = 'fc-icon';\nStandardTheme.prototype.iconClasses = {\n  close: 'fc-icon-x',\n  prev: 'fc-icon-chevron-left',\n  next: 'fc-icon-chevron-right',\n  prevYear: 'fc-icon-chevrons-left',\n  nextYear: 'fc-icon-chevrons-right'\n};\nStandardTheme.prototype.rtlIconClasses = {\n  prev: 'fc-icon-chevron-right',\n  next: 'fc-icon-chevron-left',\n  prevYear: 'fc-icon-chevrons-right',\n  nextYear: 'fc-icon-chevrons-left'\n};\nStandardTheme.prototype.iconOverrideOption = 'buttonIcons'; // TODO: make TS-friendly\nStandardTheme.prototype.iconOverrideCustomButtonOption = 'icon';\nStandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\nfunction compileViewDefs(defaultConfigs, overrideConfigs) {\n  let hash = {};\n  let viewType;\n  for (viewType in defaultConfigs) {\n    ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n  }\n  for (viewType in overrideConfigs) {\n    ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n  }\n  return hash;\n}\nfunction ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n  if (hash[viewType]) {\n    return hash[viewType];\n  }\n  let viewDef = buildViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n  if (viewDef) {\n    hash[viewType] = viewDef;\n  }\n  return viewDef;\n}\nfunction buildViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n  let defaultConfig = defaultConfigs[viewType];\n  let overrideConfig = overrideConfigs[viewType];\n  let queryProp = name => defaultConfig && defaultConfig[name] !== null ? defaultConfig[name] : overrideConfig && overrideConfig[name] !== null ? overrideConfig[name] : null;\n  let theComponent = queryProp('component');\n  let superType = queryProp('superType');\n  let superDef = null;\n  if (superType) {\n    if (superType === viewType) {\n      throw new Error('Can\\'t have a custom view type that references itself');\n    }\n    superDef = ensureViewDef(superType, hash, defaultConfigs, overrideConfigs);\n  }\n  if (!theComponent && superDef) {\n    theComponent = superDef.component;\n  }\n  if (!theComponent) {\n    return null; // don't throw a warning, might be settings for a single-unit view\n  }\n\n  return {\n    type: viewType,\n    component: theComponent,\n    defaults: Object.assign(Object.assign({}, superDef ? superDef.defaults : {}), defaultConfig ? defaultConfig.rawOptions : {}),\n    overrides: Object.assign(Object.assign({}, superDef ? superDef.overrides : {}), overrideConfig ? overrideConfig.rawOptions : {})\n  };\n}\nfunction parseViewConfigs(inputs) {\n  return mapHash(inputs, parseViewConfig);\n}\nfunction parseViewConfig(input) {\n  let rawOptions = typeof input === 'function' ? {\n    component: input\n  } : input;\n  let {\n    component\n  } = rawOptions;\n  if (rawOptions.content) {\n    // TODO: remove content/classNames/didMount/etc from options?\n    component = createViewHookComponent(rawOptions);\n  } else if (component && !(component.prototype instanceof BaseComponent)) {\n    // WHY?: people were using `component` property for `content`\n    // TODO: converge on one setting name\n    component = createViewHookComponent(Object.assign(Object.assign({}, rawOptions), {\n      content: component\n    }));\n  }\n  return {\n    superType: rawOptions.type,\n    component: component,\n    rawOptions // includes type and component too :(\n  };\n}\n\nfunction createViewHookComponent(options) {\n  return viewProps => createElement(ViewContextType.Consumer, null, context => createElement(ContentContainer, {\n    elTag: \"div\",\n    elClasses: buildViewClassNames(context.viewSpec),\n    renderProps: Object.assign(Object.assign({}, viewProps), {\n      nextDayThreshold: context.options.nextDayThreshold\n    }),\n    generatorName: undefined,\n    customGenerator: options.content,\n    classNameGenerator: options.classNames,\n    didMount: options.didMount,\n    willUnmount: options.willUnmount\n  }));\n}\nfunction buildViewSpecs(defaultInputs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n  let defaultConfigs = parseViewConfigs(defaultInputs);\n  let overrideConfigs = parseViewConfigs(optionOverrides.views);\n  let viewDefs = compileViewDefs(defaultConfigs, overrideConfigs);\n  return mapHash(viewDefs, viewDef => buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults));\n}\nfunction buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n  let durationInput = viewDef.overrides.duration || viewDef.defaults.duration || dynamicOptionOverrides.duration || optionOverrides.duration;\n  let duration = null;\n  let durationUnit = '';\n  let singleUnit = '';\n  let singleUnitOverrides = {};\n  if (durationInput) {\n    duration = createDurationCached(durationInput);\n    if (duration) {\n      // valid?\n      let denom = greatestDurationDenominator(duration);\n      durationUnit = denom.unit;\n      if (denom.value === 1) {\n        singleUnit = durationUnit;\n        singleUnitOverrides = overrideConfigs[durationUnit] ? overrideConfigs[durationUnit].rawOptions : {};\n      }\n    }\n  }\n  let queryButtonText = optionsSubset => {\n    let buttonTextMap = optionsSubset.buttonText || {};\n    let buttonTextKey = viewDef.defaults.buttonTextKey;\n    if (buttonTextKey != null && buttonTextMap[buttonTextKey] != null) {\n      return buttonTextMap[buttonTextKey];\n    }\n    if (buttonTextMap[viewDef.type] != null) {\n      return buttonTextMap[viewDef.type];\n    }\n    if (buttonTextMap[singleUnit] != null) {\n      return buttonTextMap[singleUnit];\n    }\n    return null;\n  };\n  let queryButtonTitle = optionsSubset => {\n    let buttonHints = optionsSubset.buttonHints || {};\n    let buttonKey = viewDef.defaults.buttonTextKey; // use same key as text\n    if (buttonKey != null && buttonHints[buttonKey] != null) {\n      return buttonHints[buttonKey];\n    }\n    if (buttonHints[viewDef.type] != null) {\n      return buttonHints[viewDef.type];\n    }\n    if (buttonHints[singleUnit] != null) {\n      return buttonHints[singleUnit];\n    }\n    return null;\n  };\n  return {\n    type: viewDef.type,\n    component: viewDef.component,\n    duration,\n    durationUnit,\n    singleUnit,\n    optionDefaults: viewDef.defaults,\n    optionOverrides: Object.assign(Object.assign({}, singleUnitOverrides), viewDef.overrides),\n    buttonTextOverride: queryButtonText(dynamicOptionOverrides) || queryButtonText(optionOverrides) ||\n    // constructor-specified buttonText lookup hash takes precedence\n    viewDef.overrides.buttonText,\n    buttonTextDefault: queryButtonText(localeDefaults) || viewDef.defaults.buttonText || queryButtonText(BASE_OPTION_DEFAULTS) || viewDef.type,\n    // not DRY\n    buttonTitleOverride: queryButtonTitle(dynamicOptionOverrides) || queryButtonTitle(optionOverrides) || viewDef.overrides.buttonHint,\n    buttonTitleDefault: queryButtonTitle(localeDefaults) || viewDef.defaults.buttonHint || queryButtonTitle(BASE_OPTION_DEFAULTS)\n    // will eventually fall back to buttonText\n  };\n}\n// hack to get memoization working\nlet durationInputMap = {};\nfunction createDurationCached(durationInput) {\n  let json = JSON.stringify(durationInput);\n  let res = durationInputMap[json];\n  if (res === undefined) {\n    res = createDuration(durationInput);\n    durationInputMap[json] = res;\n  }\n  return res;\n}\nfunction reduceViewType(viewType, action) {\n  switch (action.type) {\n    case 'CHANGE_VIEW_TYPE':\n      viewType = action.viewType;\n  }\n  return viewType;\n}\nfunction reduceDynamicOptionOverrides(dynamicOptionOverrides, action) {\n  switch (action.type) {\n    case 'SET_OPTION':\n      return Object.assign(Object.assign({}, dynamicOptionOverrides), {\n        [action.optionName]: action.rawOptionValue\n      });\n    default:\n      return dynamicOptionOverrides;\n  }\n}\nfunction reduceDateProfile(currentDateProfile, action, currentDate, dateProfileGenerator) {\n  let dp;\n  switch (action.type) {\n    case 'CHANGE_VIEW_TYPE':\n      return dateProfileGenerator.build(action.dateMarker || currentDate);\n    case 'CHANGE_DATE':\n      return dateProfileGenerator.build(action.dateMarker);\n    case 'PREV':\n      dp = dateProfileGenerator.buildPrev(currentDateProfile, currentDate);\n      if (dp.isValid) {\n        return dp;\n      }\n      break;\n    case 'NEXT':\n      dp = dateProfileGenerator.buildNext(currentDateProfile, currentDate);\n      if (dp.isValid) {\n        return dp;\n      }\n      break;\n  }\n  return currentDateProfile;\n}\nfunction initEventSources(calendarOptions, dateProfile, context) {\n  let activeRange = dateProfile ? dateProfile.activeRange : null;\n  return addSources({}, parseInitialSources(calendarOptions, context), activeRange, context);\n}\nfunction reduceEventSources(eventSources, action, dateProfile, context) {\n  let activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n  switch (action.type) {\n    case 'ADD_EVENT_SOURCES':\n      // already parsed\n      return addSources(eventSources, action.sources, activeRange, context);\n    case 'REMOVE_EVENT_SOURCE':\n      return removeSource(eventSources, action.sourceId);\n    case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n    case 'NEXT':\n    case 'CHANGE_DATE':\n    case 'CHANGE_VIEW_TYPE':\n      if (dateProfile) {\n        return fetchDirtySources(eventSources, activeRange, context);\n      }\n      return eventSources;\n    case 'FETCH_EVENT_SOURCES':\n      return fetchSourcesByIds(eventSources, action.sourceIds ?\n      // why no type?\n      arrayToHash(action.sourceIds) : excludeStaticSources(eventSources, context), activeRange, action.isRefetch || false, context);\n    case 'RECEIVE_EVENTS':\n    case 'RECEIVE_EVENT_ERROR':\n      return receiveResponse(eventSources, action.sourceId, action.fetchId, action.fetchRange);\n    case 'REMOVE_ALL_EVENT_SOURCES':\n      return {};\n    default:\n      return eventSources;\n  }\n}\nfunction reduceEventSourcesNewTimeZone(eventSources, dateProfile, context) {\n  let activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n  return fetchSourcesByIds(eventSources, excludeStaticSources(eventSources, context), activeRange, true, context);\n}\nfunction computeEventSourcesLoading(eventSources) {\n  for (let sourceId in eventSources) {\n    if (eventSources[sourceId].isFetching) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction addSources(eventSourceHash, sources, fetchRange, context) {\n  let hash = {};\n  for (let source of sources) {\n    hash[source.sourceId] = source;\n  }\n  if (fetchRange) {\n    hash = fetchDirtySources(hash, fetchRange, context);\n  }\n  return Object.assign(Object.assign({}, eventSourceHash), hash);\n}\nfunction removeSource(eventSourceHash, sourceId) {\n  return filterHash(eventSourceHash, eventSource => eventSource.sourceId !== sourceId);\n}\nfunction fetchDirtySources(sourceHash, fetchRange, context) {\n  return fetchSourcesByIds(sourceHash, filterHash(sourceHash, eventSource => isSourceDirty(eventSource, fetchRange, context)), fetchRange, false, context);\n}\nfunction isSourceDirty(eventSource, fetchRange, context) {\n  if (!doesSourceNeedRange(eventSource, context)) {\n    return !eventSource.latestFetchId;\n  }\n  return !context.options.lazyFetching || !eventSource.fetchRange || eventSource.isFetching ||\n  // always cancel outdated in-progress fetches\n  fetchRange.start < eventSource.fetchRange.start || fetchRange.end > eventSource.fetchRange.end;\n}\nfunction fetchSourcesByIds(prevSources, sourceIdHash, fetchRange, isRefetch, context) {\n  let nextSources = {};\n  for (let sourceId in prevSources) {\n    let source = prevSources[sourceId];\n    if (sourceIdHash[sourceId]) {\n      nextSources[sourceId] = fetchSource(source, fetchRange, isRefetch, context);\n    } else {\n      nextSources[sourceId] = source;\n    }\n  }\n  return nextSources;\n}\nfunction fetchSource(eventSource, fetchRange, isRefetch, context) {\n  let {\n    options,\n    calendarApi\n  } = context;\n  let sourceDef = context.pluginHooks.eventSourceDefs[eventSource.sourceDefId];\n  let fetchId = guid();\n  sourceDef.fetch({\n    eventSource,\n    range: fetchRange,\n    isRefetch,\n    context\n  }, res => {\n    let {\n      rawEvents\n    } = res;\n    if (options.eventSourceSuccess) {\n      rawEvents = options.eventSourceSuccess.call(calendarApi, rawEvents, res.response) || rawEvents;\n    }\n    if (eventSource.success) {\n      rawEvents = eventSource.success.call(calendarApi, rawEvents, res.response) || rawEvents;\n    }\n    context.dispatch({\n      type: 'RECEIVE_EVENTS',\n      sourceId: eventSource.sourceId,\n      fetchId,\n      fetchRange,\n      rawEvents\n    });\n  }, error => {\n    let errorHandled = false;\n    if (options.eventSourceFailure) {\n      options.eventSourceFailure.call(calendarApi, error);\n      errorHandled = true;\n    }\n    if (eventSource.failure) {\n      eventSource.failure(error);\n      errorHandled = true;\n    }\n    if (!errorHandled) {\n      console.warn(error.message, error);\n    }\n    context.dispatch({\n      type: 'RECEIVE_EVENT_ERROR',\n      sourceId: eventSource.sourceId,\n      fetchId,\n      fetchRange,\n      error\n    });\n  });\n  return Object.assign(Object.assign({}, eventSource), {\n    isFetching: true,\n    latestFetchId: fetchId\n  });\n}\nfunction receiveResponse(sourceHash, sourceId, fetchId, fetchRange) {\n  let eventSource = sourceHash[sourceId];\n  if (eventSource &&\n  // not already removed\n  fetchId === eventSource.latestFetchId) {\n    return Object.assign(Object.assign({}, sourceHash), {\n      [sourceId]: Object.assign(Object.assign({}, eventSource), {\n        isFetching: false,\n        fetchRange\n      })\n    });\n  }\n  return sourceHash;\n}\nfunction excludeStaticSources(eventSources, context) {\n  return filterHash(eventSources, eventSource => doesSourceNeedRange(eventSource, context));\n}\nfunction parseInitialSources(rawOptions, context) {\n  let refiners = buildEventSourceRefiners(context);\n  let rawSources = [].concat(rawOptions.eventSources || []);\n  let sources = []; // parsed\n  if (rawOptions.initialEvents) {\n    rawSources.unshift(rawOptions.initialEvents);\n  }\n  if (rawOptions.events) {\n    rawSources.unshift(rawOptions.events);\n  }\n  for (let rawSource of rawSources) {\n    let source = parseEventSource(rawSource, context, refiners);\n    if (source) {\n      sources.push(source);\n    }\n  }\n  return sources;\n}\nfunction doesSourceNeedRange(eventSource, context) {\n  let defs = context.pluginHooks.eventSourceDefs;\n  return !defs[eventSource.sourceDefId].ignoreRange;\n}\nfunction reduceDateSelection(currentSelection, action) {\n  switch (action.type) {\n    case 'UNSELECT_DATES':\n      return null;\n    case 'SELECT_DATES':\n      return action.selection;\n    default:\n      return currentSelection;\n  }\n}\nfunction reduceSelectedEvent(currentInstanceId, action) {\n  switch (action.type) {\n    case 'UNSELECT_EVENT':\n      return '';\n    case 'SELECT_EVENT':\n      return action.eventInstanceId;\n    default:\n      return currentInstanceId;\n  }\n}\nfunction reduceEventDrag(currentDrag, action) {\n  let newDrag;\n  switch (action.type) {\n    case 'UNSET_EVENT_DRAG':\n      return null;\n    case 'SET_EVENT_DRAG':\n      newDrag = action.state;\n      return {\n        affectedEvents: newDrag.affectedEvents,\n        mutatedEvents: newDrag.mutatedEvents,\n        isEvent: newDrag.isEvent\n      };\n    default:\n      return currentDrag;\n  }\n}\nfunction reduceEventResize(currentResize, action) {\n  let newResize;\n  switch (action.type) {\n    case 'UNSET_EVENT_RESIZE':\n      return null;\n    case 'SET_EVENT_RESIZE':\n      newResize = action.state;\n      return {\n        affectedEvents: newResize.affectedEvents,\n        mutatedEvents: newResize.mutatedEvents,\n        isEvent: newResize.isEvent\n      };\n    default:\n      return currentResize;\n  }\n}\nfunction parseToolbars(calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n  let header = calendarOptions.headerToolbar ? parseToolbar(calendarOptions.headerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n  let footer = calendarOptions.footerToolbar ? parseToolbar(calendarOptions.footerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n  return {\n    header,\n    footer\n  };\n}\nfunction parseToolbar(sectionStrHash, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n  let sectionWidgets = {};\n  let viewsWithButtons = [];\n  let hasTitle = false;\n  for (let sectionName in sectionStrHash) {\n    let sectionStr = sectionStrHash[sectionName];\n    let sectionRes = parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi);\n    sectionWidgets[sectionName] = sectionRes.widgets;\n    viewsWithButtons.push(...sectionRes.viewsWithButtons);\n    hasTitle = hasTitle || sectionRes.hasTitle;\n  }\n  return {\n    sectionWidgets,\n    viewsWithButtons,\n    hasTitle\n  };\n}\n/*\nBAD: querying icons and text here. should be done at render time\n*/\nfunction parseSection(sectionStr, calendarOptions,\n// defaults+overrides, then refined\ncalendarOptionOverrides,\n// overrides only!, unrefined :(\ntheme, viewSpecs, calendarApi) {\n  let isRtl = calendarOptions.direction === 'rtl';\n  let calendarCustomButtons = calendarOptions.customButtons || {};\n  let calendarButtonTextOverrides = calendarOptionOverrides.buttonText || {};\n  let calendarButtonText = calendarOptions.buttonText || {};\n  let calendarButtonHintOverrides = calendarOptionOverrides.buttonHints || {};\n  let calendarButtonHints = calendarOptions.buttonHints || {};\n  let sectionSubstrs = sectionStr ? sectionStr.split(' ') : [];\n  let viewsWithButtons = [];\n  let hasTitle = false;\n  let widgets = sectionSubstrs.map(buttonGroupStr => buttonGroupStr.split(',').map(buttonName => {\n    if (buttonName === 'title') {\n      hasTitle = true;\n      return {\n        buttonName\n      };\n    }\n    let customButtonProps;\n    let viewSpec;\n    let buttonClick;\n    let buttonIcon; // only one of these will be set\n    let buttonText; // \"\n    let buttonHint;\n    // ^ for the title=\"\" attribute, for accessibility\n    if (customButtonProps = calendarCustomButtons[buttonName]) {\n      buttonClick = ev => {\n        if (customButtonProps.click) {\n          customButtonProps.click.call(ev.target, ev, ev.target); // TODO: use Calendar this context?\n        }\n      };\n\n      (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) || (buttonIcon = theme.getIconClass(buttonName, isRtl)) || (buttonText = customButtonProps.text);\n      buttonHint = customButtonProps.hint || customButtonProps.text;\n    } else if (viewSpec = viewSpecs[buttonName]) {\n      viewsWithButtons.push(buttonName);\n      buttonClick = () => {\n        calendarApi.changeView(buttonName);\n      };\n      (buttonText = viewSpec.buttonTextOverride) || (buttonIcon = theme.getIconClass(buttonName, isRtl)) || (buttonText = viewSpec.buttonTextDefault);\n      let textFallback = viewSpec.buttonTextOverride || viewSpec.buttonTextDefault;\n      buttonHint = formatWithOrdinals(viewSpec.buttonTitleOverride || viewSpec.buttonTitleDefault || calendarOptions.viewHint, [textFallback, buttonName],\n      // view-name = buttonName\n      textFallback);\n    } else if (calendarApi[buttonName]) {\n      // a calendarApi method\n      buttonClick = () => {\n        calendarApi[buttonName]();\n      };\n      (buttonText = calendarButtonTextOverrides[buttonName]) || (buttonIcon = theme.getIconClass(buttonName, isRtl)) || (buttonText = calendarButtonText[buttonName]); // everything else is considered default\n      if (buttonName === 'prevYear' || buttonName === 'nextYear') {\n        let prevOrNext = buttonName === 'prevYear' ? 'prev' : 'next';\n        buttonHint = formatWithOrdinals(calendarButtonHintOverrides[prevOrNext] || calendarButtonHints[prevOrNext], [calendarButtonText.year || 'year', 'year'], calendarButtonText[buttonName]);\n      } else {\n        buttonHint = navUnit => formatWithOrdinals(calendarButtonHintOverrides[buttonName] || calendarButtonHints[buttonName], [calendarButtonText[navUnit] || navUnit, navUnit], calendarButtonText[buttonName]);\n      }\n    }\n    return {\n      buttonName,\n      buttonClick,\n      buttonIcon,\n      buttonText,\n      buttonHint\n    };\n  }));\n  return {\n    widgets,\n    viewsWithButtons,\n    hasTitle\n  };\n}\n\n// always represents the current view. otherwise, it'd need to change value every time date changes\nclass ViewImpl {\n  constructor(type, getCurrentData, dateEnv) {\n    this.type = type;\n    this.getCurrentData = getCurrentData;\n    this.dateEnv = dateEnv;\n  }\n  get calendar() {\n    return this.getCurrentData().calendarApi;\n  }\n  get title() {\n    return this.getCurrentData().viewTitle;\n  }\n  get activeStart() {\n    return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start);\n  }\n  get activeEnd() {\n    return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end);\n  }\n  get currentStart() {\n    return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start);\n  }\n  get currentEnd() {\n    return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end);\n  }\n  getOption(name) {\n    return this.getCurrentData().options[name]; // are the view-specific options\n  }\n}\n\nlet eventSourceDef$2 = {\n  ignoreRange: true,\n  parseMeta(refined) {\n    if (Array.isArray(refined.events)) {\n      return refined.events;\n    }\n    return null;\n  },\n  fetch(arg, successCallback) {\n    successCallback({\n      rawEvents: arg.eventSource.meta\n    });\n  }\n};\nconst arrayEventSourcePlugin = createPlugin({\n  name: 'array-event-source',\n  eventSourceDefs: [eventSourceDef$2]\n});\nlet eventSourceDef$1 = {\n  parseMeta(refined) {\n    if (typeof refined.events === 'function') {\n      return refined.events;\n    }\n    return null;\n  },\n  fetch(arg, successCallback, errorCallback) {\n    const {\n      dateEnv\n    } = arg.context;\n    const func = arg.eventSource.meta;\n    unpromisify(func.bind(null, buildRangeApiWithTimeZone(arg.range, dateEnv)), rawEvents => successCallback({\n      rawEvents\n    }), errorCallback);\n  }\n};\nconst funcEventSourcePlugin = createPlugin({\n  name: 'func-event-source',\n  eventSourceDefs: [eventSourceDef$1]\n});\nconst JSON_FEED_EVENT_SOURCE_REFINERS = {\n  method: String,\n  extraParams: identity,\n  startParam: String,\n  endParam: String,\n  timeZoneParam: String\n};\nlet eventSourceDef = {\n  parseMeta(refined) {\n    if (refined.url && (refined.format === 'json' || !refined.format)) {\n      return {\n        url: refined.url,\n        format: 'json',\n        method: (refined.method || 'GET').toUpperCase(),\n        extraParams: refined.extraParams,\n        startParam: refined.startParam,\n        endParam: refined.endParam,\n        timeZoneParam: refined.timeZoneParam\n      };\n    }\n    return null;\n  },\n  fetch(arg, successCallback, errorCallback) {\n    const {\n      meta\n    } = arg.eventSource;\n    const requestParams = buildRequestParams(meta, arg.range, arg.context);\n    requestJson(meta.method, meta.url, requestParams).then(_ref => {\n      let [rawEvents, response] = _ref;\n      successCallback({\n        rawEvents,\n        response\n      });\n    }, errorCallback);\n  }\n};\nconst jsonFeedEventSourcePlugin = createPlugin({\n  name: 'json-event-source',\n  eventSourceRefiners: JSON_FEED_EVENT_SOURCE_REFINERS,\n  eventSourceDefs: [eventSourceDef]\n});\nfunction buildRequestParams(meta, range, context) {\n  let {\n    dateEnv,\n    options\n  } = context;\n  let startParam;\n  let endParam;\n  let timeZoneParam;\n  let customRequestParams;\n  let params = {};\n  startParam = meta.startParam;\n  if (startParam == null) {\n    startParam = options.startParam;\n  }\n  endParam = meta.endParam;\n  if (endParam == null) {\n    endParam = options.endParam;\n  }\n  timeZoneParam = meta.timeZoneParam;\n  if (timeZoneParam == null) {\n    timeZoneParam = options.timeZoneParam;\n  }\n  // retrieve any outbound GET/POST data from the options\n  if (typeof meta.extraParams === 'function') {\n    // supplied as a function that returns a key/value object\n    customRequestParams = meta.extraParams();\n  } else {\n    // probably supplied as a straight key/value object\n    customRequestParams = meta.extraParams || {};\n  }\n  Object.assign(params, customRequestParams);\n  params[startParam] = dateEnv.formatIso(range.start);\n  params[endParam] = dateEnv.formatIso(range.end);\n  if (dateEnv.timeZone !== 'local') {\n    params[timeZoneParam] = dateEnv.timeZone;\n  }\n  return params;\n}\nconst SIMPLE_RECURRING_REFINERS = {\n  daysOfWeek: identity,\n  startTime: createDuration,\n  endTime: createDuration,\n  duration: createDuration,\n  startRecur: identity,\n  endRecur: identity\n};\nlet recurring = {\n  parse(refined, dateEnv) {\n    if (refined.daysOfWeek || refined.startTime || refined.endTime || refined.startRecur || refined.endRecur) {\n      let recurringData = {\n        daysOfWeek: refined.daysOfWeek || null,\n        startTime: refined.startTime || null,\n        endTime: refined.endTime || null,\n        startRecur: refined.startRecur ? dateEnv.createMarker(refined.startRecur) : null,\n        endRecur: refined.endRecur ? dateEnv.createMarker(refined.endRecur) : null\n      };\n      let duration;\n      if (refined.duration) {\n        duration = refined.duration;\n      }\n      if (!duration && refined.startTime && refined.endTime) {\n        duration = subtractDurations(refined.endTime, refined.startTime);\n      }\n      return {\n        allDayGuess: Boolean(!refined.startTime && !refined.endTime),\n        duration,\n        typeData: recurringData // doesn't need endTime anymore but oh well\n      };\n    }\n\n    return null;\n  },\n  expand(typeData, framingRange, dateEnv) {\n    let clippedFramingRange = intersectRanges(framingRange, {\n      start: typeData.startRecur,\n      end: typeData.endRecur\n    });\n    if (clippedFramingRange) {\n      return expandRanges(typeData.daysOfWeek, typeData.startTime, clippedFramingRange, dateEnv);\n    }\n    return [];\n  }\n};\nconst simpleRecurringEventsPlugin = createPlugin({\n  name: 'simple-recurring-event',\n  recurringTypes: [recurring],\n  eventRefiners: SIMPLE_RECURRING_REFINERS\n});\nfunction expandRanges(daysOfWeek, startTime, framingRange, dateEnv) {\n  let dowHash = daysOfWeek ? arrayToHash(daysOfWeek) : null;\n  let dayMarker = startOfDay(framingRange.start);\n  let endMarker = framingRange.end;\n  let instanceStarts = [];\n  while (dayMarker < endMarker) {\n    let instanceStart;\n    // if everyday, or this particular day-of-week\n    if (!dowHash || dowHash[dayMarker.getUTCDay()]) {\n      if (startTime) {\n        instanceStart = dateEnv.add(dayMarker, startTime);\n      } else {\n        instanceStart = dayMarker;\n      }\n      instanceStarts.push(instanceStart);\n    }\n    dayMarker = addDays(dayMarker, 1);\n  }\n  return instanceStarts;\n}\nconst changeHandlerPlugin = createPlugin({\n  name: 'change-handler',\n  optionChangeHandlers: {\n    events(events, context) {\n      handleEventSources([events], context);\n    },\n    eventSources: handleEventSources\n  }\n});\n/*\nBUG: if `event` was supplied, all previously-given `eventSources` will be wiped out\n*/\nfunction handleEventSources(inputs, context) {\n  let unfoundSources = hashValuesToArray(context.getCurrentData().eventSources);\n  if (unfoundSources.length === 1 && inputs.length === 1 && Array.isArray(unfoundSources[0]._raw) && Array.isArray(inputs[0])) {\n    context.dispatch({\n      type: 'RESET_RAW_EVENTS',\n      sourceId: unfoundSources[0].sourceId,\n      rawEvents: inputs[0]\n    });\n    return;\n  }\n  let newInputs = [];\n  for (let input of inputs) {\n    let inputFound = false;\n    for (let i = 0; i < unfoundSources.length; i += 1) {\n      if (unfoundSources[i]._raw === input) {\n        unfoundSources.splice(i, 1); // delete\n        inputFound = true;\n        break;\n      }\n    }\n    if (!inputFound) {\n      newInputs.push(input);\n    }\n  }\n  for (let unfoundSource of unfoundSources) {\n    context.dispatch({\n      type: 'REMOVE_EVENT_SOURCE',\n      sourceId: unfoundSource.sourceId\n    });\n  }\n  for (let newInput of newInputs) {\n    context.calendarApi.addEventSource(newInput);\n  }\n}\nfunction handleDateProfile(dateProfile, context) {\n  context.emitter.trigger('datesSet', Object.assign(Object.assign({}, buildRangeApiWithTimeZone(dateProfile.activeRange, context.dateEnv)), {\n    view: context.viewApi\n  }));\n}\nfunction handleEventStore(eventStore, context) {\n  let {\n    emitter\n  } = context;\n  if (emitter.hasHandlers('eventsSet')) {\n    emitter.trigger('eventsSet', buildEventApis(eventStore, context));\n  }\n}\n\n/*\nthis array is exposed on the root namespace so that UMD plugins can add to it.\nsee the rollup-bundles script.\n*/\nconst globalPlugins = [arrayEventSourcePlugin, funcEventSourcePlugin, jsonFeedEventSourcePlugin, simpleRecurringEventsPlugin, changeHandlerPlugin, createPlugin({\n  name: 'misc',\n  isLoadingFuncs: [state => computeEventSourcesLoading(state.eventSources)],\n  propSetHandlers: {\n    dateProfile: handleDateProfile,\n    eventStore: handleEventStore\n  }\n})];\nclass TaskRunner {\n  constructor(runTaskOption, drainedOption) {\n    this.runTaskOption = runTaskOption;\n    this.drainedOption = drainedOption;\n    this.queue = [];\n    this.delayedRunner = new DelayedRunner(this.drain.bind(this));\n  }\n  request(task, delay) {\n    this.queue.push(task);\n    this.delayedRunner.request(delay);\n  }\n  pause(scope) {\n    this.delayedRunner.pause(scope);\n  }\n  resume(scope, force) {\n    this.delayedRunner.resume(scope, force);\n  }\n  drain() {\n    let {\n      queue\n    } = this;\n    while (queue.length) {\n      let completedTasks = [];\n      let task;\n      while (task = queue.shift()) {\n        this.runTask(task);\n        completedTasks.push(task);\n      }\n      this.drained(completedTasks);\n    } // keep going, in case new tasks were added in the drained handler\n  }\n\n  runTask(task) {\n    if (this.runTaskOption) {\n      this.runTaskOption(task);\n    }\n  }\n  drained(completedTasks) {\n    if (this.drainedOption) {\n      this.drainedOption(completedTasks);\n    }\n  }\n}\n\n// Computes what the title at the top of the calendarApi should be for this view\nfunction buildTitle(dateProfile, viewOptions, dateEnv) {\n  let range;\n  // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\n  if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\n    range = dateProfile.currentRange;\n  } else {\n    // for day units or smaller, use the actual day range\n    range = dateProfile.activeRange;\n  }\n  return dateEnv.formatRange(range.start, range.end, createFormatter(viewOptions.titleFormat || buildTitleFormat(dateProfile)), {\n    isEndExclusive: dateProfile.isRangeAllDay,\n    defaultSeparator: viewOptions.titleRangeSeparator\n  });\n}\n// Generates the format string that should be used to generate the title for the current date range.\n// Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\nfunction buildTitleFormat(dateProfile) {\n  let {\n    currentRangeUnit\n  } = dateProfile;\n  if (currentRangeUnit === 'year') {\n    return {\n      year: 'numeric'\n    };\n  }\n  if (currentRangeUnit === 'month') {\n    return {\n      year: 'numeric',\n      month: 'long'\n    }; // like \"September 2014\"\n  }\n\n  let days = diffWholeDays(dateProfile.currentRange.start, dateProfile.currentRange.end);\n  if (days !== null && days > 1) {\n    // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n    return {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    };\n  }\n  // one day. longer, like \"September 9 2014\"\n  return {\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric'\n  };\n}\n\n// in future refactor, do the redux-style function(state=initial) for initial-state\n// also, whatever is happening in constructor, have it happen in action queue too\nclass CalendarDataManager {\n  constructor(props) {\n    this.computeCurrentViewData = memoize(this._computeCurrentViewData);\n    this.organizeRawLocales = memoize(organizeRawLocales);\n    this.buildLocale = memoize(buildLocale);\n    this.buildPluginHooks = buildBuildPluginHooks();\n    this.buildDateEnv = memoize(buildDateEnv$1);\n    this.buildTheme = memoize(buildTheme);\n    this.parseToolbars = memoize(parseToolbars);\n    this.buildViewSpecs = memoize(buildViewSpecs);\n    this.buildDateProfileGenerator = memoizeObjArg(buildDateProfileGenerator);\n    this.buildViewApi = memoize(buildViewApi);\n    this.buildViewUiProps = memoizeObjArg(buildViewUiProps);\n    this.buildEventUiBySource = memoize(buildEventUiBySource, isPropsEqual);\n    this.buildEventUiBases = memoize(buildEventUiBases);\n    this.parseContextBusinessHours = memoizeObjArg(parseContextBusinessHours);\n    this.buildTitle = memoize(buildTitle);\n    this.emitter = new Emitter();\n    this.actionRunner = new TaskRunner(this._handleAction.bind(this), this.updateData.bind(this));\n    this.currentCalendarOptionsInput = {};\n    this.currentCalendarOptionsRefined = {};\n    this.currentViewOptionsInput = {};\n    this.currentViewOptionsRefined = {};\n    this.currentCalendarOptionsRefiners = {};\n    this.optionsForRefining = [];\n    this.optionsForHandling = [];\n    this.getCurrentData = () => this.data;\n    this.dispatch = action => {\n      this.actionRunner.request(action); // protects against recursive calls to _handleAction\n    };\n\n    this.props = props;\n    this.actionRunner.pause();\n    let dynamicOptionOverrides = {};\n    let optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n    let currentViewType = optionsData.calendarOptions.initialView || optionsData.pluginHooks.initialView;\n    let currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n    // wire things up\n    // TODO: not DRY\n    props.calendarApi.currentDataManager = this;\n    this.emitter.setThisContext(props.calendarApi);\n    this.emitter.setOptions(currentViewData.options);\n    let currentDate = getInitialDate(optionsData.calendarOptions, optionsData.dateEnv);\n    let dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n    if (!rangeContainsMarker(dateProfile.activeRange, currentDate)) {\n      currentDate = dateProfile.currentRange.start;\n    }\n    let calendarContext = {\n      dateEnv: optionsData.dateEnv,\n      options: optionsData.calendarOptions,\n      pluginHooks: optionsData.pluginHooks,\n      calendarApi: props.calendarApi,\n      dispatch: this.dispatch,\n      emitter: this.emitter,\n      getCurrentData: this.getCurrentData\n    };\n    // needs to be after setThisContext\n    for (let callback of optionsData.pluginHooks.contextInit) {\n      callback(calendarContext);\n    }\n    // NOT DRY\n    let eventSources = initEventSources(optionsData.calendarOptions, dateProfile, calendarContext);\n    let initialState = {\n      dynamicOptionOverrides,\n      currentViewType,\n      currentDate,\n      dateProfile,\n      businessHours: this.parseContextBusinessHours(calendarContext),\n      eventSources,\n      eventUiBases: {},\n      eventStore: createEmptyEventStore(),\n      renderableEventStore: createEmptyEventStore(),\n      dateSelection: null,\n      eventSelection: '',\n      eventDrag: null,\n      eventResize: null,\n      selectionConfig: this.buildViewUiProps(calendarContext).selectionConfig\n    };\n    let contextAndState = Object.assign(Object.assign({}, calendarContext), initialState);\n    for (let reducer of optionsData.pluginHooks.reducers) {\n      Object.assign(initialState, reducer(null, null, contextAndState));\n    }\n    if (computeIsLoading(initialState, calendarContext)) {\n      this.emitter.trigger('loading', true); // NOT DRY\n    }\n\n    this.state = initialState;\n    this.updateData();\n    this.actionRunner.resume();\n  }\n  resetOptions(optionOverrides, changedOptionNames) {\n    let {\n      props\n    } = this;\n    if (changedOptionNames === undefined) {\n      props.optionOverrides = optionOverrides;\n    } else {\n      props.optionOverrides = Object.assign(Object.assign({}, props.optionOverrides || {}), optionOverrides);\n      this.optionsForRefining.push(...changedOptionNames);\n    }\n    if (changedOptionNames === undefined || changedOptionNames.length) {\n      this.actionRunner.request({\n        type: 'NOTHING'\n      });\n    }\n  }\n  _handleAction(action) {\n    let {\n      props,\n      state,\n      emitter\n    } = this;\n    let dynamicOptionOverrides = reduceDynamicOptionOverrides(state.dynamicOptionOverrides, action);\n    let optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n    let currentViewType = reduceViewType(state.currentViewType, action);\n    let currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n    // wire things up\n    // TODO: not DRY\n    props.calendarApi.currentDataManager = this;\n    emitter.setThisContext(props.calendarApi);\n    emitter.setOptions(currentViewData.options);\n    let calendarContext = {\n      dateEnv: optionsData.dateEnv,\n      options: optionsData.calendarOptions,\n      pluginHooks: optionsData.pluginHooks,\n      calendarApi: props.calendarApi,\n      dispatch: this.dispatch,\n      emitter,\n      getCurrentData: this.getCurrentData\n    };\n    let {\n      currentDate,\n      dateProfile\n    } = state;\n    if (this.data && this.data.dateProfileGenerator !== currentViewData.dateProfileGenerator) {\n      // hack\n      dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n    }\n    currentDate = reduceCurrentDate(currentDate, action);\n    dateProfile = reduceDateProfile(dateProfile, action, currentDate, currentViewData.dateProfileGenerator);\n    if (action.type === 'PREV' ||\n    // TODO: move this logic into DateProfileGenerator\n    action.type === 'NEXT' ||\n    // \"\n    !rangeContainsMarker(dateProfile.currentRange, currentDate)) {\n      currentDate = dateProfile.currentRange.start;\n    }\n    let eventSources = reduceEventSources(state.eventSources, action, dateProfile, calendarContext);\n    let eventStore = reduceEventStore(state.eventStore, action, eventSources, dateProfile, calendarContext);\n    let isEventsLoading = computeEventSourcesLoading(eventSources); // BAD. also called in this func in computeIsLoading\n    let renderableEventStore = isEventsLoading && !currentViewData.options.progressiveEventRendering ? state.renderableEventStore || eventStore :\n    // try from previous state\n    eventStore;\n    let {\n      eventUiSingleBase,\n      selectionConfig\n    } = this.buildViewUiProps(calendarContext); // will memoize obj\n    let eventUiBySource = this.buildEventUiBySource(eventSources);\n    let eventUiBases = this.buildEventUiBases(renderableEventStore.defs, eventUiSingleBase, eventUiBySource);\n    let newState = {\n      dynamicOptionOverrides,\n      currentViewType,\n      currentDate,\n      dateProfile,\n      eventSources,\n      eventStore,\n      renderableEventStore,\n      selectionConfig,\n      eventUiBases,\n      businessHours: this.parseContextBusinessHours(calendarContext),\n      dateSelection: reduceDateSelection(state.dateSelection, action),\n      eventSelection: reduceSelectedEvent(state.eventSelection, action),\n      eventDrag: reduceEventDrag(state.eventDrag, action),\n      eventResize: reduceEventResize(state.eventResize, action)\n    };\n    let contextAndState = Object.assign(Object.assign({}, calendarContext), newState);\n    for (let reducer of optionsData.pluginHooks.reducers) {\n      Object.assign(newState, reducer(state, action, contextAndState)); // give the OLD state, for old value\n    }\n\n    let wasLoading = computeIsLoading(state, calendarContext);\n    let isLoading = computeIsLoading(newState, calendarContext);\n    // TODO: use propSetHandlers in plugin system\n    if (!wasLoading && isLoading) {\n      emitter.trigger('loading', true);\n    } else if (wasLoading && !isLoading) {\n      emitter.trigger('loading', false);\n    }\n    this.state = newState;\n    if (props.onAction) {\n      props.onAction(action);\n    }\n  }\n  updateData() {\n    let {\n      props,\n      state\n    } = this;\n    let oldData = this.data;\n    let optionsData = this.computeOptionsData(props.optionOverrides, state.dynamicOptionOverrides, props.calendarApi);\n    let currentViewData = this.computeCurrentViewData(state.currentViewType, optionsData, props.optionOverrides, state.dynamicOptionOverrides);\n    let data = this.data = Object.assign(Object.assign(Object.assign({\n      viewTitle: this.buildTitle(state.dateProfile, currentViewData.options, optionsData.dateEnv),\n      calendarApi: props.calendarApi,\n      dispatch: this.dispatch,\n      emitter: this.emitter,\n      getCurrentData: this.getCurrentData\n    }, optionsData), currentViewData), state);\n    let changeHandlers = optionsData.pluginHooks.optionChangeHandlers;\n    let oldCalendarOptions = oldData && oldData.calendarOptions;\n    let newCalendarOptions = optionsData.calendarOptions;\n    if (oldCalendarOptions && oldCalendarOptions !== newCalendarOptions) {\n      if (oldCalendarOptions.timeZone !== newCalendarOptions.timeZone) {\n        // hack\n        state.eventSources = data.eventSources = reduceEventSourcesNewTimeZone(data.eventSources, state.dateProfile, data);\n        state.eventStore = data.eventStore = rezoneEventStoreDates(data.eventStore, oldData.dateEnv, data.dateEnv);\n        state.renderableEventStore = data.renderableEventStore = rezoneEventStoreDates(data.renderableEventStore, oldData.dateEnv, data.dateEnv);\n      }\n      for (let optionName in changeHandlers) {\n        if (this.optionsForHandling.indexOf(optionName) !== -1 || oldCalendarOptions[optionName] !== newCalendarOptions[optionName]) {\n          changeHandlers[optionName](newCalendarOptions[optionName], data);\n        }\n      }\n    }\n    this.optionsForHandling = [];\n    if (props.onData) {\n      props.onData(data);\n    }\n  }\n  computeOptionsData(optionOverrides, dynamicOptionOverrides, calendarApi) {\n    // TODO: blacklist options that are handled by optionChangeHandlers\n    if (!this.optionsForRefining.length && optionOverrides === this.stableOptionOverrides && dynamicOptionOverrides === this.stableDynamicOptionOverrides) {\n      return this.stableCalendarOptionsData;\n    }\n    let {\n      refinedOptions,\n      pluginHooks,\n      localeDefaults,\n      availableLocaleData,\n      extra\n    } = this.processRawCalendarOptions(optionOverrides, dynamicOptionOverrides);\n    warnUnknownOptions(extra);\n    let dateEnv = this.buildDateEnv(refinedOptions.timeZone, refinedOptions.locale, refinedOptions.weekNumberCalculation, refinedOptions.firstDay, refinedOptions.weekText, pluginHooks, availableLocaleData, refinedOptions.defaultRangeSeparator);\n    let viewSpecs = this.buildViewSpecs(pluginHooks.views, this.stableOptionOverrides, this.stableDynamicOptionOverrides, localeDefaults);\n    let theme = this.buildTheme(refinedOptions, pluginHooks);\n    let toolbarConfig = this.parseToolbars(refinedOptions, this.stableOptionOverrides, theme, viewSpecs, calendarApi);\n    return this.stableCalendarOptionsData = {\n      calendarOptions: refinedOptions,\n      pluginHooks,\n      dateEnv,\n      viewSpecs,\n      theme,\n      toolbarConfig,\n      localeDefaults,\n      availableRawLocales: availableLocaleData.map\n    };\n  }\n  // always called from behind a memoizer\n  processRawCalendarOptions(optionOverrides, dynamicOptionOverrides) {\n    let {\n      locales,\n      locale\n    } = mergeRawOptions([BASE_OPTION_DEFAULTS, optionOverrides, dynamicOptionOverrides]);\n    let availableLocaleData = this.organizeRawLocales(locales);\n    let availableRawLocales = availableLocaleData.map;\n    let localeDefaults = this.buildLocale(locale || availableLocaleData.defaultCode, availableRawLocales).options;\n    let pluginHooks = this.buildPluginHooks(optionOverrides.plugins || [], globalPlugins);\n    let refiners = this.currentCalendarOptionsRefiners = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n    let extra = {};\n    let raw = mergeRawOptions([BASE_OPTION_DEFAULTS, localeDefaults, optionOverrides, dynamicOptionOverrides]);\n    let refined = {};\n    let currentRaw = this.currentCalendarOptionsInput;\n    let currentRefined = this.currentCalendarOptionsRefined;\n    let anyChanges = false;\n    for (let optionName in raw) {\n      if (this.optionsForRefining.indexOf(optionName) === -1 && (raw[optionName] === currentRaw[optionName] || COMPLEX_OPTION_COMPARATORS[optionName] && optionName in currentRaw && COMPLEX_OPTION_COMPARATORS[optionName](currentRaw[optionName], raw[optionName]))) {\n        refined[optionName] = currentRefined[optionName];\n      } else if (refiners[optionName]) {\n        refined[optionName] = refiners[optionName](raw[optionName]);\n        anyChanges = true;\n      } else {\n        extra[optionName] = currentRaw[optionName];\n      }\n    }\n    if (anyChanges) {\n      this.currentCalendarOptionsInput = raw;\n      this.currentCalendarOptionsRefined = refined;\n      this.stableOptionOverrides = optionOverrides;\n      this.stableDynamicOptionOverrides = dynamicOptionOverrides;\n    }\n    this.optionsForHandling.push(...this.optionsForRefining);\n    this.optionsForRefining = [];\n    return {\n      rawOptions: this.currentCalendarOptionsInput,\n      refinedOptions: this.currentCalendarOptionsRefined,\n      pluginHooks,\n      availableLocaleData,\n      localeDefaults,\n      extra\n    };\n  }\n  _computeCurrentViewData(viewType, optionsData, optionOverrides, dynamicOptionOverrides) {\n    let viewSpec = optionsData.viewSpecs[viewType];\n    if (!viewSpec) {\n      throw new Error(\"viewType \\\"\".concat(viewType, \"\\\" is not available. Please make sure you've loaded all neccessary plugins\"));\n    }\n    let {\n      refinedOptions,\n      extra\n    } = this.processRawViewOptions(viewSpec, optionsData.pluginHooks, optionsData.localeDefaults, optionOverrides, dynamicOptionOverrides);\n    warnUnknownOptions(extra);\n    let dateProfileGenerator = this.buildDateProfileGenerator({\n      dateProfileGeneratorClass: viewSpec.optionDefaults.dateProfileGeneratorClass,\n      duration: viewSpec.duration,\n      durationUnit: viewSpec.durationUnit,\n      usesMinMaxTime: viewSpec.optionDefaults.usesMinMaxTime,\n      dateEnv: optionsData.dateEnv,\n      calendarApi: this.props.calendarApi,\n      slotMinTime: refinedOptions.slotMinTime,\n      slotMaxTime: refinedOptions.slotMaxTime,\n      showNonCurrentDates: refinedOptions.showNonCurrentDates,\n      dayCount: refinedOptions.dayCount,\n      dateAlignment: refinedOptions.dateAlignment,\n      dateIncrement: refinedOptions.dateIncrement,\n      hiddenDays: refinedOptions.hiddenDays,\n      weekends: refinedOptions.weekends,\n      nowInput: refinedOptions.now,\n      validRangeInput: refinedOptions.validRange,\n      visibleRangeInput: refinedOptions.visibleRange,\n      fixedWeekCount: refinedOptions.fixedWeekCount\n    });\n    let viewApi = this.buildViewApi(viewType, this.getCurrentData, optionsData.dateEnv);\n    return {\n      viewSpec,\n      options: refinedOptions,\n      dateProfileGenerator,\n      viewApi\n    };\n  }\n  processRawViewOptions(viewSpec, pluginHooks, localeDefaults, optionOverrides, dynamicOptionOverrides) {\n    let raw = mergeRawOptions([BASE_OPTION_DEFAULTS, viewSpec.optionDefaults, localeDefaults, optionOverrides, viewSpec.optionOverrides, dynamicOptionOverrides]);\n    let refiners = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), VIEW_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n    let refined = {};\n    let currentRaw = this.currentViewOptionsInput;\n    let currentRefined = this.currentViewOptionsRefined;\n    let anyChanges = false;\n    let extra = {};\n    for (let optionName in raw) {\n      if (raw[optionName] === currentRaw[optionName] || COMPLEX_OPTION_COMPARATORS[optionName] && COMPLEX_OPTION_COMPARATORS[optionName](raw[optionName], currentRaw[optionName])) {\n        refined[optionName] = currentRefined[optionName];\n      } else {\n        if (raw[optionName] === this.currentCalendarOptionsInput[optionName] || COMPLEX_OPTION_COMPARATORS[optionName] && COMPLEX_OPTION_COMPARATORS[optionName](raw[optionName], this.currentCalendarOptionsInput[optionName])) {\n          if (optionName in this.currentCalendarOptionsRefined) {\n            // might be an \"extra\" prop\n            refined[optionName] = this.currentCalendarOptionsRefined[optionName];\n          }\n        } else if (refiners[optionName]) {\n          refined[optionName] = refiners[optionName](raw[optionName]);\n        } else {\n          extra[optionName] = raw[optionName];\n        }\n        anyChanges = true;\n      }\n    }\n    if (anyChanges) {\n      this.currentViewOptionsInput = raw;\n      this.currentViewOptionsRefined = refined;\n    }\n    return {\n      rawOptions: this.currentViewOptionsInput,\n      refinedOptions: this.currentViewOptionsRefined,\n      extra\n    };\n  }\n}\nfunction buildDateEnv$1(timeZone, explicitLocale, weekNumberCalculation, firstDay, weekText, pluginHooks, availableLocaleData, defaultSeparator) {\n  let locale = buildLocale(explicitLocale || availableLocaleData.defaultCode, availableLocaleData.map);\n  return new DateEnv({\n    calendarSystem: 'gregory',\n    timeZone,\n    namedTimeZoneImpl: pluginHooks.namedTimeZonedImpl,\n    locale,\n    weekNumberCalculation,\n    firstDay,\n    weekText,\n    cmdFormatter: pluginHooks.cmdFormatter,\n    defaultSeparator\n  });\n}\nfunction buildTheme(options, pluginHooks) {\n  let ThemeClass = pluginHooks.themeClasses[options.themeSystem] || StandardTheme;\n  return new ThemeClass(options);\n}\nfunction buildDateProfileGenerator(props) {\n  let DateProfileGeneratorClass = props.dateProfileGeneratorClass || DateProfileGenerator;\n  return new DateProfileGeneratorClass(props);\n}\nfunction buildViewApi(type, getCurrentData, dateEnv) {\n  return new ViewImpl(type, getCurrentData, dateEnv);\n}\nfunction buildEventUiBySource(eventSources) {\n  return mapHash(eventSources, eventSource => eventSource.ui);\n}\nfunction buildEventUiBases(eventDefs, eventUiSingleBase, eventUiBySource) {\n  let eventUiBases = {\n    '': eventUiSingleBase\n  };\n  for (let defId in eventDefs) {\n    let def = eventDefs[defId];\n    if (def.sourceId && eventUiBySource[def.sourceId]) {\n      eventUiBases[defId] = eventUiBySource[def.sourceId];\n    }\n  }\n  return eventUiBases;\n}\nfunction buildViewUiProps(calendarContext) {\n  let {\n    options\n  } = calendarContext;\n  return {\n    eventUiSingleBase: createEventUi({\n      display: options.eventDisplay,\n      editable: options.editable,\n      startEditable: options.eventStartEditable,\n      durationEditable: options.eventDurationEditable,\n      constraint: options.eventConstraint,\n      overlap: typeof options.eventOverlap === 'boolean' ? options.eventOverlap : undefined,\n      allow: options.eventAllow,\n      backgroundColor: options.eventBackgroundColor,\n      borderColor: options.eventBorderColor,\n      textColor: options.eventTextColor,\n      color: options.eventColor\n      // classNames: options.eventClassNames // render hook will handle this\n    }, calendarContext),\n    selectionConfig: createEventUi({\n      constraint: options.selectConstraint,\n      overlap: typeof options.selectOverlap === 'boolean' ? options.selectOverlap : undefined,\n      allow: options.selectAllow\n    }, calendarContext)\n  };\n}\nfunction computeIsLoading(state, context) {\n  for (let isLoadingFunc of context.pluginHooks.isLoadingFuncs) {\n    if (isLoadingFunc(state)) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction parseContextBusinessHours(calendarContext) {\n  return parseBusinessHours(calendarContext.options.businessHours, calendarContext);\n}\nfunction warnUnknownOptions(options, viewName) {\n  for (let optionName in options) {\n    console.warn(\"Unknown option '\".concat(optionName, \"'\") + (viewName ? \" for view '\".concat(viewName, \"'\") : ''));\n  }\n}\nclass ToolbarSection extends BaseComponent {\n  render() {\n    let children = this.props.widgetGroups.map(widgetGroup => this.renderWidgetGroup(widgetGroup));\n    return createElement('div', {\n      className: 'fc-toolbar-chunk'\n    }, ...children);\n  }\n  renderWidgetGroup(widgetGroup) {\n    let {\n      props\n    } = this;\n    let {\n      theme\n    } = this.context;\n    let children = [];\n    let isOnlyButtons = true;\n    for (let widget of widgetGroup) {\n      let {\n        buttonName,\n        buttonClick,\n        buttonText,\n        buttonIcon,\n        buttonHint\n      } = widget;\n      if (buttonName === 'title') {\n        isOnlyButtons = false;\n        children.push(createElement(\"h2\", {\n          className: \"fc-toolbar-title\",\n          id: props.titleId\n        }, props.title));\n      } else {\n        let isPressed = buttonName === props.activeButton;\n        let isDisabled = !props.isTodayEnabled && buttonName === 'today' || !props.isPrevEnabled && buttonName === 'prev' || !props.isNextEnabled && buttonName === 'next';\n        let buttonClasses = [\"fc-\".concat(buttonName, \"-button\"), theme.getClass('button')];\n        if (isPressed) {\n          buttonClasses.push(theme.getClass('buttonActive'));\n        }\n        children.push(createElement(\"button\", {\n          type: \"button\",\n          title: typeof buttonHint === 'function' ? buttonHint(props.navUnit) : buttonHint,\n          disabled: isDisabled,\n          \"aria-pressed\": isPressed,\n          className: buttonClasses.join(' '),\n          onClick: buttonClick\n        }, buttonText || (buttonIcon ? createElement(\"span\", {\n          className: buttonIcon\n        }) : '')));\n      }\n    }\n    if (children.length > 1) {\n      let groupClassName = isOnlyButtons && theme.getClass('buttonGroup') || '';\n      return createElement('div', {\n        className: groupClassName\n      }, ...children);\n    }\n    return children[0];\n  }\n}\nclass Toolbar extends BaseComponent {\n  render() {\n    let {\n      model,\n      extraClassName\n    } = this.props;\n    let forceLtr = false;\n    let startContent;\n    let endContent;\n    let sectionWidgets = model.sectionWidgets;\n    let centerContent = sectionWidgets.center;\n    if (sectionWidgets.left) {\n      forceLtr = true;\n      startContent = sectionWidgets.left;\n    } else {\n      startContent = sectionWidgets.start;\n    }\n    if (sectionWidgets.right) {\n      forceLtr = true;\n      endContent = sectionWidgets.right;\n    } else {\n      endContent = sectionWidgets.end;\n    }\n    let classNames = [extraClassName || '', 'fc-toolbar', forceLtr ? 'fc-toolbar-ltr' : ''];\n    return createElement(\"div\", {\n      className: classNames.join(' ')\n    }, this.renderSection('start', startContent || []), this.renderSection('center', centerContent || []), this.renderSection('end', endContent || []));\n  }\n  renderSection(key, widgetGroups) {\n    let {\n      props\n    } = this;\n    return createElement(ToolbarSection, {\n      key: key,\n      widgetGroups: widgetGroups,\n      title: props.title,\n      navUnit: props.navUnit,\n      activeButton: props.activeButton,\n      isTodayEnabled: props.isTodayEnabled,\n      isPrevEnabled: props.isPrevEnabled,\n      isNextEnabled: props.isNextEnabled,\n      titleId: props.titleId\n    });\n  }\n}\nclass ViewHarness extends BaseComponent {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      availableWidth: null\n    };\n    this.handleEl = el => {\n      this.el = el;\n      setRef(this.props.elRef, el);\n      this.updateAvailableWidth();\n    };\n    this.handleResize = () => {\n      this.updateAvailableWidth();\n    };\n  }\n  render() {\n    let {\n      props,\n      state\n    } = this;\n    let {\n      aspectRatio\n    } = props;\n    let classNames = ['fc-view-harness', aspectRatio || props.liquid || props.height ? 'fc-view-harness-active' // harness controls the height\n    : 'fc-view-harness-passive' // let the view do the height\n    ];\n\n    let height = '';\n    let paddingBottom = '';\n    if (aspectRatio) {\n      if (state.availableWidth !== null) {\n        height = state.availableWidth / aspectRatio;\n      } else {\n        // while waiting to know availableWidth, we can't set height to *zero*\n        // because will cause lots of unnecessary scrollbars within scrollgrid.\n        // BETTER: don't start rendering ANYTHING yet until we know container width\n        // NOTE: why not always use paddingBottom? Causes height oscillation (issue 5606)\n        paddingBottom = \"\".concat(1 / aspectRatio * 100, \"%\");\n      }\n    } else {\n      height = props.height || '';\n    }\n    return createElement(\"div\", {\n      \"aria-labelledby\": props.labeledById,\n      ref: this.handleEl,\n      className: classNames.join(' '),\n      style: {\n        height,\n        paddingBottom\n      }\n    }, props.children);\n  }\n  componentDidMount() {\n    this.context.addResizeHandler(this.handleResize);\n  }\n  componentWillUnmount() {\n    this.context.removeResizeHandler(this.handleResize);\n  }\n  updateAvailableWidth() {\n    if (this.el &&\n    // needed. but why?\n    this.props.aspectRatio // aspectRatio is the only height setting that needs availableWidth\n    ) {\n      this.setState({\n        availableWidth: this.el.offsetWidth\n      });\n    }\n  }\n}\n\n/*\nDetects when the user clicks on an event within a DateComponent\n*/\nclass EventClicking extends Interaction {\n  constructor(settings) {\n    super(settings);\n    this.handleSegClick = (ev, segEl) => {\n      let {\n        component\n      } = this;\n      let {\n        context\n      } = component;\n      let seg = getElSeg(segEl);\n      if (seg &&\n      // might be the <div> surrounding the more link\n      component.isValidSegDownEl(ev.target)) {\n        // our way to simulate a link click for elements that can't be <a> tags\n        // grab before trigger fired in case trigger trashes DOM thru rerendering\n        let hasUrlContainer = elementClosest(ev.target, '.fc-event-forced-url');\n        let url = hasUrlContainer ? hasUrlContainer.querySelector('a[href]').href : '';\n        context.emitter.trigger('eventClick', {\n          el: segEl,\n          event: new EventImpl(component.context, seg.eventRange.def, seg.eventRange.instance),\n          jsEvent: ev,\n          view: context.viewApi\n        });\n        if (url && !ev.defaultPrevented) {\n          window.location.href = url;\n        }\n      }\n    };\n    this.destroy = listenBySelector(settings.el, 'click', '.fc-event',\n    // on both fg and bg events\n    this.handleSegClick);\n  }\n}\n\n/*\nTriggers events and adds/removes core classNames when the user's pointer\nenters/leaves event-elements of a component.\n*/\nclass EventHovering extends Interaction {\n  constructor(settings) {\n    super(settings);\n    // for simulating an eventMouseLeave when the event el is destroyed while mouse is over it\n    this.handleEventElRemove = el => {\n      if (el === this.currentSegEl) {\n        this.handleSegLeave(null, this.currentSegEl);\n      }\n    };\n    this.handleSegEnter = (ev, segEl) => {\n      if (getElSeg(segEl)) {\n        // TODO: better way to make sure not hovering over more+ link or its wrapper\n        this.currentSegEl = segEl;\n        this.triggerEvent('eventMouseEnter', ev, segEl);\n      }\n    };\n    this.handleSegLeave = (ev, segEl) => {\n      if (this.currentSegEl) {\n        this.currentSegEl = null;\n        this.triggerEvent('eventMouseLeave', ev, segEl);\n      }\n    };\n    this.removeHoverListeners = listenToHoverBySelector(settings.el, '.fc-event',\n    // on both fg and bg events\n    this.handleSegEnter, this.handleSegLeave);\n  }\n  destroy() {\n    this.removeHoverListeners();\n  }\n  triggerEvent(publicEvName, ev, segEl) {\n    let {\n      component\n    } = this;\n    let {\n      context\n    } = component;\n    let seg = getElSeg(segEl);\n    if (!ev || component.isValidSegDownEl(ev.target)) {\n      context.emitter.trigger(publicEvName, {\n        el: segEl,\n        event: new EventImpl(context, seg.eventRange.def, seg.eventRange.instance),\n        jsEvent: ev,\n        view: context.viewApi\n      });\n    }\n  }\n}\nclass CalendarContent extends PureComponent {\n  constructor() {\n    super(...arguments);\n    this.buildViewContext = memoize(buildViewContext);\n    this.buildViewPropTransformers = memoize(buildViewPropTransformers);\n    this.buildToolbarProps = memoize(buildToolbarProps);\n    this.headerRef = createRef();\n    this.footerRef = createRef();\n    this.interactionsStore = {};\n    // eslint-disable-next-line\n    this.state = {\n      viewLabelId: getUniqueDomId()\n    };\n    // Component Registration\n    // -----------------------------------------------------------------------------------------------------------------\n    this.registerInteractiveComponent = (component, settingsInput) => {\n      let settings = parseInteractionSettings(component, settingsInput);\n      let DEFAULT_INTERACTIONS = [EventClicking, EventHovering];\n      let interactionClasses = DEFAULT_INTERACTIONS.concat(this.props.pluginHooks.componentInteractions);\n      let interactions = interactionClasses.map(TheInteractionClass => new TheInteractionClass(settings));\n      this.interactionsStore[component.uid] = interactions;\n      interactionSettingsStore[component.uid] = settings;\n    };\n    this.unregisterInteractiveComponent = component => {\n      let listeners = this.interactionsStore[component.uid];\n      if (listeners) {\n        for (let listener of listeners) {\n          listener.destroy();\n        }\n        delete this.interactionsStore[component.uid];\n      }\n      delete interactionSettingsStore[component.uid];\n    };\n    // Resizing\n    // -----------------------------------------------------------------------------------------------------------------\n    this.resizeRunner = new DelayedRunner(() => {\n      this.props.emitter.trigger('_resize', true); // should window resizes be considered \"forced\" ?\n      this.props.emitter.trigger('windowResize', {\n        view: this.props.viewApi\n      });\n    });\n    this.handleWindowResize = ev => {\n      let {\n        options\n      } = this.props;\n      if (options.handleWindowResize && ev.target === window // avoid jqui events\n      ) {\n        this.resizeRunner.request(options.windowResizeDelay);\n      }\n    };\n  }\n  /*\n  renders INSIDE of an outer div\n  */\n  render() {\n    let {\n      props\n    } = this;\n    let {\n      toolbarConfig,\n      options\n    } = props;\n    let toolbarProps = this.buildToolbarProps(props.viewSpec, props.dateProfile, props.dateProfileGenerator, props.currentDate, getNow(props.options.now, props.dateEnv),\n    // TODO: use NowTimer????\n    props.viewTitle);\n    let viewVGrow = false;\n    let viewHeight = '';\n    let viewAspectRatio;\n    if (props.isHeightAuto || props.forPrint) {\n      viewHeight = '';\n    } else if (options.height != null) {\n      viewVGrow = true;\n    } else if (options.contentHeight != null) {\n      viewHeight = options.contentHeight;\n    } else {\n      viewAspectRatio = Math.max(options.aspectRatio, 0.5); // prevent from getting too tall\n    }\n\n    let viewContext = this.buildViewContext(props.viewSpec, props.viewApi, props.options, props.dateProfileGenerator, props.dateEnv, props.theme, props.pluginHooks, props.dispatch, props.getCurrentData, props.emitter, props.calendarApi, this.registerInteractiveComponent, this.unregisterInteractiveComponent);\n    let viewLabelId = toolbarConfig.header && toolbarConfig.header.hasTitle ? this.state.viewLabelId : '';\n    return createElement(ViewContextType.Provider, {\n      value: viewContext\n    }, toolbarConfig.header && createElement(Toolbar, Object.assign({\n      ref: this.headerRef,\n      extraClassName: \"fc-header-toolbar\",\n      model: toolbarConfig.header,\n      titleId: viewLabelId\n    }, toolbarProps)), createElement(ViewHarness, {\n      liquid: viewVGrow,\n      height: viewHeight,\n      aspectRatio: viewAspectRatio,\n      labeledById: viewLabelId\n    }, this.renderView(props), this.buildAppendContent()), toolbarConfig.footer && createElement(Toolbar, Object.assign({\n      ref: this.footerRef,\n      extraClassName: \"fc-footer-toolbar\",\n      model: toolbarConfig.footer,\n      titleId: \"\"\n    }, toolbarProps)));\n  }\n  componentDidMount() {\n    let {\n      props\n    } = this;\n    this.calendarInteractions = props.pluginHooks.calendarInteractions.map(CalendarInteractionClass => new CalendarInteractionClass(props));\n    window.addEventListener('resize', this.handleWindowResize);\n    let {\n      propSetHandlers\n    } = props.pluginHooks;\n    for (let propName in propSetHandlers) {\n      propSetHandlers[propName](props[propName], props);\n    }\n  }\n  componentDidUpdate(prevProps) {\n    let {\n      props\n    } = this;\n    let {\n      propSetHandlers\n    } = props.pluginHooks;\n    for (let propName in propSetHandlers) {\n      if (props[propName] !== prevProps[propName]) {\n        propSetHandlers[propName](props[propName], props);\n      }\n    }\n  }\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.handleWindowResize);\n    this.resizeRunner.clear();\n    for (let interaction of this.calendarInteractions) {\n      interaction.destroy();\n    }\n    this.props.emitter.trigger('_unmount');\n  }\n  buildAppendContent() {\n    let {\n      props\n    } = this;\n    let children = props.pluginHooks.viewContainerAppends.map(buildAppendContent => buildAppendContent(props));\n    return createElement(Fragment, {}, ...children);\n  }\n  renderView(props) {\n    let {\n      pluginHooks\n    } = props;\n    let {\n      viewSpec\n    } = props;\n    let viewProps = {\n      dateProfile: props.dateProfile,\n      businessHours: props.businessHours,\n      eventStore: props.renderableEventStore,\n      eventUiBases: props.eventUiBases,\n      dateSelection: props.dateSelection,\n      eventSelection: props.eventSelection,\n      eventDrag: props.eventDrag,\n      eventResize: props.eventResize,\n      isHeightAuto: props.isHeightAuto,\n      forPrint: props.forPrint\n    };\n    let transformers = this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);\n    for (let transformer of transformers) {\n      Object.assign(viewProps, transformer.transform(viewProps, props));\n    }\n    let ViewComponent = viewSpec.component;\n    return createElement(ViewComponent, Object.assign({}, viewProps));\n  }\n}\nfunction buildToolbarProps(viewSpec, dateProfile, dateProfileGenerator, currentDate, now, title) {\n  // don't force any date-profiles to valid date profiles (the `false`) so that we can tell if it's invalid\n  let todayInfo = dateProfileGenerator.build(now, undefined, false); // TODO: need `undefined` or else INFINITE LOOP for some reason\n  let prevInfo = dateProfileGenerator.buildPrev(dateProfile, currentDate, false);\n  let nextInfo = dateProfileGenerator.buildNext(dateProfile, currentDate, false);\n  return {\n    title,\n    activeButton: viewSpec.type,\n    navUnit: viewSpec.singleUnit,\n    isTodayEnabled: todayInfo.isValid && !rangeContainsMarker(dateProfile.currentRange, now),\n    isPrevEnabled: prevInfo.isValid,\n    isNextEnabled: nextInfo.isValid\n  };\n}\n// Plugin\n// -----------------------------------------------------------------------------------------------------------------\nfunction buildViewPropTransformers(theClasses) {\n  return theClasses.map(TheClass => new TheClass());\n}\nclass Calendar extends CalendarImpl {\n  constructor(el) {\n    let optionOverrides = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    super();\n    this.isRendering = false;\n    this.isRendered = false;\n    this.currentClassNames = [];\n    this.customContentRenderId = 0;\n    this.handleAction = action => {\n      // actions we know we want to render immediately\n      switch (action.type) {\n        case 'SET_EVENT_DRAG':\n        case 'SET_EVENT_RESIZE':\n          this.renderRunner.tryDrain();\n      }\n    };\n    this.handleData = data => {\n      this.currentData = data;\n      this.renderRunner.request(data.calendarOptions.rerenderDelay);\n    };\n    this.handleRenderRequest = () => {\n      if (this.isRendering) {\n        this.isRendered = true;\n        let {\n          currentData\n        } = this;\n        flushSync(() => {\n          render(createElement(CalendarRoot, {\n            options: currentData.calendarOptions,\n            theme: currentData.theme,\n            emitter: currentData.emitter\n          }, (classNames, height, isHeightAuto, forPrint) => {\n            this.setClassNames(classNames);\n            this.setHeight(height);\n            return createElement(RenderId.Provider, {\n              value: this.customContentRenderId\n            }, createElement(CalendarContent, Object.assign({\n              isHeightAuto: isHeightAuto,\n              forPrint: forPrint\n            }, currentData)));\n          }), this.el);\n        });\n      } else if (this.isRendered) {\n        this.isRendered = false;\n        render(null, this.el);\n        this.setClassNames([]);\n        this.setHeight('');\n      }\n    };\n    ensureElHasStyles(el);\n    this.el = el;\n    this.renderRunner = new DelayedRunner(this.handleRenderRequest);\n    new CalendarDataManager({\n      optionOverrides,\n      calendarApi: this,\n      onAction: this.handleAction,\n      onData: this.handleData\n    });\n  }\n  render() {\n    let wasRendering = this.isRendering;\n    if (!wasRendering) {\n      this.isRendering = true;\n    } else {\n      this.customContentRenderId += 1;\n    }\n    this.renderRunner.request();\n    if (wasRendering) {\n      this.updateSize();\n    }\n  }\n  destroy() {\n    if (this.isRendering) {\n      this.isRendering = false;\n      this.renderRunner.request();\n    }\n  }\n  updateSize() {\n    flushSync(() => {\n      super.updateSize();\n    });\n  }\n  batchRendering(func) {\n    this.renderRunner.pause('batchRendering');\n    func();\n    this.renderRunner.resume('batchRendering');\n  }\n  pauseRendering() {\n    this.renderRunner.pause('pauseRendering');\n  }\n  resumeRendering() {\n    this.renderRunner.resume('pauseRendering', true);\n  }\n  resetOptions(optionOverrides, changedOptionNames) {\n    this.currentDataManager.resetOptions(optionOverrides, changedOptionNames);\n  }\n  setClassNames(classNames) {\n    if (!isArraysEqual(classNames, this.currentClassNames)) {\n      let {\n        classList\n      } = this.el;\n      for (let className of this.currentClassNames) {\n        classList.remove(className);\n      }\n      for (let className of classNames) {\n        classList.add(className);\n      }\n      this.currentClassNames = classNames;\n    }\n  }\n  setHeight(height) {\n    applyStyleProp(this.el, 'height', height);\n  }\n}\nfunction formatDate(dateInput) {\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let dateEnv = buildDateEnv(options);\n  let formatter = createFormatter(options);\n  let dateMeta = dateEnv.createMarkerMeta(dateInput);\n  if (!dateMeta) {\n    // TODO: warning?\n    return '';\n  }\n  return dateEnv.format(dateMeta.marker, formatter, {\n    forcedTzo: dateMeta.forcedTzo\n  });\n}\nfunction formatRange(startInput, endInput, options) {\n  let dateEnv = buildDateEnv(typeof options === 'object' && options ? options : {}); // pass in if non-null object\n  let formatter = createFormatter(options);\n  let startMeta = dateEnv.createMarkerMeta(startInput);\n  let endMeta = dateEnv.createMarkerMeta(endInput);\n  if (!startMeta || !endMeta) {\n    // TODO: warning?\n    return '';\n  }\n  return dateEnv.formatRange(startMeta.marker, endMeta.marker, formatter, {\n    forcedStartTzo: startMeta.forcedTzo,\n    forcedEndTzo: endMeta.forcedTzo,\n    isEndExclusive: options.isEndExclusive,\n    defaultSeparator: BASE_OPTION_DEFAULTS.defaultRangeSeparator\n  });\n}\n// TODO: more DRY and optimized\nfunction buildDateEnv(settings) {\n  let locale = buildLocale(settings.locale || 'en', organizeRawLocales([]).map); // TODO: don't hardcode 'en' everywhere\n  return new DateEnv(Object.assign(Object.assign({\n    timeZone: BASE_OPTION_DEFAULTS.timeZone,\n    calendarSystem: 'gregory'\n  }, settings), {\n    locale\n  }));\n}\n\n// HELPERS\n/*\nif nextDayThreshold is specified, slicing is done in an all-day fashion.\nyou can get nextDayThreshold from context.nextDayThreshold\n*/\nfunction sliceEvents(props, allDay) {\n  return sliceEventStore(props.eventStore, props.eventUiBases, props.dateProfile.activeRange, allDay ? props.nextDayThreshold : null).fg;\n}\nconst version = '6.1.9';\nexport { Calendar, createPlugin, formatDate, formatRange, globalLocales, globalPlugins, sliceEvents, version };","import { createPlugin } from '@fullcalendar/core/index.js';\nimport { config, Emitter, elementClosest, applyStyle, whenTransitionDone, removeElement, ScrollController, ElementScrollController, computeInnerRect, WindowScrollController, ElementDragging, preventSelection, preventContextMenu, allowSelection, allowContextMenu, computeRect, getClippingParents, pointInsideRect, constrainPoint, intersectRects, getRectCenter, diffPoints, mapHash, rangeContainsRange, isDateSpansEqual, Interaction, interactionSettingsToStore, isDateSelectionValid, enableCursor, disableCursor, triggerDateSelect, compareNumbers, getElSeg, getRelevantEvents, EventImpl, createEmptyEventStore, applyMutationToEventStore, isInteractionValid, buildEventApis, interactionSettingsStore, startOfDay, diffDates, createDuration, getEventTargetViaRoot, identity, eventTupleToStore, parseDragMeta, elementMatches, refineEventDef, parseEventDef, getDefaultEventEnd, createEventInstance, BASE_OPTION_DEFAULTS } from '@fullcalendar/core/internal.js';\nconfig.touchMouseIgnoreWait = 500;\nlet ignoreMouseDepth = 0;\nlet listenerCnt = 0;\nlet isWindowTouchMoveCancelled = false;\n/*\nUses a \"pointer\" abstraction, which monitors UI events for both mouse and touch.\nTracks when the pointer \"drags\" on a certain element, meaning down+move+up.\n\nAlso, tracks if there was touch-scrolling.\nAlso, can prevent touch-scrolling from happening.\nAlso, can fire pointermove events when scrolling happens underneath, even when no real pointer movement.\n\nemits:\n- pointerdown\n- pointermove\n- pointerup\n*/\nclass PointerDragging {\n  constructor(containerEl) {\n    this.subjectEl = null;\n    // options that can be directly assigned by caller\n    this.selector = ''; // will cause subjectEl in all emitted events to be this element\n    this.handleSelector = '';\n    this.shouldIgnoreMove = false;\n    this.shouldWatchScroll = true; // for simulating pointermove on scroll\n    // internal states\n    this.isDragging = false;\n    this.isTouchDragging = false;\n    this.wasTouchScroll = false;\n    // Mouse\n    // ----------------------------------------------------------------------------------------------------\n    this.handleMouseDown = ev => {\n      if (!this.shouldIgnoreMouse() && isPrimaryMouseButton(ev) && this.tryStart(ev)) {\n        let pev = this.createEventFromMouse(ev, true);\n        this.emitter.trigger('pointerdown', pev);\n        this.initScrollWatch(pev);\n        if (!this.shouldIgnoreMove) {\n          document.addEventListener('mousemove', this.handleMouseMove);\n        }\n        document.addEventListener('mouseup', this.handleMouseUp);\n      }\n    };\n    this.handleMouseMove = ev => {\n      let pev = this.createEventFromMouse(ev);\n      this.recordCoords(pev);\n      this.emitter.trigger('pointermove', pev);\n    };\n    this.handleMouseUp = ev => {\n      document.removeEventListener('mousemove', this.handleMouseMove);\n      document.removeEventListener('mouseup', this.handleMouseUp);\n      this.emitter.trigger('pointerup', this.createEventFromMouse(ev));\n      this.cleanup(); // call last so that pointerup has access to props\n    };\n    // Touch\n    // ----------------------------------------------------------------------------------------------------\n    this.handleTouchStart = ev => {\n      if (this.tryStart(ev)) {\n        this.isTouchDragging = true;\n        let pev = this.createEventFromTouch(ev, true);\n        this.emitter.trigger('pointerdown', pev);\n        this.initScrollWatch(pev);\n        // unlike mouse, need to attach to target, not document\n        // https://stackoverflow.com/a/45760014\n        let targetEl = ev.target;\n        if (!this.shouldIgnoreMove) {\n          targetEl.addEventListener('touchmove', this.handleTouchMove);\n        }\n        targetEl.addEventListener('touchend', this.handleTouchEnd);\n        targetEl.addEventListener('touchcancel', this.handleTouchEnd); // treat it as a touch end\n        // attach a handler to get called when ANY scroll action happens on the page.\n        // this was impossible to do with normal on/off because 'scroll' doesn't bubble.\n        // http://stackoverflow.com/a/32954565/96342\n        window.addEventListener('scroll', this.handleTouchScroll, true);\n      }\n    };\n    this.handleTouchMove = ev => {\n      let pev = this.createEventFromTouch(ev);\n      this.recordCoords(pev);\n      this.emitter.trigger('pointermove', pev);\n    };\n    this.handleTouchEnd = ev => {\n      if (this.isDragging) {\n        // done to guard against touchend followed by touchcancel\n        let targetEl = ev.target;\n        targetEl.removeEventListener('touchmove', this.handleTouchMove);\n        targetEl.removeEventListener('touchend', this.handleTouchEnd);\n        targetEl.removeEventListener('touchcancel', this.handleTouchEnd);\n        window.removeEventListener('scroll', this.handleTouchScroll, true); // useCaptured=true\n        this.emitter.trigger('pointerup', this.createEventFromTouch(ev));\n        this.cleanup(); // call last so that pointerup has access to props\n        this.isTouchDragging = false;\n        startIgnoringMouse();\n      }\n    };\n    this.handleTouchScroll = () => {\n      this.wasTouchScroll = true;\n    };\n    this.handleScroll = ev => {\n      if (!this.shouldIgnoreMove) {\n        let pageX = window.pageXOffset - this.prevScrollX + this.prevPageX;\n        let pageY = window.pageYOffset - this.prevScrollY + this.prevPageY;\n        this.emitter.trigger('pointermove', {\n          origEvent: ev,\n          isTouch: this.isTouchDragging,\n          subjectEl: this.subjectEl,\n          pageX,\n          pageY,\n          deltaX: pageX - this.origPageX,\n          deltaY: pageY - this.origPageY\n        });\n      }\n    };\n    this.containerEl = containerEl;\n    this.emitter = new Emitter();\n    containerEl.addEventListener('mousedown', this.handleMouseDown);\n    containerEl.addEventListener('touchstart', this.handleTouchStart, {\n      passive: true\n    });\n    listenerCreated();\n  }\n  destroy() {\n    this.containerEl.removeEventListener('mousedown', this.handleMouseDown);\n    this.containerEl.removeEventListener('touchstart', this.handleTouchStart, {\n      passive: true\n    });\n    listenerDestroyed();\n  }\n  tryStart(ev) {\n    let subjectEl = this.querySubjectEl(ev);\n    let downEl = ev.target;\n    if (subjectEl && (!this.handleSelector || elementClosest(downEl, this.handleSelector))) {\n      this.subjectEl = subjectEl;\n      this.isDragging = true; // do this first so cancelTouchScroll will work\n      this.wasTouchScroll = false;\n      return true;\n    }\n    return false;\n  }\n  cleanup() {\n    isWindowTouchMoveCancelled = false;\n    this.isDragging = false;\n    this.subjectEl = null;\n    // keep wasTouchScroll around for later access\n    this.destroyScrollWatch();\n  }\n  querySubjectEl(ev) {\n    if (this.selector) {\n      return elementClosest(ev.target, this.selector);\n    }\n    return this.containerEl;\n  }\n  shouldIgnoreMouse() {\n    return ignoreMouseDepth || this.isTouchDragging;\n  }\n  // can be called by user of this class, to cancel touch-based scrolling for the current drag\n  cancelTouchScroll() {\n    if (this.isDragging) {\n      isWindowTouchMoveCancelled = true;\n    }\n  }\n  // Scrolling that simulates pointermoves\n  // ----------------------------------------------------------------------------------------------------\n  initScrollWatch(ev) {\n    if (this.shouldWatchScroll) {\n      this.recordCoords(ev);\n      window.addEventListener('scroll', this.handleScroll, true); // useCapture=true\n    }\n  }\n\n  recordCoords(ev) {\n    if (this.shouldWatchScroll) {\n      this.prevPageX = ev.pageX;\n      this.prevPageY = ev.pageY;\n      this.prevScrollX = window.pageXOffset;\n      this.prevScrollY = window.pageYOffset;\n    }\n  }\n  destroyScrollWatch() {\n    if (this.shouldWatchScroll) {\n      window.removeEventListener('scroll', this.handleScroll, true); // useCaptured=true\n    }\n  }\n  // Event Normalization\n  // ----------------------------------------------------------------------------------------------------\n  createEventFromMouse(ev, isFirst) {\n    let deltaX = 0;\n    let deltaY = 0;\n    // TODO: repeat code\n    if (isFirst) {\n      this.origPageX = ev.pageX;\n      this.origPageY = ev.pageY;\n    } else {\n      deltaX = ev.pageX - this.origPageX;\n      deltaY = ev.pageY - this.origPageY;\n    }\n    return {\n      origEvent: ev,\n      isTouch: false,\n      subjectEl: this.subjectEl,\n      pageX: ev.pageX,\n      pageY: ev.pageY,\n      deltaX,\n      deltaY\n    };\n  }\n  createEventFromTouch(ev, isFirst) {\n    let touches = ev.touches;\n    let pageX;\n    let pageY;\n    let deltaX = 0;\n    let deltaY = 0;\n    // if touch coords available, prefer,\n    // because FF would give bad ev.pageX ev.pageY\n    if (touches && touches.length) {\n      pageX = touches[0].pageX;\n      pageY = touches[0].pageY;\n    } else {\n      pageX = ev.pageX;\n      pageY = ev.pageY;\n    }\n    // TODO: repeat code\n    if (isFirst) {\n      this.origPageX = pageX;\n      this.origPageY = pageY;\n    } else {\n      deltaX = pageX - this.origPageX;\n      deltaY = pageY - this.origPageY;\n    }\n    return {\n      origEvent: ev,\n      isTouch: true,\n      subjectEl: this.subjectEl,\n      pageX,\n      pageY,\n      deltaX,\n      deltaY\n    };\n  }\n}\n// Returns a boolean whether this was a left mouse click and no ctrl key (which means right click on Mac)\nfunction isPrimaryMouseButton(ev) {\n  return ev.button === 0 && !ev.ctrlKey;\n}\n// Ignoring fake mouse events generated by touch\n// ----------------------------------------------------------------------------------------------------\nfunction startIgnoringMouse() {\n  ignoreMouseDepth += 1;\n  setTimeout(() => {\n    ignoreMouseDepth -= 1;\n  }, config.touchMouseIgnoreWait);\n}\n// We want to attach touchmove as early as possible for Safari\n// ----------------------------------------------------------------------------------------------------\nfunction listenerCreated() {\n  listenerCnt += 1;\n  if (listenerCnt === 1) {\n    window.addEventListener('touchmove', onWindowTouchMove, {\n      passive: false\n    });\n  }\n}\nfunction listenerDestroyed() {\n  listenerCnt -= 1;\n  if (!listenerCnt) {\n    window.removeEventListener('touchmove', onWindowTouchMove, {\n      passive: false\n    });\n  }\n}\nfunction onWindowTouchMove(ev) {\n  if (isWindowTouchMoveCancelled) {\n    ev.preventDefault();\n  }\n}\n\n/*\nAn effect in which an element follows the movement of a pointer across the screen.\nThe moving element is a clone of some other element.\nMust call start + handleMove + stop.\n*/\nclass ElementMirror {\n  constructor() {\n    this.isVisible = false; // must be explicitly enabled\n    this.sourceEl = null;\n    this.mirrorEl = null;\n    this.sourceElRect = null; // screen coords relative to viewport\n    // options that can be set directly by caller\n    this.parentNode = document.body; // HIGHLY SUGGESTED to set this to sidestep ShadowDOM issues\n    this.zIndex = 9999;\n    this.revertDuration = 0;\n  }\n  start(sourceEl, pageX, pageY) {\n    this.sourceEl = sourceEl;\n    this.sourceElRect = this.sourceEl.getBoundingClientRect();\n    this.origScreenX = pageX - window.pageXOffset;\n    this.origScreenY = pageY - window.pageYOffset;\n    this.deltaX = 0;\n    this.deltaY = 0;\n    this.updateElPosition();\n  }\n  handleMove(pageX, pageY) {\n    this.deltaX = pageX - window.pageXOffset - this.origScreenX;\n    this.deltaY = pageY - window.pageYOffset - this.origScreenY;\n    this.updateElPosition();\n  }\n  // can be called before start\n  setIsVisible(bool) {\n    if (bool) {\n      if (!this.isVisible) {\n        if (this.mirrorEl) {\n          this.mirrorEl.style.display = '';\n        }\n        this.isVisible = bool; // needs to happen before updateElPosition\n        this.updateElPosition(); // because was not updating the position while invisible\n      }\n    } else if (this.isVisible) {\n      if (this.mirrorEl) {\n        this.mirrorEl.style.display = 'none';\n      }\n      this.isVisible = bool;\n    }\n  }\n  // always async\n  stop(needsRevertAnimation, callback) {\n    let done = () => {\n      this.cleanup();\n      callback();\n    };\n    if (needsRevertAnimation && this.mirrorEl && this.isVisible && this.revertDuration && (\n    // if 0, transition won't work\n    this.deltaX || this.deltaY) // if same coords, transition won't work\n    ) {\n      this.doRevertAnimation(done, this.revertDuration);\n    } else {\n      setTimeout(done, 0);\n    }\n  }\n  doRevertAnimation(callback, revertDuration) {\n    let mirrorEl = this.mirrorEl;\n    let finalSourceElRect = this.sourceEl.getBoundingClientRect(); // because autoscrolling might have happened\n    mirrorEl.style.transition = 'top ' + revertDuration + 'ms,' + 'left ' + revertDuration + 'ms';\n    applyStyle(mirrorEl, {\n      left: finalSourceElRect.left,\n      top: finalSourceElRect.top\n    });\n    whenTransitionDone(mirrorEl, () => {\n      mirrorEl.style.transition = '';\n      callback();\n    });\n  }\n  cleanup() {\n    if (this.mirrorEl) {\n      removeElement(this.mirrorEl);\n      this.mirrorEl = null;\n    }\n    this.sourceEl = null;\n  }\n  updateElPosition() {\n    if (this.sourceEl && this.isVisible) {\n      applyStyle(this.getMirrorEl(), {\n        left: this.sourceElRect.left + this.deltaX,\n        top: this.sourceElRect.top + this.deltaY\n      });\n    }\n  }\n  getMirrorEl() {\n    let sourceElRect = this.sourceElRect;\n    let mirrorEl = this.mirrorEl;\n    if (!mirrorEl) {\n      mirrorEl = this.mirrorEl = this.sourceEl.cloneNode(true); // cloneChildren=true\n      // we don't want long taps or any mouse interaction causing selection/menus.\n      // would use preventSelection(), but that prevents selectstart, causing problems.\n      mirrorEl.style.userSelect = 'none';\n      mirrorEl.classList.add('fc-event-dragging');\n      applyStyle(mirrorEl, {\n        position: 'fixed',\n        zIndex: this.zIndex,\n        visibility: '',\n        boxSizing: 'border-box',\n        width: sourceElRect.right - sourceElRect.left,\n        height: sourceElRect.bottom - sourceElRect.top,\n        right: 'auto',\n        bottom: 'auto',\n        margin: 0\n      });\n      this.parentNode.appendChild(mirrorEl);\n    }\n    return mirrorEl;\n  }\n}\n\n/*\nIs a cache for a given element's scroll information (all the info that ScrollController stores)\nin addition the \"client rectangle\" of the element.. the area within the scrollbars.\n\nThe cache can be in one of two modes:\n- doesListening:false - ignores when the container is scrolled by someone else\n- doesListening:true - watch for scrolling and update the cache\n*/\nclass ScrollGeomCache extends ScrollController {\n  constructor(scrollController, doesListening) {\n    super();\n    this.handleScroll = () => {\n      this.scrollTop = this.scrollController.getScrollTop();\n      this.scrollLeft = this.scrollController.getScrollLeft();\n      this.handleScrollChange();\n    };\n    this.scrollController = scrollController;\n    this.doesListening = doesListening;\n    this.scrollTop = this.origScrollTop = scrollController.getScrollTop();\n    this.scrollLeft = this.origScrollLeft = scrollController.getScrollLeft();\n    this.scrollWidth = scrollController.getScrollWidth();\n    this.scrollHeight = scrollController.getScrollHeight();\n    this.clientWidth = scrollController.getClientWidth();\n    this.clientHeight = scrollController.getClientHeight();\n    this.clientRect = this.computeClientRect(); // do last in case it needs cached values\n    if (this.doesListening) {\n      this.getEventTarget().addEventListener('scroll', this.handleScroll);\n    }\n  }\n  destroy() {\n    if (this.doesListening) {\n      this.getEventTarget().removeEventListener('scroll', this.handleScroll);\n    }\n  }\n  getScrollTop() {\n    return this.scrollTop;\n  }\n  getScrollLeft() {\n    return this.scrollLeft;\n  }\n  setScrollTop(top) {\n    this.scrollController.setScrollTop(top);\n    if (!this.doesListening) {\n      // we are not relying on the element to normalize out-of-bounds scroll values\n      // so we need to sanitize ourselves\n      this.scrollTop = Math.max(Math.min(top, this.getMaxScrollTop()), 0);\n      this.handleScrollChange();\n    }\n  }\n  setScrollLeft(top) {\n    this.scrollController.setScrollLeft(top);\n    if (!this.doesListening) {\n      // we are not relying on the element to normalize out-of-bounds scroll values\n      // so we need to sanitize ourselves\n      this.scrollLeft = Math.max(Math.min(top, this.getMaxScrollLeft()), 0);\n      this.handleScrollChange();\n    }\n  }\n  getClientWidth() {\n    return this.clientWidth;\n  }\n  getClientHeight() {\n    return this.clientHeight;\n  }\n  getScrollWidth() {\n    return this.scrollWidth;\n  }\n  getScrollHeight() {\n    return this.scrollHeight;\n  }\n  handleScrollChange() {}\n}\nclass ElementScrollGeomCache extends ScrollGeomCache {\n  constructor(el, doesListening) {\n    super(new ElementScrollController(el), doesListening);\n  }\n  getEventTarget() {\n    return this.scrollController.el;\n  }\n  computeClientRect() {\n    return computeInnerRect(this.scrollController.el);\n  }\n}\nclass WindowScrollGeomCache extends ScrollGeomCache {\n  constructor(doesListening) {\n    super(new WindowScrollController(), doesListening);\n  }\n  getEventTarget() {\n    return window;\n  }\n  computeClientRect() {\n    return {\n      left: this.scrollLeft,\n      right: this.scrollLeft + this.clientWidth,\n      top: this.scrollTop,\n      bottom: this.scrollTop + this.clientHeight\n    };\n  }\n  // the window is the only scroll object that changes it's rectangle relative\n  // to the document's topleft as it scrolls\n  handleScrollChange() {\n    this.clientRect = this.computeClientRect();\n  }\n}\n\n// If available we are using native \"performance\" API instead of \"Date\"\n// Read more about it on MDN:\n// https://developer.mozilla.org/en-US/docs/Web/API/Performance\nconst getTime = typeof performance === 'function' ? performance.now : Date.now;\n/*\nFor a pointer interaction, automatically scrolls certain scroll containers when the pointer\napproaches the edge.\n\nThe caller must call start + handleMove + stop.\n*/\nclass AutoScroller {\n  constructor() {\n    // options that can be set by caller\n    this.isEnabled = true;\n    this.scrollQuery = [window, '.fc-scroller'];\n    this.edgeThreshold = 50; // pixels\n    this.maxVelocity = 300; // pixels per second\n    // internal state\n    this.pointerScreenX = null;\n    this.pointerScreenY = null;\n    this.isAnimating = false;\n    this.scrollCaches = null;\n    // protect against the initial pointerdown being too close to an edge and starting the scroll\n    this.everMovedUp = false;\n    this.everMovedDown = false;\n    this.everMovedLeft = false;\n    this.everMovedRight = false;\n    this.animate = () => {\n      if (this.isAnimating) {\n        // wasn't cancelled between animation calls\n        let edge = this.computeBestEdge(this.pointerScreenX + window.pageXOffset, this.pointerScreenY + window.pageYOffset);\n        if (edge) {\n          let now = getTime();\n          this.handleSide(edge, (now - this.msSinceRequest) / 1000);\n          this.requestAnimation(now);\n        } else {\n          this.isAnimating = false; // will stop animation\n        }\n      }\n    };\n  }\n\n  start(pageX, pageY, scrollStartEl) {\n    if (this.isEnabled) {\n      this.scrollCaches = this.buildCaches(scrollStartEl);\n      this.pointerScreenX = null;\n      this.pointerScreenY = null;\n      this.everMovedUp = false;\n      this.everMovedDown = false;\n      this.everMovedLeft = false;\n      this.everMovedRight = false;\n      this.handleMove(pageX, pageY);\n    }\n  }\n  handleMove(pageX, pageY) {\n    if (this.isEnabled) {\n      let pointerScreenX = pageX - window.pageXOffset;\n      let pointerScreenY = pageY - window.pageYOffset;\n      let yDelta = this.pointerScreenY === null ? 0 : pointerScreenY - this.pointerScreenY;\n      let xDelta = this.pointerScreenX === null ? 0 : pointerScreenX - this.pointerScreenX;\n      if (yDelta < 0) {\n        this.everMovedUp = true;\n      } else if (yDelta > 0) {\n        this.everMovedDown = true;\n      }\n      if (xDelta < 0) {\n        this.everMovedLeft = true;\n      } else if (xDelta > 0) {\n        this.everMovedRight = true;\n      }\n      this.pointerScreenX = pointerScreenX;\n      this.pointerScreenY = pointerScreenY;\n      if (!this.isAnimating) {\n        this.isAnimating = true;\n        this.requestAnimation(getTime());\n      }\n    }\n  }\n  stop() {\n    if (this.isEnabled) {\n      this.isAnimating = false; // will stop animation\n      for (let scrollCache of this.scrollCaches) {\n        scrollCache.destroy();\n      }\n      this.scrollCaches = null;\n    }\n  }\n  requestAnimation(now) {\n    this.msSinceRequest = now;\n    requestAnimationFrame(this.animate);\n  }\n  handleSide(edge, seconds) {\n    let {\n      scrollCache\n    } = edge;\n    let {\n      edgeThreshold\n    } = this;\n    let invDistance = edgeThreshold - edge.distance;\n    let velocity =\n    // the closer to the edge, the faster we scroll\n    invDistance * invDistance / (edgeThreshold * edgeThreshold) *\n    // quadratic\n    this.maxVelocity * seconds;\n    let sign = 1;\n    switch (edge.name) {\n      case 'left':\n        sign = -1;\n      // falls through\n      case 'right':\n        scrollCache.setScrollLeft(scrollCache.getScrollLeft() + velocity * sign);\n        break;\n      case 'top':\n        sign = -1;\n      // falls through\n      case 'bottom':\n        scrollCache.setScrollTop(scrollCache.getScrollTop() + velocity * sign);\n        break;\n    }\n  }\n  // left/top are relative to document topleft\n  computeBestEdge(left, top) {\n    let {\n      edgeThreshold\n    } = this;\n    let bestSide = null;\n    let scrollCaches = this.scrollCaches || [];\n    for (let scrollCache of scrollCaches) {\n      let rect = scrollCache.clientRect;\n      let leftDist = left - rect.left;\n      let rightDist = rect.right - left;\n      let topDist = top - rect.top;\n      let bottomDist = rect.bottom - top;\n      // completely within the rect?\n      if (leftDist >= 0 && rightDist >= 0 && topDist >= 0 && bottomDist >= 0) {\n        if (topDist <= edgeThreshold && this.everMovedUp && scrollCache.canScrollUp() && (!bestSide || bestSide.distance > topDist)) {\n          bestSide = {\n            scrollCache,\n            name: 'top',\n            distance: topDist\n          };\n        }\n        if (bottomDist <= edgeThreshold && this.everMovedDown && scrollCache.canScrollDown() && (!bestSide || bestSide.distance > bottomDist)) {\n          bestSide = {\n            scrollCache,\n            name: 'bottom',\n            distance: bottomDist\n          };\n        }\n        if (leftDist <= edgeThreshold && this.everMovedLeft && scrollCache.canScrollLeft() && (!bestSide || bestSide.distance > leftDist)) {\n          bestSide = {\n            scrollCache,\n            name: 'left',\n            distance: leftDist\n          };\n        }\n        if (rightDist <= edgeThreshold && this.everMovedRight && scrollCache.canScrollRight() && (!bestSide || bestSide.distance > rightDist)) {\n          bestSide = {\n            scrollCache,\n            name: 'right',\n            distance: rightDist\n          };\n        }\n      }\n    }\n    return bestSide;\n  }\n  buildCaches(scrollStartEl) {\n    return this.queryScrollEls(scrollStartEl).map(el => {\n      if (el === window) {\n        return new WindowScrollGeomCache(false); // false = don't listen to user-generated scrolls\n      }\n\n      return new ElementScrollGeomCache(el, false); // false = don't listen to user-generated scrolls\n    });\n  }\n\n  queryScrollEls(scrollStartEl) {\n    let els = [];\n    for (let query of this.scrollQuery) {\n      if (typeof query === 'object') {\n        els.push(query);\n      } else {\n        els.push(...Array.prototype.slice.call(scrollStartEl.getRootNode().querySelectorAll(query)));\n      }\n    }\n    return els;\n  }\n}\n\n/*\nMonitors dragging on an element. Has a number of high-level features:\n- minimum distance required before dragging\n- minimum wait time (\"delay\") before dragging\n- a mirror element that follows the pointer\n*/\nclass FeaturefulElementDragging extends ElementDragging {\n  constructor(containerEl, selector) {\n    super(containerEl);\n    this.containerEl = containerEl;\n    // options that can be directly set by caller\n    // the caller can also set the PointerDragging's options as well\n    this.delay = null;\n    this.minDistance = 0;\n    this.touchScrollAllowed = true; // prevents drag from starting and blocks scrolling during drag\n    this.mirrorNeedsRevert = false;\n    this.isInteracting = false; // is the user validly moving the pointer? lasts until pointerup\n    this.isDragging = false; // is it INTENTFULLY dragging? lasts until after revert animation\n    this.isDelayEnded = false;\n    this.isDistanceSurpassed = false;\n    this.delayTimeoutId = null;\n    this.onPointerDown = ev => {\n      if (!this.isDragging) {\n        // so new drag doesn't happen while revert animation is going\n        this.isInteracting = true;\n        this.isDelayEnded = false;\n        this.isDistanceSurpassed = false;\n        preventSelection(document.body);\n        preventContextMenu(document.body);\n        // prevent links from being visited if there's an eventual drag.\n        // also prevents selection in older browsers (maybe?).\n        // not necessary for touch, besides, browser would complain about passiveness.\n        if (!ev.isTouch) {\n          ev.origEvent.preventDefault();\n        }\n        this.emitter.trigger('pointerdown', ev);\n        if (this.isInteracting &&\n        // not destroyed via pointerdown handler\n        !this.pointer.shouldIgnoreMove) {\n          // actions related to initiating dragstart+dragmove+dragend...\n          this.mirror.setIsVisible(false); // reset. caller must set-visible\n          this.mirror.start(ev.subjectEl, ev.pageX, ev.pageY); // must happen on first pointer down\n          this.startDelay(ev);\n          if (!this.minDistance) {\n            this.handleDistanceSurpassed(ev);\n          }\n        }\n      }\n    };\n    this.onPointerMove = ev => {\n      if (this.isInteracting) {\n        this.emitter.trigger('pointermove', ev);\n        if (!this.isDistanceSurpassed) {\n          let minDistance = this.minDistance;\n          let distanceSq; // current distance from the origin, squared\n          let {\n            deltaX,\n            deltaY\n          } = ev;\n          distanceSq = deltaX * deltaX + deltaY * deltaY;\n          if (distanceSq >= minDistance * minDistance) {\n            // use pythagorean theorem\n            this.handleDistanceSurpassed(ev);\n          }\n        }\n        if (this.isDragging) {\n          // a real pointer move? (not one simulated by scrolling)\n          if (ev.origEvent.type !== 'scroll') {\n            this.mirror.handleMove(ev.pageX, ev.pageY);\n            this.autoScroller.handleMove(ev.pageX, ev.pageY);\n          }\n          this.emitter.trigger('dragmove', ev);\n        }\n      }\n    };\n    this.onPointerUp = ev => {\n      if (this.isInteracting) {\n        this.isInteracting = false;\n        allowSelection(document.body);\n        allowContextMenu(document.body);\n        this.emitter.trigger('pointerup', ev); // can potentially set mirrorNeedsRevert\n        if (this.isDragging) {\n          this.autoScroller.stop();\n          this.tryStopDrag(ev); // which will stop the mirror\n        }\n\n        if (this.delayTimeoutId) {\n          clearTimeout(this.delayTimeoutId);\n          this.delayTimeoutId = null;\n        }\n      }\n    };\n    let pointer = this.pointer = new PointerDragging(containerEl);\n    pointer.emitter.on('pointerdown', this.onPointerDown);\n    pointer.emitter.on('pointermove', this.onPointerMove);\n    pointer.emitter.on('pointerup', this.onPointerUp);\n    if (selector) {\n      pointer.selector = selector;\n    }\n    this.mirror = new ElementMirror();\n    this.autoScroller = new AutoScroller();\n  }\n  destroy() {\n    this.pointer.destroy();\n    // HACK: simulate a pointer-up to end the current drag\n    // TODO: fire 'dragend' directly and stop interaction. discourage use of pointerup event (b/c might not fire)\n    this.onPointerUp({});\n  }\n  startDelay(ev) {\n    if (typeof this.delay === 'number') {\n      this.delayTimeoutId = setTimeout(() => {\n        this.delayTimeoutId = null;\n        this.handleDelayEnd(ev);\n      }, this.delay); // not assignable to number!\n    } else {\n      this.handleDelayEnd(ev);\n    }\n  }\n  handleDelayEnd(ev) {\n    this.isDelayEnded = true;\n    this.tryStartDrag(ev);\n  }\n  handleDistanceSurpassed(ev) {\n    this.isDistanceSurpassed = true;\n    this.tryStartDrag(ev);\n  }\n  tryStartDrag(ev) {\n    if (this.isDelayEnded && this.isDistanceSurpassed) {\n      if (!this.pointer.wasTouchScroll || this.touchScrollAllowed) {\n        this.isDragging = true;\n        this.mirrorNeedsRevert = false;\n        this.autoScroller.start(ev.pageX, ev.pageY, this.containerEl);\n        this.emitter.trigger('dragstart', ev);\n        if (this.touchScrollAllowed === false) {\n          this.pointer.cancelTouchScroll();\n        }\n      }\n    }\n  }\n  tryStopDrag(ev) {\n    // .stop() is ALWAYS asynchronous, which we NEED because we want all pointerup events\n    // that come from the document to fire beforehand. much more convenient this way.\n    this.mirror.stop(this.mirrorNeedsRevert, this.stopDrag.bind(this, ev));\n  }\n  stopDrag(ev) {\n    this.isDragging = false;\n    this.emitter.trigger('dragend', ev);\n  }\n  // fill in the implementations...\n  setIgnoreMove(bool) {\n    this.pointer.shouldIgnoreMove = bool;\n  }\n  setMirrorIsVisible(bool) {\n    this.mirror.setIsVisible(bool);\n  }\n  setMirrorNeedsRevert(bool) {\n    this.mirrorNeedsRevert = bool;\n  }\n  setAutoScrollEnabled(bool) {\n    this.autoScroller.isEnabled = bool;\n  }\n}\n\n/*\nWhen this class is instantiated, it records the offset of an element (relative to the document topleft),\nand continues to monitor scrolling, updating the cached coordinates if it needs to.\nDoes not access the DOM after instantiation, so highly performant.\n\nAlso keeps track of all scrolling/overflow:hidden containers that are parents of the given element\nand an determine if a given point is inside the combined clipping rectangle.\n*/\nclass OffsetTracker {\n  constructor(el) {\n    this.origRect = computeRect(el);\n    // will work fine for divs that have overflow:hidden\n    this.scrollCaches = getClippingParents(el).map(scrollEl => new ElementScrollGeomCache(scrollEl, true));\n  }\n  destroy() {\n    for (let scrollCache of this.scrollCaches) {\n      scrollCache.destroy();\n    }\n  }\n  computeLeft() {\n    let left = this.origRect.left;\n    for (let scrollCache of this.scrollCaches) {\n      left += scrollCache.origScrollLeft - scrollCache.getScrollLeft();\n    }\n    return left;\n  }\n  computeTop() {\n    let top = this.origRect.top;\n    for (let scrollCache of this.scrollCaches) {\n      top += scrollCache.origScrollTop - scrollCache.getScrollTop();\n    }\n    return top;\n  }\n  isWithinClipping(pageX, pageY) {\n    let point = {\n      left: pageX,\n      top: pageY\n    };\n    for (let scrollCache of this.scrollCaches) {\n      if (!isIgnoredClipping(scrollCache.getEventTarget()) && !pointInsideRect(point, scrollCache.clientRect)) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\n// certain clipping containers should never constrain interactions, like <html> and <body>\n// https://github.com/fullcalendar/fullcalendar/issues/3615\nfunction isIgnoredClipping(node) {\n  let tagName = node.tagName;\n  return tagName === 'HTML' || tagName === 'BODY';\n}\n\n/*\nTracks movement over multiple droppable areas (aka \"hits\")\nthat exist in one or more DateComponents.\nRelies on an existing draggable.\n\nemits:\n- pointerdown\n- dragstart\n- hitchange - fires initially, even if not over a hit\n- pointerup\n- (hitchange - again, to null, if ended over a hit)\n- dragend\n*/\nclass HitDragging {\n  constructor(dragging, droppableStore) {\n    // options that can be set by caller\n    this.useSubjectCenter = false;\n    this.requireInitial = true; // if doesn't start out on a hit, won't emit any events\n    this.initialHit = null;\n    this.movingHit = null;\n    this.finalHit = null; // won't ever be populated if shouldIgnoreMove\n    this.handlePointerDown = ev => {\n      let {\n        dragging\n      } = this;\n      this.initialHit = null;\n      this.movingHit = null;\n      this.finalHit = null;\n      this.prepareHits();\n      this.processFirstCoord(ev);\n      if (this.initialHit || !this.requireInitial) {\n        dragging.setIgnoreMove(false);\n        // TODO: fire this before computing processFirstCoord, so listeners can cancel. this gets fired by almost every handler :(\n        this.emitter.trigger('pointerdown', ev);\n      } else {\n        dragging.setIgnoreMove(true);\n      }\n    };\n    this.handleDragStart = ev => {\n      this.emitter.trigger('dragstart', ev);\n      this.handleMove(ev, true); // force = fire even if initially null\n    };\n\n    this.handleDragMove = ev => {\n      this.emitter.trigger('dragmove', ev);\n      this.handleMove(ev);\n    };\n    this.handlePointerUp = ev => {\n      this.releaseHits();\n      this.emitter.trigger('pointerup', ev);\n    };\n    this.handleDragEnd = ev => {\n      if (this.movingHit) {\n        this.emitter.trigger('hitupdate', null, true, ev);\n      }\n      this.finalHit = this.movingHit;\n      this.movingHit = null;\n      this.emitter.trigger('dragend', ev);\n    };\n    this.droppableStore = droppableStore;\n    dragging.emitter.on('pointerdown', this.handlePointerDown);\n    dragging.emitter.on('dragstart', this.handleDragStart);\n    dragging.emitter.on('dragmove', this.handleDragMove);\n    dragging.emitter.on('pointerup', this.handlePointerUp);\n    dragging.emitter.on('dragend', this.handleDragEnd);\n    this.dragging = dragging;\n    this.emitter = new Emitter();\n  }\n  // sets initialHit\n  // sets coordAdjust\n  processFirstCoord(ev) {\n    let origPoint = {\n      left: ev.pageX,\n      top: ev.pageY\n    };\n    let adjustedPoint = origPoint;\n    let subjectEl = ev.subjectEl;\n    let subjectRect;\n    if (subjectEl instanceof HTMLElement) {\n      // i.e. not a Document/ShadowRoot\n      subjectRect = computeRect(subjectEl);\n      adjustedPoint = constrainPoint(adjustedPoint, subjectRect);\n    }\n    let initialHit = this.initialHit = this.queryHitForOffset(adjustedPoint.left, adjustedPoint.top);\n    if (initialHit) {\n      if (this.useSubjectCenter && subjectRect) {\n        let slicedSubjectRect = intersectRects(subjectRect, initialHit.rect);\n        if (slicedSubjectRect) {\n          adjustedPoint = getRectCenter(slicedSubjectRect);\n        }\n      }\n      this.coordAdjust = diffPoints(adjustedPoint, origPoint);\n    } else {\n      this.coordAdjust = {\n        left: 0,\n        top: 0\n      };\n    }\n  }\n  handleMove(ev, forceHandle) {\n    let hit = this.queryHitForOffset(ev.pageX + this.coordAdjust.left, ev.pageY + this.coordAdjust.top);\n    if (forceHandle || !isHitsEqual(this.movingHit, hit)) {\n      this.movingHit = hit;\n      this.emitter.trigger('hitupdate', hit, false, ev);\n    }\n  }\n  prepareHits() {\n    this.offsetTrackers = mapHash(this.droppableStore, interactionSettings => {\n      interactionSettings.component.prepareHits();\n      return new OffsetTracker(interactionSettings.el);\n    });\n  }\n  releaseHits() {\n    let {\n      offsetTrackers\n    } = this;\n    for (let id in offsetTrackers) {\n      offsetTrackers[id].destroy();\n    }\n    this.offsetTrackers = {};\n  }\n  queryHitForOffset(offsetLeft, offsetTop) {\n    let {\n      droppableStore,\n      offsetTrackers\n    } = this;\n    let bestHit = null;\n    for (let id in droppableStore) {\n      let component = droppableStore[id].component;\n      let offsetTracker = offsetTrackers[id];\n      if (offsetTracker &&\n      // wasn't destroyed mid-drag\n      offsetTracker.isWithinClipping(offsetLeft, offsetTop)) {\n        let originLeft = offsetTracker.computeLeft();\n        let originTop = offsetTracker.computeTop();\n        let positionLeft = offsetLeft - originLeft;\n        let positionTop = offsetTop - originTop;\n        let {\n          origRect\n        } = offsetTracker;\n        let width = origRect.right - origRect.left;\n        let height = origRect.bottom - origRect.top;\n        if (\n        // must be within the element's bounds\n        positionLeft >= 0 && positionLeft < width && positionTop >= 0 && positionTop < height) {\n          let hit = component.queryHit(positionLeft, positionTop, width, height);\n          if (hit &&\n          // make sure the hit is within activeRange, meaning it's not a dead cell\n          rangeContainsRange(hit.dateProfile.activeRange, hit.dateSpan.range) && (!bestHit || hit.layer > bestHit.layer)) {\n            hit.componentId = id;\n            hit.context = component.context;\n            // TODO: better way to re-orient rectangle\n            hit.rect.left += originLeft;\n            hit.rect.right += originLeft;\n            hit.rect.top += originTop;\n            hit.rect.bottom += originTop;\n            bestHit = hit;\n          }\n        }\n      }\n    }\n    return bestHit;\n  }\n}\nfunction isHitsEqual(hit0, hit1) {\n  if (!hit0 && !hit1) {\n    return true;\n  }\n  if (Boolean(hit0) !== Boolean(hit1)) {\n    return false;\n  }\n  return isDateSpansEqual(hit0.dateSpan, hit1.dateSpan);\n}\nfunction buildDatePointApiWithContext(dateSpan, context) {\n  let props = {};\n  for (let transform of context.pluginHooks.datePointTransforms) {\n    Object.assign(props, transform(dateSpan, context));\n  }\n  Object.assign(props, buildDatePointApi(dateSpan, context.dateEnv));\n  return props;\n}\nfunction buildDatePointApi(span, dateEnv) {\n  return {\n    date: dateEnv.toDate(span.range.start),\n    dateStr: dateEnv.formatIso(span.range.start, {\n      omitTime: span.allDay\n    }),\n    allDay: span.allDay\n  };\n}\n\n/*\nMonitors when the user clicks on a specific date/time of a component.\nA pointerdown+pointerup on the same \"hit\" constitutes a click.\n*/\nclass DateClicking extends Interaction {\n  constructor(settings) {\n    super(settings);\n    this.handlePointerDown = pev => {\n      let {\n        dragging\n      } = this;\n      let downEl = pev.origEvent.target;\n      // do this in pointerdown (not dragend) because DOM might be mutated by the time dragend is fired\n      dragging.setIgnoreMove(!this.component.isValidDateDownEl(downEl));\n    };\n    // won't even fire if moving was ignored\n    this.handleDragEnd = ev => {\n      let {\n        component\n      } = this;\n      let {\n        pointer\n      } = this.dragging;\n      if (!pointer.wasTouchScroll) {\n        let {\n          initialHit,\n          finalHit\n        } = this.hitDragging;\n        if (initialHit && finalHit && isHitsEqual(initialHit, finalHit)) {\n          let {\n            context\n          } = component;\n          let arg = Object.assign(Object.assign({}, buildDatePointApiWithContext(initialHit.dateSpan, context)), {\n            dayEl: initialHit.dayEl,\n            jsEvent: ev.origEvent,\n            view: context.viewApi || context.calendarApi.view\n          });\n          context.emitter.trigger('dateClick', arg);\n        }\n      }\n    };\n    // we DO want to watch pointer moves because otherwise finalHit won't get populated\n    this.dragging = new FeaturefulElementDragging(settings.el);\n    this.dragging.autoScroller.isEnabled = false;\n    let hitDragging = this.hitDragging = new HitDragging(this.dragging, interactionSettingsToStore(settings));\n    hitDragging.emitter.on('pointerdown', this.handlePointerDown);\n    hitDragging.emitter.on('dragend', this.handleDragEnd);\n  }\n  destroy() {\n    this.dragging.destroy();\n  }\n}\n\n/*\nTracks when the user selects a portion of time of a component,\nconstituted by a drag over date cells, with a possible delay at the beginning of the drag.\n*/\nclass DateSelecting extends Interaction {\n  constructor(settings) {\n    super(settings);\n    this.dragSelection = null;\n    this.handlePointerDown = ev => {\n      let {\n        component,\n        dragging\n      } = this;\n      let {\n        options\n      } = component.context;\n      let canSelect = options.selectable && component.isValidDateDownEl(ev.origEvent.target);\n      // don't bother to watch expensive moves if component won't do selection\n      dragging.setIgnoreMove(!canSelect);\n      // if touch, require user to hold down\n      dragging.delay = ev.isTouch ? getComponentTouchDelay$1(component) : null;\n    };\n    this.handleDragStart = ev => {\n      this.component.context.calendarApi.unselect(ev); // unselect previous selections\n    };\n\n    this.handleHitUpdate = (hit, isFinal) => {\n      let {\n        context\n      } = this.component;\n      let dragSelection = null;\n      let isInvalid = false;\n      if (hit) {\n        let initialHit = this.hitDragging.initialHit;\n        let disallowed = hit.componentId === initialHit.componentId && this.isHitComboAllowed && !this.isHitComboAllowed(initialHit, hit);\n        if (!disallowed) {\n          dragSelection = joinHitsIntoSelection(initialHit, hit, context.pluginHooks.dateSelectionTransformers);\n        }\n        if (!dragSelection || !isDateSelectionValid(dragSelection, hit.dateProfile, context)) {\n          isInvalid = true;\n          dragSelection = null;\n        }\n      }\n      if (dragSelection) {\n        context.dispatch({\n          type: 'SELECT_DATES',\n          selection: dragSelection\n        });\n      } else if (!isFinal) {\n        // only unselect if moved away while dragging\n        context.dispatch({\n          type: 'UNSELECT_DATES'\n        });\n      }\n      if (!isInvalid) {\n        enableCursor();\n      } else {\n        disableCursor();\n      }\n      if (!isFinal) {\n        this.dragSelection = dragSelection; // only clear if moved away from all hits while dragging\n      }\n    };\n\n    this.handlePointerUp = pev => {\n      if (this.dragSelection) {\n        // selection is already rendered, so just need to report selection\n        triggerDateSelect(this.dragSelection, pev, this.component.context);\n        this.dragSelection = null;\n      }\n    };\n    let {\n      component\n    } = settings;\n    let {\n      options\n    } = component.context;\n    let dragging = this.dragging = new FeaturefulElementDragging(settings.el);\n    dragging.touchScrollAllowed = false;\n    dragging.minDistance = options.selectMinDistance || 0;\n    dragging.autoScroller.isEnabled = options.dragScroll;\n    let hitDragging = this.hitDragging = new HitDragging(this.dragging, interactionSettingsToStore(settings));\n    hitDragging.emitter.on('pointerdown', this.handlePointerDown);\n    hitDragging.emitter.on('dragstart', this.handleDragStart);\n    hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n    hitDragging.emitter.on('pointerup', this.handlePointerUp);\n  }\n  destroy() {\n    this.dragging.destroy();\n  }\n}\nfunction getComponentTouchDelay$1(component) {\n  let {\n    options\n  } = component.context;\n  let delay = options.selectLongPressDelay;\n  if (delay == null) {\n    delay = options.longPressDelay;\n  }\n  return delay;\n}\nfunction joinHitsIntoSelection(hit0, hit1, dateSelectionTransformers) {\n  let dateSpan0 = hit0.dateSpan;\n  let dateSpan1 = hit1.dateSpan;\n  let ms = [dateSpan0.range.start, dateSpan0.range.end, dateSpan1.range.start, dateSpan1.range.end];\n  ms.sort(compareNumbers);\n  let props = {};\n  for (let transformer of dateSelectionTransformers) {\n    let res = transformer(hit0, hit1);\n    if (res === false) {\n      return null;\n    }\n    if (res) {\n      Object.assign(props, res);\n    }\n  }\n  props.range = {\n    start: ms[0],\n    end: ms[3]\n  };\n  props.allDay = dateSpan0.allDay;\n  return props;\n}\nclass EventDragging extends Interaction {\n  constructor(settings) {\n    super(settings);\n    // internal state\n    this.subjectEl = null;\n    this.subjectSeg = null; // the seg being selected/dragged\n    this.isDragging = false;\n    this.eventRange = null;\n    this.relevantEvents = null; // the events being dragged\n    this.receivingContext = null;\n    this.validMutation = null;\n    this.mutatedRelevantEvents = null;\n    this.handlePointerDown = ev => {\n      let origTarget = ev.origEvent.target;\n      let {\n        component,\n        dragging\n      } = this;\n      let {\n        mirror\n      } = dragging;\n      let {\n        options\n      } = component.context;\n      let initialContext = component.context;\n      this.subjectEl = ev.subjectEl;\n      let subjectSeg = this.subjectSeg = getElSeg(ev.subjectEl);\n      let eventRange = this.eventRange = subjectSeg.eventRange;\n      let eventInstanceId = eventRange.instance.instanceId;\n      this.relevantEvents = getRelevantEvents(initialContext.getCurrentData().eventStore, eventInstanceId);\n      dragging.minDistance = ev.isTouch ? 0 : options.eventDragMinDistance;\n      dragging.delay =\n      // only do a touch delay if touch and this event hasn't been selected yet\n      ev.isTouch && eventInstanceId !== component.props.eventSelection ? getComponentTouchDelay(component) : null;\n      if (options.fixedMirrorParent) {\n        mirror.parentNode = options.fixedMirrorParent;\n      } else {\n        mirror.parentNode = elementClosest(origTarget, '.fc');\n      }\n      mirror.revertDuration = options.dragRevertDuration;\n      let isValid = component.isValidSegDownEl(origTarget) && !elementClosest(origTarget, '.fc-event-resizer'); // NOT on a resizer\n      dragging.setIgnoreMove(!isValid);\n      // disable dragging for elements that are resizable (ie, selectable)\n      // but are not draggable\n      this.isDragging = isValid && ev.subjectEl.classList.contains('fc-event-draggable');\n    };\n    this.handleDragStart = ev => {\n      let initialContext = this.component.context;\n      let eventRange = this.eventRange;\n      let eventInstanceId = eventRange.instance.instanceId;\n      if (ev.isTouch) {\n        // need to select a different event?\n        if (eventInstanceId !== this.component.props.eventSelection) {\n          initialContext.dispatch({\n            type: 'SELECT_EVENT',\n            eventInstanceId\n          });\n        }\n      } else {\n        // if now using mouse, but was previous touch interaction, clear selected event\n        initialContext.dispatch({\n          type: 'UNSELECT_EVENT'\n        });\n      }\n      if (this.isDragging) {\n        initialContext.calendarApi.unselect(ev); // unselect *date* selection\n        initialContext.emitter.trigger('eventDragStart', {\n          el: this.subjectEl,\n          event: new EventImpl(initialContext, eventRange.def, eventRange.instance),\n          jsEvent: ev.origEvent,\n          view: initialContext.viewApi\n        });\n      }\n    };\n    this.handleHitUpdate = (hit, isFinal) => {\n      if (!this.isDragging) {\n        return;\n      }\n      let relevantEvents = this.relevantEvents;\n      let initialHit = this.hitDragging.initialHit;\n      let initialContext = this.component.context;\n      // states based on new hit\n      let receivingContext = null;\n      let mutation = null;\n      let mutatedRelevantEvents = null;\n      let isInvalid = false;\n      let interaction = {\n        affectedEvents: relevantEvents,\n        mutatedEvents: createEmptyEventStore(),\n        isEvent: true\n      };\n      if (hit) {\n        receivingContext = hit.context;\n        let receivingOptions = receivingContext.options;\n        if (initialContext === receivingContext || receivingOptions.editable && receivingOptions.droppable) {\n          mutation = computeEventMutation(initialHit, hit, receivingContext.getCurrentData().pluginHooks.eventDragMutationMassagers);\n          if (mutation) {\n            mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, receivingContext.getCurrentData().eventUiBases, mutation, receivingContext);\n            interaction.mutatedEvents = mutatedRelevantEvents;\n            if (!isInteractionValid(interaction, hit.dateProfile, receivingContext)) {\n              isInvalid = true;\n              mutation = null;\n              mutatedRelevantEvents = null;\n              interaction.mutatedEvents = createEmptyEventStore();\n            }\n          }\n        } else {\n          receivingContext = null;\n        }\n      }\n      this.displayDrag(receivingContext, interaction);\n      if (!isInvalid) {\n        enableCursor();\n      } else {\n        disableCursor();\n      }\n      if (!isFinal) {\n        if (initialContext === receivingContext &&\n        // TODO: write test for this\n        isHitsEqual(initialHit, hit)) {\n          mutation = null;\n        }\n        this.dragging.setMirrorNeedsRevert(!mutation);\n        // render the mirror if no already-rendered mirror\n        // TODO: wish we could somehow wait for dispatch to guarantee render\n        this.dragging.setMirrorIsVisible(!hit || !this.subjectEl.getRootNode().querySelector('.fc-event-mirror'));\n        // assign states based on new hit\n        this.receivingContext = receivingContext;\n        this.validMutation = mutation;\n        this.mutatedRelevantEvents = mutatedRelevantEvents;\n      }\n    };\n    this.handlePointerUp = () => {\n      if (!this.isDragging) {\n        this.cleanup(); // because handleDragEnd won't fire\n      }\n    };\n\n    this.handleDragEnd = ev => {\n      if (this.isDragging) {\n        let initialContext = this.component.context;\n        let initialView = initialContext.viewApi;\n        let {\n          receivingContext,\n          validMutation\n        } = this;\n        let eventDef = this.eventRange.def;\n        let eventInstance = this.eventRange.instance;\n        let eventApi = new EventImpl(initialContext, eventDef, eventInstance);\n        let relevantEvents = this.relevantEvents;\n        let mutatedRelevantEvents = this.mutatedRelevantEvents;\n        let {\n          finalHit\n        } = this.hitDragging;\n        this.clearDrag(); // must happen after revert animation\n        initialContext.emitter.trigger('eventDragStop', {\n          el: this.subjectEl,\n          event: eventApi,\n          jsEvent: ev.origEvent,\n          view: initialView\n        });\n        if (validMutation) {\n          // dropped within same calendar\n          if (receivingContext === initialContext) {\n            let updatedEventApi = new EventImpl(initialContext, mutatedRelevantEvents.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n            initialContext.dispatch({\n              type: 'MERGE_EVENTS',\n              eventStore: mutatedRelevantEvents\n            });\n            let eventChangeArg = {\n              oldEvent: eventApi,\n              event: updatedEventApi,\n              relatedEvents: buildEventApis(mutatedRelevantEvents, initialContext, eventInstance),\n              revert() {\n                initialContext.dispatch({\n                  type: 'MERGE_EVENTS',\n                  eventStore: relevantEvents // the pre-change data\n                });\n              }\n            };\n\n            let transformed = {};\n            for (let transformer of initialContext.getCurrentData().pluginHooks.eventDropTransformers) {\n              Object.assign(transformed, transformer(validMutation, initialContext));\n            }\n            initialContext.emitter.trigger('eventDrop', Object.assign(Object.assign(Object.assign({}, eventChangeArg), transformed), {\n              el: ev.subjectEl,\n              delta: validMutation.datesDelta,\n              jsEvent: ev.origEvent,\n              view: initialView\n            }));\n            initialContext.emitter.trigger('eventChange', eventChangeArg);\n            // dropped in different calendar\n          } else if (receivingContext) {\n            let eventRemoveArg = {\n              event: eventApi,\n              relatedEvents: buildEventApis(relevantEvents, initialContext, eventInstance),\n              revert() {\n                initialContext.dispatch({\n                  type: 'MERGE_EVENTS',\n                  eventStore: relevantEvents\n                });\n              }\n            };\n            initialContext.emitter.trigger('eventLeave', Object.assign(Object.assign({}, eventRemoveArg), {\n              draggedEl: ev.subjectEl,\n              view: initialView\n            }));\n            initialContext.dispatch({\n              type: 'REMOVE_EVENTS',\n              eventStore: relevantEvents\n            });\n            initialContext.emitter.trigger('eventRemove', eventRemoveArg);\n            let addedEventDef = mutatedRelevantEvents.defs[eventDef.defId];\n            let addedEventInstance = mutatedRelevantEvents.instances[eventInstance.instanceId];\n            let addedEventApi = new EventImpl(receivingContext, addedEventDef, addedEventInstance);\n            receivingContext.dispatch({\n              type: 'MERGE_EVENTS',\n              eventStore: mutatedRelevantEvents\n            });\n            let eventAddArg = {\n              event: addedEventApi,\n              relatedEvents: buildEventApis(mutatedRelevantEvents, receivingContext, addedEventInstance),\n              revert() {\n                receivingContext.dispatch({\n                  type: 'REMOVE_EVENTS',\n                  eventStore: mutatedRelevantEvents\n                });\n              }\n            };\n            receivingContext.emitter.trigger('eventAdd', eventAddArg);\n            if (ev.isTouch) {\n              receivingContext.dispatch({\n                type: 'SELECT_EVENT',\n                eventInstanceId: eventInstance.instanceId\n              });\n            }\n            receivingContext.emitter.trigger('drop', Object.assign(Object.assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)), {\n              draggedEl: ev.subjectEl,\n              jsEvent: ev.origEvent,\n              view: finalHit.context.viewApi\n            }));\n            receivingContext.emitter.trigger('eventReceive', Object.assign(Object.assign({}, eventAddArg), {\n              draggedEl: ev.subjectEl,\n              view: finalHit.context.viewApi\n            }));\n          }\n        } else {\n          initialContext.emitter.trigger('_noEventDrop');\n        }\n      }\n      this.cleanup();\n    };\n    let {\n      component\n    } = this;\n    let {\n      options\n    } = component.context;\n    let dragging = this.dragging = new FeaturefulElementDragging(settings.el);\n    dragging.pointer.selector = EventDragging.SELECTOR;\n    dragging.touchScrollAllowed = false;\n    dragging.autoScroller.isEnabled = options.dragScroll;\n    let hitDragging = this.hitDragging = new HitDragging(this.dragging, interactionSettingsStore);\n    hitDragging.useSubjectCenter = settings.useEventCenter;\n    hitDragging.emitter.on('pointerdown', this.handlePointerDown);\n    hitDragging.emitter.on('dragstart', this.handleDragStart);\n    hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n    hitDragging.emitter.on('pointerup', this.handlePointerUp);\n    hitDragging.emitter.on('dragend', this.handleDragEnd);\n  }\n  destroy() {\n    this.dragging.destroy();\n  }\n  // render a drag state on the next receivingCalendar\n  displayDrag(nextContext, state) {\n    let initialContext = this.component.context;\n    let prevContext = this.receivingContext;\n    // does the previous calendar need to be cleared?\n    if (prevContext && prevContext !== nextContext) {\n      // does the initial calendar need to be cleared?\n      // if so, don't clear all the way. we still need to to hide the affectedEvents\n      if (prevContext === initialContext) {\n        prevContext.dispatch({\n          type: 'SET_EVENT_DRAG',\n          state: {\n            affectedEvents: state.affectedEvents,\n            mutatedEvents: createEmptyEventStore(),\n            isEvent: true\n          }\n        });\n        // completely clear the old calendar if it wasn't the initial\n      } else {\n        prevContext.dispatch({\n          type: 'UNSET_EVENT_DRAG'\n        });\n      }\n    }\n    if (nextContext) {\n      nextContext.dispatch({\n        type: 'SET_EVENT_DRAG',\n        state\n      });\n    }\n  }\n  clearDrag() {\n    let initialCalendar = this.component.context;\n    let {\n      receivingContext\n    } = this;\n    if (receivingContext) {\n      receivingContext.dispatch({\n        type: 'UNSET_EVENT_DRAG'\n      });\n    }\n    // the initial calendar might have an dummy drag state from displayDrag\n    if (initialCalendar !== receivingContext) {\n      initialCalendar.dispatch({\n        type: 'UNSET_EVENT_DRAG'\n      });\n    }\n  }\n  cleanup() {\n    this.subjectSeg = null;\n    this.isDragging = false;\n    this.eventRange = null;\n    this.relevantEvents = null;\n    this.receivingContext = null;\n    this.validMutation = null;\n    this.mutatedRelevantEvents = null;\n  }\n}\n// TODO: test this in IE11\n// QUESTION: why do we need it on the resizable???\nEventDragging.SELECTOR = '.fc-event-draggable, .fc-event-resizable';\nfunction computeEventMutation(hit0, hit1, massagers) {\n  let dateSpan0 = hit0.dateSpan;\n  let dateSpan1 = hit1.dateSpan;\n  let date0 = dateSpan0.range.start;\n  let date1 = dateSpan1.range.start;\n  let standardProps = {};\n  if (dateSpan0.allDay !== dateSpan1.allDay) {\n    standardProps.allDay = dateSpan1.allDay;\n    standardProps.hasEnd = hit1.context.options.allDayMaintainDuration;\n    if (dateSpan1.allDay) {\n      // means date1 is already start-of-day,\n      // but date0 needs to be converted\n      date0 = startOfDay(date0);\n    }\n  }\n  let delta = diffDates(date0, date1, hit0.context.dateEnv, hit0.componentId === hit1.componentId ? hit0.largeUnit : null);\n  if (delta.milliseconds) {\n    // has hours/minutes/seconds\n    standardProps.allDay = false;\n  }\n  let mutation = {\n    datesDelta: delta,\n    standardProps\n  };\n  for (let massager of massagers) {\n    massager(mutation, hit0, hit1);\n  }\n  return mutation;\n}\nfunction getComponentTouchDelay(component) {\n  let {\n    options\n  } = component.context;\n  let delay = options.eventLongPressDelay;\n  if (delay == null) {\n    delay = options.longPressDelay;\n  }\n  return delay;\n}\nclass EventResizing extends Interaction {\n  constructor(settings) {\n    super(settings);\n    // internal state\n    this.draggingSegEl = null;\n    this.draggingSeg = null; // TODO: rename to resizingSeg? subjectSeg?\n    this.eventRange = null;\n    this.relevantEvents = null;\n    this.validMutation = null;\n    this.mutatedRelevantEvents = null;\n    this.handlePointerDown = ev => {\n      let {\n        component\n      } = this;\n      let segEl = this.querySegEl(ev);\n      let seg = getElSeg(segEl);\n      let eventRange = this.eventRange = seg.eventRange;\n      this.dragging.minDistance = component.context.options.eventDragMinDistance;\n      // if touch, need to be working with a selected event\n      this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(ev.origEvent.target) || ev.isTouch && this.component.props.eventSelection !== eventRange.instance.instanceId);\n    };\n    this.handleDragStart = ev => {\n      let {\n        context\n      } = this.component;\n      let eventRange = this.eventRange;\n      this.relevantEvents = getRelevantEvents(context.getCurrentData().eventStore, this.eventRange.instance.instanceId);\n      let segEl = this.querySegEl(ev);\n      this.draggingSegEl = segEl;\n      this.draggingSeg = getElSeg(segEl);\n      context.calendarApi.unselect();\n      context.emitter.trigger('eventResizeStart', {\n        el: segEl,\n        event: new EventImpl(context, eventRange.def, eventRange.instance),\n        jsEvent: ev.origEvent,\n        view: context.viewApi\n      });\n    };\n    this.handleHitUpdate = (hit, isFinal, ev) => {\n      let {\n        context\n      } = this.component;\n      let relevantEvents = this.relevantEvents;\n      let initialHit = this.hitDragging.initialHit;\n      let eventInstance = this.eventRange.instance;\n      let mutation = null;\n      let mutatedRelevantEvents = null;\n      let isInvalid = false;\n      let interaction = {\n        affectedEvents: relevantEvents,\n        mutatedEvents: createEmptyEventStore(),\n        isEvent: true\n      };\n      if (hit) {\n        let disallowed = hit.componentId === initialHit.componentId && this.isHitComboAllowed && !this.isHitComboAllowed(initialHit, hit);\n        if (!disallowed) {\n          mutation = computeMutation(initialHit, hit, ev.subjectEl.classList.contains('fc-event-resizer-start'), eventInstance.range);\n        }\n      }\n      if (mutation) {\n        mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, context.getCurrentData().eventUiBases, mutation, context);\n        interaction.mutatedEvents = mutatedRelevantEvents;\n        if (!isInteractionValid(interaction, hit.dateProfile, context)) {\n          isInvalid = true;\n          mutation = null;\n          mutatedRelevantEvents = null;\n          interaction.mutatedEvents = null;\n        }\n      }\n      if (mutatedRelevantEvents) {\n        context.dispatch({\n          type: 'SET_EVENT_RESIZE',\n          state: interaction\n        });\n      } else {\n        context.dispatch({\n          type: 'UNSET_EVENT_RESIZE'\n        });\n      }\n      if (!isInvalid) {\n        enableCursor();\n      } else {\n        disableCursor();\n      }\n      if (!isFinal) {\n        if (mutation && isHitsEqual(initialHit, hit)) {\n          mutation = null;\n        }\n        this.validMutation = mutation;\n        this.mutatedRelevantEvents = mutatedRelevantEvents;\n      }\n    };\n    this.handleDragEnd = ev => {\n      let {\n        context\n      } = this.component;\n      let eventDef = this.eventRange.def;\n      let eventInstance = this.eventRange.instance;\n      let eventApi = new EventImpl(context, eventDef, eventInstance);\n      let relevantEvents = this.relevantEvents;\n      let mutatedRelevantEvents = this.mutatedRelevantEvents;\n      context.emitter.trigger('eventResizeStop', {\n        el: this.draggingSegEl,\n        event: eventApi,\n        jsEvent: ev.origEvent,\n        view: context.viewApi\n      });\n      if (this.validMutation) {\n        let updatedEventApi = new EventImpl(context, mutatedRelevantEvents.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n        context.dispatch({\n          type: 'MERGE_EVENTS',\n          eventStore: mutatedRelevantEvents\n        });\n        let eventChangeArg = {\n          oldEvent: eventApi,\n          event: updatedEventApi,\n          relatedEvents: buildEventApis(mutatedRelevantEvents, context, eventInstance),\n          revert() {\n            context.dispatch({\n              type: 'MERGE_EVENTS',\n              eventStore: relevantEvents // the pre-change events\n            });\n          }\n        };\n\n        context.emitter.trigger('eventResize', Object.assign(Object.assign({}, eventChangeArg), {\n          el: this.draggingSegEl,\n          startDelta: this.validMutation.startDelta || createDuration(0),\n          endDelta: this.validMutation.endDelta || createDuration(0),\n          jsEvent: ev.origEvent,\n          view: context.viewApi\n        }));\n        context.emitter.trigger('eventChange', eventChangeArg);\n      } else {\n        context.emitter.trigger('_noEventResize');\n      }\n      // reset all internal state\n      this.draggingSeg = null;\n      this.relevantEvents = null;\n      this.validMutation = null;\n      // okay to keep eventInstance around. useful to set it in handlePointerDown\n    };\n\n    let {\n      component\n    } = settings;\n    let dragging = this.dragging = new FeaturefulElementDragging(settings.el);\n    dragging.pointer.selector = '.fc-event-resizer';\n    dragging.touchScrollAllowed = false;\n    dragging.autoScroller.isEnabled = component.context.options.dragScroll;\n    let hitDragging = this.hitDragging = new HitDragging(this.dragging, interactionSettingsToStore(settings));\n    hitDragging.emitter.on('pointerdown', this.handlePointerDown);\n    hitDragging.emitter.on('dragstart', this.handleDragStart);\n    hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n    hitDragging.emitter.on('dragend', this.handleDragEnd);\n  }\n  destroy() {\n    this.dragging.destroy();\n  }\n  querySegEl(ev) {\n    return elementClosest(ev.subjectEl, '.fc-event');\n  }\n}\nfunction computeMutation(hit0, hit1, isFromStart, instanceRange) {\n  let dateEnv = hit0.context.dateEnv;\n  let date0 = hit0.dateSpan.range.start;\n  let date1 = hit1.dateSpan.range.start;\n  let delta = diffDates(date0, date1, dateEnv, hit0.largeUnit);\n  if (isFromStart) {\n    if (dateEnv.add(instanceRange.start, delta) < instanceRange.end) {\n      return {\n        startDelta: delta\n      };\n    }\n  } else if (dateEnv.add(instanceRange.end, delta) > instanceRange.start) {\n    return {\n      endDelta: delta\n    };\n  }\n  return null;\n}\nclass UnselectAuto {\n  constructor(context) {\n    this.context = context;\n    this.isRecentPointerDateSelect = false; // wish we could use a selector to detect date selection, but uses hit system\n    this.matchesCancel = false;\n    this.matchesEvent = false;\n    this.onSelect = selectInfo => {\n      if (selectInfo.jsEvent) {\n        this.isRecentPointerDateSelect = true;\n      }\n    };\n    this.onDocumentPointerDown = pev => {\n      let unselectCancel = this.context.options.unselectCancel;\n      let downEl = getEventTargetViaRoot(pev.origEvent);\n      this.matchesCancel = !!elementClosest(downEl, unselectCancel);\n      this.matchesEvent = !!elementClosest(downEl, EventDragging.SELECTOR); // interaction started on an event?\n    };\n\n    this.onDocumentPointerUp = pev => {\n      let {\n        context\n      } = this;\n      let {\n        documentPointer\n      } = this;\n      let calendarState = context.getCurrentData();\n      // touch-scrolling should never unfocus any type of selection\n      if (!documentPointer.wasTouchScroll) {\n        if (calendarState.dateSelection &&\n        // an existing date selection?\n        !this.isRecentPointerDateSelect // a new pointer-initiated date selection since last onDocumentPointerUp?\n        ) {\n          let unselectAuto = context.options.unselectAuto;\n          if (unselectAuto && (!unselectAuto || !this.matchesCancel)) {\n            context.calendarApi.unselect(pev);\n          }\n        }\n        if (calendarState.eventSelection &&\n        // an existing event selected?\n        !this.matchesEvent // interaction DIDN'T start on an event\n        ) {\n          context.dispatch({\n            type: 'UNSELECT_EVENT'\n          });\n        }\n      }\n      this.isRecentPointerDateSelect = false;\n    };\n    let documentPointer = this.documentPointer = new PointerDragging(document);\n    documentPointer.shouldIgnoreMove = true;\n    documentPointer.shouldWatchScroll = false;\n    documentPointer.emitter.on('pointerdown', this.onDocumentPointerDown);\n    documentPointer.emitter.on('pointerup', this.onDocumentPointerUp);\n    /*\n    TODO: better way to know about whether there was a selection with the pointer\n    */\n    context.emitter.on('select', this.onSelect);\n  }\n  destroy() {\n    this.context.emitter.off('select', this.onSelect);\n    this.documentPointer.destroy();\n  }\n}\nconst OPTION_REFINERS = {\n  fixedMirrorParent: identity\n};\nconst LISTENER_REFINERS = {\n  dateClick: identity,\n  eventDragStart: identity,\n  eventDragStop: identity,\n  eventDrop: identity,\n  eventResizeStart: identity,\n  eventResizeStop: identity,\n  eventResize: identity,\n  drop: identity,\n  eventReceive: identity,\n  eventLeave: identity\n};\n\n/*\nGiven an already instantiated draggable object for one-or-more elements,\nInterprets any dragging as an attempt to drag an events that lives outside\nof a calendar onto a calendar.\n*/\nclass ExternalElementDragging {\n  constructor(dragging, suppliedDragMeta) {\n    this.receivingContext = null;\n    this.droppableEvent = null; // will exist for all drags, even if create:false\n    this.suppliedDragMeta = null;\n    this.dragMeta = null;\n    this.handleDragStart = ev => {\n      this.dragMeta = this.buildDragMeta(ev.subjectEl);\n    };\n    this.handleHitUpdate = (hit, isFinal, ev) => {\n      let {\n        dragging\n      } = this.hitDragging;\n      let receivingContext = null;\n      let droppableEvent = null;\n      let isInvalid = false;\n      let interaction = {\n        affectedEvents: createEmptyEventStore(),\n        mutatedEvents: createEmptyEventStore(),\n        isEvent: this.dragMeta.create\n      };\n      if (hit) {\n        receivingContext = hit.context;\n        if (this.canDropElOnCalendar(ev.subjectEl, receivingContext)) {\n          droppableEvent = computeEventForDateSpan(hit.dateSpan, this.dragMeta, receivingContext);\n          interaction.mutatedEvents = eventTupleToStore(droppableEvent);\n          isInvalid = !isInteractionValid(interaction, hit.dateProfile, receivingContext);\n          if (isInvalid) {\n            interaction.mutatedEvents = createEmptyEventStore();\n            droppableEvent = null;\n          }\n        }\n      }\n      this.displayDrag(receivingContext, interaction);\n      // show mirror if no already-rendered mirror element OR if we are shutting down the mirror (?)\n      // TODO: wish we could somehow wait for dispatch to guarantee render\n      dragging.setMirrorIsVisible(isFinal || !droppableEvent || !document.querySelector('.fc-event-mirror'));\n      if (!isInvalid) {\n        enableCursor();\n      } else {\n        disableCursor();\n      }\n      if (!isFinal) {\n        dragging.setMirrorNeedsRevert(!droppableEvent);\n        this.receivingContext = receivingContext;\n        this.droppableEvent = droppableEvent;\n      }\n    };\n    this.handleDragEnd = pev => {\n      let {\n        receivingContext,\n        droppableEvent\n      } = this;\n      this.clearDrag();\n      if (receivingContext && droppableEvent) {\n        let finalHit = this.hitDragging.finalHit;\n        let finalView = finalHit.context.viewApi;\n        let dragMeta = this.dragMeta;\n        receivingContext.emitter.trigger('drop', Object.assign(Object.assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)), {\n          draggedEl: pev.subjectEl,\n          jsEvent: pev.origEvent,\n          view: finalView\n        }));\n        if (dragMeta.create) {\n          let addingEvents = eventTupleToStore(droppableEvent);\n          receivingContext.dispatch({\n            type: 'MERGE_EVENTS',\n            eventStore: addingEvents\n          });\n          if (pev.isTouch) {\n            receivingContext.dispatch({\n              type: 'SELECT_EVENT',\n              eventInstanceId: droppableEvent.instance.instanceId\n            });\n          }\n          // signal that an external event landed\n          receivingContext.emitter.trigger('eventReceive', {\n            event: new EventImpl(receivingContext, droppableEvent.def, droppableEvent.instance),\n            relatedEvents: [],\n            revert() {\n              receivingContext.dispatch({\n                type: 'REMOVE_EVENTS',\n                eventStore: addingEvents\n              });\n            },\n            draggedEl: pev.subjectEl,\n            view: finalView\n          });\n        }\n      }\n      this.receivingContext = null;\n      this.droppableEvent = null;\n    };\n    let hitDragging = this.hitDragging = new HitDragging(dragging, interactionSettingsStore);\n    hitDragging.requireInitial = false; // will start outside of a component\n    hitDragging.emitter.on('dragstart', this.handleDragStart);\n    hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n    hitDragging.emitter.on('dragend', this.handleDragEnd);\n    this.suppliedDragMeta = suppliedDragMeta;\n  }\n  buildDragMeta(subjectEl) {\n    if (typeof this.suppliedDragMeta === 'object') {\n      return parseDragMeta(this.suppliedDragMeta);\n    }\n    if (typeof this.suppliedDragMeta === 'function') {\n      return parseDragMeta(this.suppliedDragMeta(subjectEl));\n    }\n    return getDragMetaFromEl(subjectEl);\n  }\n  displayDrag(nextContext, state) {\n    let prevContext = this.receivingContext;\n    if (prevContext && prevContext !== nextContext) {\n      prevContext.dispatch({\n        type: 'UNSET_EVENT_DRAG'\n      });\n    }\n    if (nextContext) {\n      nextContext.dispatch({\n        type: 'SET_EVENT_DRAG',\n        state\n      });\n    }\n  }\n  clearDrag() {\n    if (this.receivingContext) {\n      this.receivingContext.dispatch({\n        type: 'UNSET_EVENT_DRAG'\n      });\n    }\n  }\n  canDropElOnCalendar(el, receivingContext) {\n    let dropAccept = receivingContext.options.dropAccept;\n    if (typeof dropAccept === 'function') {\n      return dropAccept.call(receivingContext.calendarApi, el);\n    }\n    if (typeof dropAccept === 'string' && dropAccept) {\n      return Boolean(elementMatches(el, dropAccept));\n    }\n    return true;\n  }\n}\n// Utils for computing event store from the DragMeta\n// ----------------------------------------------------------------------------------------------------\nfunction computeEventForDateSpan(dateSpan, dragMeta, context) {\n  let defProps = Object.assign({}, dragMeta.leftoverProps);\n  for (let transform of context.pluginHooks.externalDefTransforms) {\n    Object.assign(defProps, transform(dateSpan, dragMeta));\n  }\n  let {\n    refined,\n    extra\n  } = refineEventDef(defProps, context);\n  let def = parseEventDef(refined, extra, dragMeta.sourceId, dateSpan.allDay, context.options.forceEventDuration || Boolean(dragMeta.duration),\n  // hasEnd\n  context);\n  let start = dateSpan.range.start;\n  // only rely on time info if drop zone is all-day,\n  // otherwise, we already know the time\n  if (dateSpan.allDay && dragMeta.startTime) {\n    start = context.dateEnv.add(start, dragMeta.startTime);\n  }\n  let end = dragMeta.duration ? context.dateEnv.add(start, dragMeta.duration) : getDefaultEventEnd(dateSpan.allDay, start, context);\n  let instance = createEventInstance(def.defId, {\n    start,\n    end\n  });\n  return {\n    def,\n    instance\n  };\n}\n// Utils for extracting data from element\n// ----------------------------------------------------------------------------------------------------\nfunction getDragMetaFromEl(el) {\n  let str = getEmbeddedElData(el, 'event');\n  let obj = str ? JSON.parse(str) : {\n    create: false\n  }; // if no embedded data, assume no event creation\n  return parseDragMeta(obj);\n}\nconfig.dataAttrPrefix = '';\nfunction getEmbeddedElData(el, name) {\n  let prefix = config.dataAttrPrefix;\n  let prefixedName = (prefix ? prefix + '-' : '') + name;\n  return el.getAttribute('data-' + prefixedName) || '';\n}\n\n/*\nMakes an element (that is *external* to any calendar) draggable.\nCan pass in data that determines how an event will be created when dropped onto a calendar.\nLeverages FullCalendar's internal drag-n-drop functionality WITHOUT a third-party drag system.\n*/\nclass ExternalDraggable {\n  constructor(el) {\n    let settings = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.handlePointerDown = ev => {\n      let {\n        dragging\n      } = this;\n      let {\n        minDistance,\n        longPressDelay\n      } = this.settings;\n      dragging.minDistance = minDistance != null ? minDistance : ev.isTouch ? 0 : BASE_OPTION_DEFAULTS.eventDragMinDistance;\n      dragging.delay = ev.isTouch ?\n      // TODO: eventually read eventLongPressDelay instead vvv\n      longPressDelay != null ? longPressDelay : BASE_OPTION_DEFAULTS.longPressDelay : 0;\n    };\n    this.handleDragStart = ev => {\n      if (ev.isTouch && this.dragging.delay && ev.subjectEl.classList.contains('fc-event')) {\n        this.dragging.mirror.getMirrorEl().classList.add('fc-event-selected');\n      }\n    };\n    this.settings = settings;\n    let dragging = this.dragging = new FeaturefulElementDragging(el);\n    dragging.touchScrollAllowed = false;\n    if (settings.itemSelector != null) {\n      dragging.pointer.selector = settings.itemSelector;\n    }\n    if (settings.appendTo != null) {\n      dragging.mirror.parentNode = settings.appendTo; // TODO: write tests\n    }\n\n    dragging.emitter.on('pointerdown', this.handlePointerDown);\n    dragging.emitter.on('dragstart', this.handleDragStart);\n    new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n  }\n\n  destroy() {\n    this.dragging.destroy();\n  }\n}\n\n/*\nDetects when a *THIRD-PARTY* drag-n-drop system interacts with elements.\nThe third-party system is responsible for drawing the visuals effects of the drag.\nThis class simply monitors for pointer movements and fires events.\nIt also has the ability to hide the moving element (the \"mirror\") during the drag.\n*/\nclass InferredElementDragging extends ElementDragging {\n  constructor(containerEl) {\n    super(containerEl);\n    this.shouldIgnoreMove = false;\n    this.mirrorSelector = '';\n    this.currentMirrorEl = null;\n    this.handlePointerDown = ev => {\n      this.emitter.trigger('pointerdown', ev);\n      if (!this.shouldIgnoreMove) {\n        // fire dragstart right away. does not support delay or min-distance\n        this.emitter.trigger('dragstart', ev);\n      }\n    };\n    this.handlePointerMove = ev => {\n      if (!this.shouldIgnoreMove) {\n        this.emitter.trigger('dragmove', ev);\n      }\n    };\n    this.handlePointerUp = ev => {\n      this.emitter.trigger('pointerup', ev);\n      if (!this.shouldIgnoreMove) {\n        // fire dragend right away. does not support a revert animation\n        this.emitter.trigger('dragend', ev);\n      }\n    };\n    let pointer = this.pointer = new PointerDragging(containerEl);\n    pointer.emitter.on('pointerdown', this.handlePointerDown);\n    pointer.emitter.on('pointermove', this.handlePointerMove);\n    pointer.emitter.on('pointerup', this.handlePointerUp);\n  }\n  destroy() {\n    this.pointer.destroy();\n  }\n  setIgnoreMove(bool) {\n    this.shouldIgnoreMove = bool;\n  }\n  setMirrorIsVisible(bool) {\n    if (bool) {\n      // restore a previously hidden element.\n      // use the reference in case the selector class has already been removed.\n      if (this.currentMirrorEl) {\n        this.currentMirrorEl.style.visibility = '';\n        this.currentMirrorEl = null;\n      }\n    } else {\n      let mirrorEl = this.mirrorSelector\n      // TODO: somehow query FullCalendars WITHIN shadow-roots\n      ? document.querySelector(this.mirrorSelector) : null;\n      if (mirrorEl) {\n        this.currentMirrorEl = mirrorEl;\n        mirrorEl.style.visibility = 'hidden';\n      }\n    }\n  }\n}\n\n/*\nBridges third-party drag-n-drop systems with FullCalendar.\nMust be instantiated and destroyed by caller.\n*/\nclass ThirdPartyDraggable {\n  constructor(containerOrSettings, settings) {\n    let containerEl = document;\n    if (\n    // wish we could just test instanceof EventTarget, but doesn't work in IE11\n    containerOrSettings === document || containerOrSettings instanceof Element) {\n      containerEl = containerOrSettings;\n      settings = settings || {};\n    } else {\n      settings = containerOrSettings || {};\n    }\n    let dragging = this.dragging = new InferredElementDragging(containerEl);\n    if (typeof settings.itemSelector === 'string') {\n      dragging.pointer.selector = settings.itemSelector;\n    } else if (containerEl === document) {\n      dragging.pointer.selector = '[data-event]';\n    }\n    if (typeof settings.mirrorSelector === 'string') {\n      dragging.mirrorSelector = settings.mirrorSelector;\n    }\n    new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n  }\n\n  destroy() {\n    this.dragging.destroy();\n  }\n}\nvar index = createPlugin({\n  name: '@fullcalendar/interaction',\n  componentInteractions: [DateClicking, DateSelecting, EventDragging, EventResizing],\n  calendarInteractions: [UnselectAuto],\n  elementDraggingImpl: FeaturefulElementDragging,\n  optionRefiners: OPTION_REFINERS,\n  listenerRefiners: LISTENER_REFINERS\n});\nexport { ExternalDraggable as Draggable, ThirdPartyDraggable, index as default };","import { JsonRequestError, createPlugin } from '@fullcalendar/core/index.js';\nimport { requestJson, addDays, identity } from '@fullcalendar/core/internal.js';\n\n// TODO: expose somehow\nconst API_BASE = 'https://www.googleapis.com/calendar/v3/calendars';\nconst eventSourceDef = {\n  parseMeta(refined) {\n    let {\n      googleCalendarId\n    } = refined;\n    if (!googleCalendarId && refined.url) {\n      googleCalendarId = parseGoogleCalendarId(refined.url);\n    }\n    if (googleCalendarId) {\n      return {\n        googleCalendarId,\n        googleCalendarApiKey: refined.googleCalendarApiKey,\n        googleCalendarApiBase: refined.googleCalendarApiBase,\n        extraParams: refined.extraParams\n      };\n    }\n    return null;\n  },\n  fetch(arg, successCallback, errorCallback) {\n    let {\n      dateEnv,\n      options\n    } = arg.context;\n    let meta = arg.eventSource.meta;\n    let apiKey = meta.googleCalendarApiKey || options.googleCalendarApiKey;\n    if (!apiKey) {\n      errorCallback(new Error('Specify a googleCalendarApiKey. See https://fullcalendar.io/docs/google-calendar'));\n    } else {\n      let url = buildUrl(meta);\n      // TODO: make DRY with json-feed-event-source\n      let {\n        extraParams\n      } = meta;\n      let extraParamsObj = typeof extraParams === 'function' ? extraParams() : extraParams;\n      let requestParams = buildRequestParams(arg.range, apiKey, extraParamsObj, dateEnv);\n      return requestJson('GET', url, requestParams).then(_ref => {\n        let [body, response] = _ref;\n        if (body.error) {\n          errorCallback(new JsonRequestError('Google Calendar API: ' + body.error.message, response));\n        } else {\n          successCallback({\n            rawEvents: gcalItemsToRawEventDefs(body.items, requestParams.timeZone),\n            response\n          });\n        }\n      }, errorCallback);\n    }\n  }\n};\nfunction parseGoogleCalendarId(url) {\n  let match;\n  // detect if the ID was specified as a single string.\n  // will match calendars like \"asdf1234@calendar.google.com\" in addition to person email calendars.\n  if (/^[^/]+@([^/.]+\\.)*(google|googlemail|gmail)\\.com$/.test(url)) {\n    return url;\n  }\n  if ((match = /^https:\\/\\/www.googleapis.com\\/calendar\\/v3\\/calendars\\/([^/]*)/.exec(url)) || (match = /^https?:\\/\\/www.google.com\\/calendar\\/feeds\\/([^/]*)/.exec(url))) {\n    return decodeURIComponent(match[1]);\n  }\n  return null;\n}\nfunction buildUrl(meta) {\n  let apiBase = meta.googleCalendarApiBase;\n  if (!apiBase) {\n    apiBase = API_BASE;\n  }\n  return apiBase + '/' + encodeURIComponent(meta.googleCalendarId) + '/events';\n}\nfunction buildRequestParams(range, apiKey, extraParams, dateEnv) {\n  let params;\n  let startStr;\n  let endStr;\n  if (dateEnv.canComputeOffset) {\n    // strings will naturally have offsets, which GCal needs\n    startStr = dateEnv.formatIso(range.start);\n    endStr = dateEnv.formatIso(range.end);\n  } else {\n    // when timezone isn't known, we don't know what the UTC offset should be, so ask for +/- 1 day\n    // from the UTC day-start to guarantee we're getting all the events\n    // (start/end will be UTC-coerced dates, so toISOString is okay)\n    startStr = addDays(range.start, -1).toISOString();\n    endStr = addDays(range.end, 1).toISOString();\n  }\n  params = Object.assign(Object.assign({}, extraParams || {}), {\n    key: apiKey,\n    timeMin: startStr,\n    timeMax: endStr,\n    singleEvents: true,\n    maxResults: 9999\n  });\n  if (dateEnv.timeZone !== 'local') {\n    params.timeZone = dateEnv.timeZone;\n  }\n  return params;\n}\nfunction gcalItemsToRawEventDefs(items, gcalTimezone) {\n  return items.map(item => gcalItemToRawEventDef(item, gcalTimezone));\n}\nfunction gcalItemToRawEventDef(item, gcalTimezone) {\n  let url = item.htmlLink || null;\n  // make the URLs for each event show times in the correct timezone\n  if (url && gcalTimezone) {\n    url = injectQsComponent(url, 'ctz=' + gcalTimezone);\n  }\n  return {\n    id: item.id,\n    title: item.summary,\n    start: item.start.dateTime || item.start.date,\n    end: item.end.dateTime || item.end.date,\n    url,\n    location: item.location,\n    description: item.description,\n    attachments: item.attachments || [],\n    extendedProps: (item.extendedProperties || {}).shared || {}\n  };\n}\n// Injects a string like \"arg=value\" into the querystring of a URL\n// TODO: move to a general util file?\nfunction injectQsComponent(url, component) {\n  // inject it after the querystring but before the fragment\n  return url.replace(/(\\?.*?)?(#|$)/, (whole, qs, hash) => (qs ? qs + '&' : '?') + component + hash);\n}\nconst OPTION_REFINERS = {\n  googleCalendarApiKey: String\n};\nconst EVENT_SOURCE_REFINERS = {\n  googleCalendarApiKey: String,\n  googleCalendarId: String,\n  googleCalendarApiBase: String,\n  extraParams: identity\n};\nvar index = createPlugin({\n  name: '@fullcalendar/google-calendar',\n  eventSourceDefs: [eventSourceDef],\n  optionRefiners: OPTION_REFINERS,\n  eventSourceRefiners: EVENT_SOURCE_REFINERS\n});\nexport { index as default };","import styled from \"styled-components\";\n\nexport const TableWrapper = styled.div`\n\toverflow-x: auto;\n\n\t.meetings-table-subtitle {\n        margin-bottom: 1rem;\n    }\n\ttable {\n\t\tborder-spacing: 0;\n\t\twidth: 100%;\n\t\tmargin-bottom: 2rem;\n\t\n\t\ttd {\n\t\t\tpadding: 0.3rem;\n\t\t\theight: 4rem;\n\t\t\tcolor: ${props => props.theme.text};\n\t\t\tbackground-color: ${props => props.theme.grey151515OneToWhiteOne};\n\t\t\ttext-align: center;\n\t\t\tfont-size: 0.9rem;\n\t\t\tline-height: .9rem;\n\t\t\tfont-weight: 400;\n\t\t\tborder-bottom: 1px solid #efefef;\n\t\t\ttransition: 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);\n\t\t\ta {\n\t\t\t\tcolor: ${props => props.theme.text};\n\t\t\t\ttransition: 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);\n\t\t\t\t&:hover {\n\t\t\t\t\tcolor: ${props => props.theme.greyB4B4B4ToGrey505050};\n\t\t\t\t}\n\t\t\t}\n\t\t\t:first-child {\n\t\t\t\tbackground-color: ${props => props.theme.blackOneToBlackZeroFive};\n\t\t\t\tfont-weight: 600;\n\t\t\t}\n\t\t}\n\t\tth {\n\t\t\tbackground-color: ${props => props.theme.green00D3A9ToGreen00B39F};\n\t\t\tcolor: ${props => props.theme.white};\n\t\t\theight: 4rem;\n\t\t\tfont-weight: 600;\n\t\t\tfont-size: 1rem;\n\t\t\tline-height: 1rem;\n\t\t\ttransition: 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);\n\t\t}\n\t\n\t\ttr {\n\t\t\ttd {\n\t\t\t}\n\t\t\t:nth-last-child(-n+2) {\n\t\t\t\ttd:first-child {\n\t\t\t\t\tfont-style: italic;\n\t\t\t\t}\n\t\t\t}\n\t\t\t/* Highlight Community Calendar */\n\t\t\t:nth-child(4) {\n\t\t\t\tbackground: ${props => props.theme.greyFiveToBlueFive};\n\t\t\t}\n\t\t\t&:hover {\n\t\t\t\tbackground-color: ${props => props.theme.grey323232ToGreenF3FFFD};\n\t\t\t\tborder-color:  ${props => props.theme.shadowColor};\n\t\t\t}\n\t\t}\n\t}\n`;\n","import React from \"react\";\nimport { useTable } from \"react-table\";\nimport { TableWrapper } from \"./MeetInfoTable.style\";\n\nconst Table = ({ columns, data }) => {\n  const {\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n    rows,\n    prepareRow,\n  } = useTable({\n    columns,\n    data,\n  });\n\n  return (\n    <TableWrapper>\n      <h1 className=\"meetings-table-title\">\n        <a href=\"#meetings\">Layer5 Meetings</a>\n      </h1>\n      <h3 className=\"meetings-table-subtitle\">\n        Everyone is welcome to join. Engage!\n      </h3>\n      <table name=\"meetings\" id=\"meetings\" {...getTableProps()}>\n        <thead>\n          {headerGroups.map((headerGroup) => (\n            <tr key={\"table-header\"} {...headerGroup.getHeaderGroupProps()}>\n              {headerGroup.headers.map((column) => (\n                <th key={column} {...column.getHeaderProps()}>\n                  {column.render(\"Header\")}\n                </th>\n              ))}\n            </tr>\n          ))}\n        </thead>\n        <tbody {...getTableBodyProps()}>\n          {rows.map((row, i) => {\n            prepareRow(row);\n            return (\n              <tr key={`row${i}`} {...row.getRowProps()}>\n                {row.cells.map((cell, index) => {\n                  {\n                    return (\n                      <td key={index} {...cell.getCellProps()}>\n                        {cell.render(\"Cell\")}\n                      </td>\n                    );\n                  }\n                })}\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    </TableWrapper>\n  );\n};\n\nexport default Table;\n","export const meet_links_data = [\n  {\n    day: \"Mondays\",\n    meeting: \"Layer5 Websites Meeting\",\n    slack_channel: \"#websites\",\n    slack_link: \"https://layer5io.slack.com/archives/C015QJKUMPU\",\n    meeting_minutes: \"https://bit.ly/2XK4eQV\",\n    meeting_link: \"https://meet.layer5.io/websites\",\n    meeting_recordings: \"https://www.youtube.com/watch?v=Zba0b0ZojOI&list=PL3A-A6hPO2IO1ZuLj3cbOTdi-hlkF4Lqu\",\n  },\n  {\n    day: \"Mondays\",\n    meeting: \"WebAssembly Filters Meeting\",\n    slack_channel: \"#wasm\",\n    slack_link: \"https://layer5io.slack.com/archives/C012UMS2MCM\",\n    meeting_minutes: \"https://bit.ly/3zGZgGg\",\n    meeting_link: \"https://meet.layer5.io/wasm\",\n    meeting_recordings: \"https://www.youtube.com/playlist?list=PL3A-A6hPO2IOur7idhSAUf6hySLn-hdVD\",\n  },\n  {\n    day: \"Tuesdays\",\n    meeting: \"Meshery MeshSync/MeshMap Meeting\",\n    slack_channel: \"#meshery-ci\",\n    slack_link: \"https://layer5io.slack.com/archives/C010LFFGFFA\",\n    meeting_minutes: \"https://bit.ly/3aXOaAs\",\n    meeting_link: \"https://meet.layer5.io/meshmap\",\n    meeting_recordings: \"https://www.youtube.com/playlist?list=PL3A-A6hPO2IMPPqVjuzgqNU5xwnFFn3n0\",\n  },\n  {\n    day: \"Wednesdays\",\n    meeting: \"Meshery Development Meeting\",\n    slack_channel: \"#meshery\",\n    slack_link: \"https://layer5io.slack.com/archives/CFGG6U10E\",\n    meeting_minutes: \"https://bit.ly/31OGQTk\",\n    meeting_link: \"https://meet.layer5.io/meshery\",\n    meeting_recordings: \"https://www.youtube.com/playlist?list=PL3A-A6hPO2IMPPqVjuzgqNU5xwnFFn3n0\",\n  },\n  {\n    day: \"2nd & 4th Thursday\",\n    meeting: \"Meshery CI Meeting\",\n    slack_channel: \"#meshery-ci\",\n    slack_link: \"https://layer5io.slack.com/archives/C011VPREG2Z\",\n    meeting_minutes: \"https://docs.google.com/document/d/1GrVdGHZAYeu6wHNLLoiaKNqBtk7enXE9XeDRCvdA4bY/edit\",\n    meeting_link: \"https://meet.layer5.io/meshery-ci\",\n    meeting_recordings: \"https://www.youtube.com/playlist?list=PL3A-A6hPO2IM7rYiKxG4l3eQNc6X3IUex\",\n  },\n  {\n    day: \"Thursdays\",\n    meeting: \"Layer5 Newcomers' Meeting\",\n    slack_channel: \"#newcomers\",\n    slack_link: \"https://layer5io.slack.com/archives/C019426UBNY\",\n    meeting_minutes: \"https://docs.google.com/document/d/1aHarIyIL__HRq_4klYOUsEXP5SQLlmb50W17yKdNmpU/edit#\",\n    meeting_link: \"https://meet.layer5.io/newcomers\",\n    meeting_recordings: \"https://www.youtube.com/playlist?list=PL3A-A6hPO2IMPPqVjuzgqNU5xwnFFn3n0\",\n  },\n  {\n    day: \"Fridays\",\n    meeting: \"Layer5 Community Meeting\",\n    slack_channel: \"#general\",\n    slack_link: \"https://layer5io.slack.com/archives/CDM0ACDM5\",\n    meeting_minutes: \"https://bit.ly/2It7IA4\",\n    meeting_link: \"https://meet.layer5.io/community\",\n    meeting_recordings: \"https://www.youtube.com/playlist?list=PL3A-A6hPO2IMPPqVjuzgqNU5xwnFFn3n0\",\n  },\n  {\n    day: \"Biweekly Thursday\",\n    meeting: \"Service Mesh Performance Meeting\",\n    slack_channel: \"#performance\",\n    slack_link: \"https://layer5io.slack.com/archives/CVBGPTFJN\",\n    meeting_minutes: \"https://bit.ly/3B7uIy9\",\n    meeting_link: \"https://meet.layer5.io/smp\",\n    meeting_recordings: \"https://www.youtube.com/playlist?list=PL3A-A6hPO2IPZ3dP6FgZBAA0dZFmmX0kA\",\n  },\n  {\n    day: \"1st & 3rd Thursday\",\n    meeting: \"CNCF TAG Network Meeting\",\n    slack_channel: \"#tag-network\",\n    slack_link: \"\",\n    meeting_minutes: \"https://docs.google.com/document/d/18hYemFKK_PC_KbT_TDBUgb0rknOuIhikkRxer4_bv4Q/edit#\",\n    meeting_link: \"https://zoom.us/my/cncftagnetwork\",\n    meeting_recordings: \"https://www.youtube.com/playlist?list=PL3A-A6hPO2IMPPqVjuzgqNU5xwnFFn3n0\",\n  },\n];\n","import React from \"react\";\nimport CalendarStyleWrapper from \"./calendar.style\";\nimport FullCalendar from \"@fullcalendar/react\";\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\nimport interactionPlugin from \"@fullcalendar/interaction\";\nimport googleCalendarPlugin from \"@fullcalendar/google-calendar\";\nimport { Container, Row, Col } from \"../../../reusecore/Layout\";\nimport PageHeader from \"../../../reusecore/PageHeader\";\nimport Table from \"../../../components/MeetInfo-Table\";\nimport { meet_links_data } from \"./meetLinksData\";\nimport NewcomersMap from \"../Newcomers-guide/newcomers-map\";\nimport Button from \"../../../reusecore/Button\";\nimport { FaUsers } from \"@react-icons/all-files/fa/FaUsers\";\nimport { Link } from \"gatsby\";\n\nconst Calendar = () => {\n\n  const columns = React.useMemo(\n    () => [\n      {\n        Header: \"Meeting\",\n        accessor: \"meeting\",\n      },\n      {\n        Header: \"Day\",\n        accessor: \"day\",\n      },\n      {\n        Header: \"Slack Channel\",\n        id: \"slack_channel\",\n        accessor: meet_links_data => {\n          return (\n            <>\n              {\n                <a href={meet_links_data.slack_link}>\n                  {meet_links_data.slack_channel}\n                </a>\n              }\n            </>\n          );\n        }\n      },\n      {\n        Header: \"Meeting Minutes\",\n        id: \"meeting_minutes\",\n        accessor: meet_links_data => {\n          return (\n            <>\n              {\n                <a href={meet_links_data.meeting_minutes}>\n                  Minutes\n                </a>\n              }\n            </>\n          );\n        }\n      },\n      {\n        Header: \"Meeting Link\",\n        id: \"meeting_link\",\n        accessor: meet_links_data => {\n          return (\n            <>\n              {\n                <a href={meet_links_data.meeting_link}>\n                  Zoom\n                </a>\n              }\n            </>\n          );\n        }\n      },\n      {\n        Header: \"Meeting Recordings\",\n        id: \"meeting_recordings\",\n        accessor: meet_links_data => {\n          return (\n            <>\n              {meet_links_data.slack_channel !== \"#smi\" ?\n                <a href={meet_links_data.meeting_recordings}>\n                  YouTube\n                </a> : \"N/A\"\n              }\n            </>\n          );\n        }\n      },\n    ],\n    []\n  );\n\n  const data = React.useMemo(() => meet_links_data);\n\n  return (\n    <CalendarStyleWrapper>\n      <PageHeader\n        title=\"Community Calendar\"\n        path=\"Community > Calendar\"\n        subtitle=\"Join any or all of the weekly meetings\"\n      />\n      <div>\n        <Container>\n          <div className=\"calendar-wrapper\">\n            <div className=\"calendar-grid\">\n              <FullCalendar\n                plugins={[dayGridPlugin, interactionPlugin, googleCalendarPlugin]}\n                initialView=\"dayGridMonth\"\n                googleCalendarApiKey=\"AIzaSyDcmx-nLYfqvrfpEmVJuclwt9akayYfUgg\"\n                events={{\n                  googleCalendarId: \"layer5.io_eh2aa9dpf1g40elvoc762jnphs@group.calendar.google.com\",\n                }}\n                buttonText={{\n                  today: \"Today\"\n                }}\n                customButtons={{\n                  addToCalendar: {\n                    text: \"Add To Your Calendar\",\n                    click: function () {\n                      window.open(\"https://bit.ly/3fz1Vfs\", \"_blank\");\n                    }\n                  }\n                }}\n                headerToolbar={{\n                  left: \"prev,next today\",\n                  center: \"title\",\n                  right: \"addToCalendar\"\n                }}\n                showNonCurrentDates={false}\n                contentHeight={700}\n              />\n            </div>\n          </div>\n        </Container>\n        <Table columns={columns} data={data} />\n      </div>\n      <br />\n      <Container>\n        <Row className=\"newcomers-section\">\n          <Col xs={12} lg={6} className=\"map\">\n            <NewcomersMap />\n          </Col>\n          <Col xs={12} lg={6} className=\"text\">\n            <div>\n              <h1>Newcomers Welcome!</h1>\n              <h3>Are you new to the community?</h3>\n              <p className=\"invitation\">\n                Begin your journey by <a href=\"https://slack.layer5.io\">joining the community Slack</a>. Then, use the resources linked in our <Link to=\"/community/newcomers\">Contributor's Journey Map </Link>\n                and engage in the community and projects.\n              </p>\n              <Button primary title=\"See All Newcomers Resources\" url=\"/community/newcomers\">\n                <FaUsers size={21} className=\"icon-left\" />\n              </Button>\n            </div>\n          </Col>\n        </Row>\n      </Container>\n      <br />\n    </CalendarStyleWrapper>\n  );\n};\n\nexport default Calendar;\n"],"names":["GenIcon","module","exports","props","r","u","i","f","c","e","__b","a","__r","v","diffed","l","__c","m","unmount","b","t","shift","__P","__H","__h","forEach","k","w","__e","__v","n","__","__N","__V","o","length","push","requestAnimationFrame","j","some","filter","g","clearTimeout","cancelAnimationFrame","setTimeout","C","this","prototype","isPureReactComponent","shouldComponentUpdate","state","type","__f","ref","Symbol","for","map","then","__k","I","L","U","insertBefore","__d","D","__u","__a","__R","__O","setState","pop","forceUpdate","componentWillUnmount","render","document","createElement","fallback","children","W","delete","revealOrder","size","get","Map","reverse","set","componentDidUpdate","componentDidMount","H","Z","test","isReactComponent","Object","defineProperty","configurable","writable","value","G","event","J","K","cancelBubble","Q","defaultPrevented","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","nn","class","tn","vnode","indexOf","toLowerCase","replace","multiple","Array","isArray","selected","defaultValue","className","enumerable","$$typeof","en","s","h","parentNode","removeChild","y","arguments","call","defaultProps","p","key","constructor","d","current","_","setProperty","style","cssText","slice","addEventListener","removeEventListener","removeAttribute","setAttribute","x","context","A","P","base","T","$","debounceRendering","sort","M","__n","ownerSVGElement","N","z","nextSibling","q","S","appendChild","contextType","__E","B","sub","_sb","__s","getDerivedStateFromProps","componentWillMount","componentWillReceiveProps","componentWillUpdate","getChildContext","getSnapshotBeforeUpdate","O","localName","nodeType","createTextNode","createElementNS","is","data","childNodes","dangerouslySetInnerHTML","attributes","name","__html","innerHTML","checked","firstChild","E","F","Consumer","Provider","splice","getDerivedStateFromError","componentDidCatch","Promise","bind","resolve","MINIMAL_RAW_EN_LOCALE","code","week","dow","doy","direction","buttonText","prev","next","prevYear","nextYear","year","today","month","day","list","weekText","weekTextLong","closeHint","timeHint","eventHint","allDayText","moreLinkText","noEventsText","assign","buttonHints","unit","concat","viewHint","navLinkHint","moreLinkHint","eventCnt","createPlugin","input","id","premiumReleaseDate","Date","undefined","deps","reducers","isLoadingFuncs","contextInit","eventRefiners","eventDefMemberAdders","eventSourceRefiners","isDraggableTransformers","eventDragMutationMassagers","eventDefMutationAppliers","dateSelectionTransformers","datePointTransforms","dateSpanTransforms","views","viewPropsTransformers","isPropsValid","externalDefTransforms","viewContainerAppends","eventDropTransformers","componentInteractions","calendarInteractions","themeClasses","eventSourceDefs","cmdFormatter","recurringTypes","namedTimeZonedImpl","initialView","elementDraggingImpl","optionChangeHandlers","scrollGridImpl","listenerRefiners","optionRefiners","propSetHandlers","StandardTheme","classes","root","tableCellShaded","buttonGroup","button","buttonActive","baseIconClass","iconClasses","close","rtlIconClasses","iconOverrideOption","iconOverrideCustomButtonOption","iconOverridePrefix","computeEventSourcesLoading","eventSources","sourceId","isFetching","handleEventSources","inputs","unfoundSources","getCurrentData","_raw","dispatch","rawEvents","newInputs","inputFound","unfoundSource","newInput","calendarApi","addEventSource","ignoreRange","parseMeta","refined","events","fetch","arg","successCallback","eventSource","meta","errorCallback","dateEnv","func","range","method","String","extraParams","startParam","endParam","timeZoneParam","url","format","toUpperCase","requestParams","customRequestParams","options","params","formatIso","start","end","timeZone","buildRequestParams","_ref","response","parse","daysOfWeek","startTime","endTime","startRecur","endRecur","duration","recurringData","createMarker","allDayGuess","Boolean","typeData","expand","framingRange","clippedFramingRange","dowHash","dayMarker","endMarker","instanceStarts","instanceStart","getUTCDay","add","expandRanges","dateProfile","emitter","trigger","activeRange","view","viewApi","eventStore","hasHandlers","touchMouseIgnoreWait","ignoreMouseDepth","listenerCnt","isWindowTouchMoveCancelled","PointerDragging","containerEl","subjectEl","selector","handleSelector","shouldIgnoreMove","shouldWatchScroll","isDragging","isTouchDragging","wasTouchScroll","handleMouseDown","ev","shouldIgnoreMouse","ctrlKey","isPrimaryMouseButton","tryStart","pev","createEventFromMouse","initScrollWatch","handleMouseMove","handleMouseUp","recordCoords","cleanup","handleTouchStart","createEventFromTouch","targetEl","target","handleTouchMove","handleTouchEnd","window","handleTouchScroll","handleScroll","pageX","pageXOffset","prevScrollX","prevPageX","pageY","pageYOffset","prevScrollY","prevPageY","origEvent","isTouch","deltaX","origPageX","deltaY","origPageY","passive","onWindowTouchMove","destroy","querySubjectEl","downEl","destroyScrollWatch","cancelTouchScroll","isFirst","touches","preventDefault","ElementMirror","isVisible","sourceEl","mirrorEl","sourceElRect","body","zIndex","revertDuration","getBoundingClientRect","origScreenX","origScreenY","updateElPosition","handleMove","setIsVisible","bool","display","stop","needsRevertAnimation","callback","done","doRevertAnimation","finalSourceElRect","transition","left","top","getMirrorEl","cloneNode","userSelect","classList","position","visibility","boxSizing","width","right","height","bottom","margin","ScrollGeomCache","scrollController","doesListening","super","scrollTop","getScrollTop","scrollLeft","getScrollLeft","handleScrollChange","origScrollTop","origScrollLeft","scrollWidth","getScrollWidth","scrollHeight","getScrollHeight","clientWidth","getClientWidth","clientHeight","getClientHeight","clientRect","computeClientRect","getEventTarget","setScrollTop","Math","max","min","getMaxScrollTop","setScrollLeft","getMaxScrollLeft","ElementScrollGeomCache","el","WindowScrollGeomCache","getTime","performance","now","AutoScroller","isEnabled","scrollQuery","edgeThreshold","maxVelocity","pointerScreenX","pointerScreenY","isAnimating","scrollCaches","everMovedUp","everMovedDown","everMovedLeft","everMovedRight","animate","edge","computeBestEdge","handleSide","msSinceRequest","requestAnimation","scrollStartEl","buildCaches","yDelta","xDelta","scrollCache","seconds","invDistance","distance","velocity","sign","bestSide","rect","leftDist","rightDist","topDist","bottomDist","canScrollUp","canScrollDown","canScrollLeft","canScrollRight","queryScrollEls","els","query","getRootNode","querySelectorAll","FeaturefulElementDragging","delay","minDistance","touchScrollAllowed","mirrorNeedsRevert","isInteracting","isDelayEnded","isDistanceSurpassed","delayTimeoutId","onPointerDown","pointer","mirror","startDelay","handleDistanceSurpassed","onPointerMove","distanceSq","autoScroller","onPointerUp","tryStopDrag","on","handleDelayEnd","tryStartDrag","stopDrag","setIgnoreMove","setMirrorIsVisible","setMirrorNeedsRevert","setAutoScrollEnabled","OffsetTracker","origRect","scrollEl","computeLeft","computeTop","isWithinClipping","point","isIgnoredClipping","node","tagName","HitDragging","dragging","droppableStore","useSubjectCenter","requireInitial","initialHit","movingHit","finalHit","handlePointerDown","prepareHits","processFirstCoord","handleDragStart","handleDragMove","handlePointerUp","releaseHits","handleDragEnd","subjectRect","origPoint","adjustedPoint","HTMLElement","queryHitForOffset","slicedSubjectRect","coordAdjust","forceHandle","hit","isHitsEqual","offsetTrackers","interactionSettings","component","offsetLeft","offsetTop","bestHit","offsetTracker","originLeft","originTop","positionLeft","positionTop","queryHit","dateSpan","layer","componentId","hit0","hit1","buildDatePointApiWithContext","transform","pluginHooks","span","date","toDate","dateStr","omitTime","allDay","DateClicking","settings","isValidDateDownEl","hitDragging","dayEl","jsEvent","DateSelecting","dragSelection","canSelect","selectable","selectLongPressDelay","longPressDelay","getComponentTouchDelay$1","unselect","handleHitUpdate","isFinal","isInvalid","isHitComboAllowed","dateSpan0","dateSpan1","ms","transformer","res","joinHitsIntoSelection","selection","selectMinDistance","dragScroll","EventDragging","subjectSeg","eventRange","relevantEvents","receivingContext","validMutation","mutatedRelevantEvents","origTarget","initialContext","eventInstanceId","instance","instanceId","eventDragMinDistance","eventSelection","eventLongPressDelay","getComponentTouchDelay","fixedMirrorParent","dragRevertDuration","isValid","isValidSegDownEl","contains","def","mutation","interaction","affectedEvents","mutatedEvents","isEvent","receivingOptions","editable","droppable","massagers","date0","date1","standardProps","hasEnd","allDayMaintainDuration","delta","largeUnit","milliseconds","datesDelta","massager","computeEventMutation","eventUiBases","displayDrag","querySelector","eventDef","eventInstance","eventApi","clearDrag","updatedEventApi","defs","defId","instances","eventChangeArg","oldEvent","relatedEvents","revert","transformed","eventRemoveArg","draggedEl","addedEventDef","addedEventInstance","addedEventApi","eventAddArg","SELECTOR","useEventCenter","nextContext","prevContext","initialCalendar","EventResizing","draggingSegEl","draggingSeg","segEl","querySegEl","seg","isFromStart","instanceRange","startDelta","endDelta","computeMutation","OPTION_REFINERS","LISTENER_REFINERS","dateClick","eventDragStart","eventDragStop","eventDrop","eventResizeStart","eventResizeStop","eventResize","drop","eventReceive","eventLeave","dataAttrPrefix","index","isRecentPointerDateSelect","matchesCancel","matchesEvent","onSelect","selectInfo","onDocumentPointerDown","unselectCancel","onDocumentPointerUp","documentPointer","calendarState","dateSelection","unselectAuto","off","API_BASE","googleCalendarId","match","exec","decodeURIComponent","parseGoogleCalendarId","googleCalendarApiKey","googleCalendarApiBase","apiKey","apiBase","encodeURIComponent","buildUrl","extraParamsObj","startStr","endStr","canComputeOffset","toISOString","timeMin","timeMax","singleEvents","maxResults","items","gcalTimezone","error","message","item","htmlLink","whole","qs","hash","injectQsComponent","title","summary","dateTime","location","description","attachments","extendedProps","extendedProperties","shared","gcalItemToRawEventDef","Error","TableWrapper","styled","div","withConfig","displayName","theme","text","grey151515OneToWhiteOne","greyB4B4B4ToGrey505050","blackOneToBlackZeroFive","green00D3A9ToGreen00B39F","white","greyFiveToBlueFive","grey323232ToGreenF3FFFD","shadowColor","columns","getTableProps","getTableBodyProps","headerGroups","rows","prepareRow","useTable","React","href","headerGroup","getHeaderGroupProps","headers","column","getHeaderProps","row","getRowProps","cells","cell","getCellProps","meet_links_data","meeting","slack_channel","slack_link","meeting_minutes","meeting_link","meeting_recordings","Calendar","Header","accessor","CalendarStyleWrapper","PageHeader","path","subtitle","Container","FullCalendar","plugins","dayGridPlugin","interactionPlugin","googleCalendarPlugin","customButtons","addToCalendar","click","open","headerToolbar","center","showNonCurrentDates","contentHeight","Table","Row","Col","xs","lg","NewcomersMap","Link","to","Button","primary","FaUsers"],"sourceRoot":""}